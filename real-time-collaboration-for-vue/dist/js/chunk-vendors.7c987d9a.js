(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"002b":function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t){super(),this["threads"]=t}["toJSON"](){return{threads:this["threads"]["map"](t=>JSON["stringify"](t))}}static get["DESCRIPTOR_NAME"](){return"CommentsV2GetDocumentThreadsResponse"}static get["DESCRIPTOR"](){return{fields:{threads:{type:"string",rule:"repeated",id:1}}}}static["fromJSON"](t){return new r(t["threads"]["map"](t=>JSON["parse"](t)))}}t["exports"]=r},"0066":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("6c92"),r=n("98ea"),s=n("9cf5"),o=n("ad6b"),a=n("dfe0"),c=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class l extends i["a"]{constructor(t,e,n,i){super(i),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=l.getInsertionPosition(t),this.insertionPosition.stickiness="toNone",this.graveyardPosition=n?n.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new s["a"](this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new o["a"](this.splitPosition,t)}clone(){const t=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return t.insertionPosition=this.insertionPosition,t}getReversed(){const t=this.splitPosition.root.document.graveyard,e=new s["a"](t,[0]);return new r["a"](this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new c["b"]("split-operation-position-invalid: Split position is invalid.");if(!t.parent)throw new c["b"]("split-operation-split-in-root: Cannot split root element.");if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new c["b"]("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.");if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new c["b"]("split-operation-graveyard-position-invalid: Graveyard position invalid.")}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)Object(a["b"])(o["a"]._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();Object(a["a"])(this.insertionPosition,e)}const e=new o["a"](s["a"]._createAt(t,this.splitPosition.offset),s["a"]._createAt(t,t.maxOffset));Object(a["b"])(e,this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new s["a"](t.root,e)}static fromJSON(t,e){const n=s["a"].fromJSON(t.splitPosition,e),i=s["a"].fromJSON(t.insertionPosition,e),r=t.graveyardPosition?s["a"].fromJSON(t.graveyardPosition,e):null,o=new this(n,t.howMany,r,t.baseVersion);return o.insertionPosition=i,o}}},"01b1":function(t,e,n){"use strict";var i=e;i.Service=n("807e")},"01d3":function(t,e,n){var i=n("c9eb");t.exports=function(t){var e=t.xdomain,n=t.xscheme,r=t.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!e||i))return new XMLHttpRequest}catch(s){}try{if("undefined"!==typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(s){}if(!e)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(s){}}},"0299":function(t,e,n){"use strict";var i,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,o={},a=0,c=0;function l(t){var e="";do{e=r[t%s]+e,t=Math.floor(t/s)}while(t>0);return e}function u(t){var e=0;for(c=0;c<t.length;c++)e=e*s+o[t.charAt(c)];return e}function h(){var t=l(+new Date);return t!==i?(a=0,i=t):t+"."+l(a++)}for(;c<s;c++)o[r[c]]=c;h.encode=l,h.decode=u,t.exports=h},"0305":function(t,e,n){"use strict";var i=n("63bc"),r=function(){try{var t=Object(i["a"])(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();e["a"]=r},"031c":function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(t){return"[object Text]"==Object.prototype.toString.call(t)}n.d(e,"a",function(){return i})},"0446":function(t,e,n){"use strict";function i(t,e,n){var i=n||8192,r=i>>>1,s=null,o=i;return function(n){if(n<1||n>r)return t(n);o+n>i&&(s=t(i),o=0);var a=e.call(s,o,o+=n);return 7&o&&(o=1+(7|o)),a}}t.exports=i},"0469":function(t,e,n){"use strict";var i=n("889a"),r=n("5903"),s=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function o(t,e){t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const a={updateSourceElement(){if(!this.sourceElement)throw new s["b"]("editor-missing-sourceelement: Cannot update the source element of a detached editor.");o(this.sourceElement,this.data.get())}};var c=a,l=n("bc9b");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function u(t){if(!Object(l["a"])(t.updateSourceElement))throw new s["b"]("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.");const e=t.sourceElement;if(e&&"textarea"===e.tagName.toLowerCase()&&e.form){let n;const i=e.form,r=()=>t.updateSourceElement();Object(l["a"])(i.submit)&&(n=i.submit,i.submit=(()=>{r(),n.apply(i)})),i.addEventListener("submit",r),t.on("destroy",()=>{i.removeEventListener("submit",r),n&&(i.submit=n)})}}var h=n("1339"),d=n("29da");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function f({origin:t,originKeystrokeHandler:e,originFocusTracker:n,toolbar:i,beforeFocus:r,afterBlur:s}){n.add(i.element),e.set("Alt+F10",(t,e)=>{n.isFocused&&!i.focusTracker.isFocused&&(r&&r(),i.focus(),e())}),i.keystrokes.set("Esc",(e,n)=>{i.focusTracker.isFocused&&(t.focus(),s&&s(),n())})}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function p(t){return Array.isArray(t)?{items:t}:t?Object.assign({items:[]},t):{items:[]}}var m=n("232a");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class g{constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display="",e&&e.remove()}),this._replacedElements=[]}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class b extends d["a"]{constructor(t,e){super(t),this.view=e,this._toolbarConfig=p(t.config.get("toolbar")),this._elementReplacer=new g}get element(){return this.view.element}init(t){const e=this.editor,n=this.view,i=e.editing.view,r=n.editable,s=i.document.getRoot();r.name=s.rootName,n.render();const o=r.element;this._editableElements.set(r.name,o),this.focusTracker.add(o),n.editable.bind("isFocused").to(this.focusTracker),i.attachDomRoot(o),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){const t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.detachDomRoot(t.editable.name),t.destroy(),super.destroy()}_initToolbar(){const t=this.editor,e=this.view,n=t.editing.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,this._toolbarConfig.viewportTopOffset&&(e.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),e.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),f({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:e.toolbar})}_initPlaceholder(){const t=this.editor,e=t.editing.view,n=e.document.getRoot(),i=t.sourceElement,r=t.config.get("placeholder")||i&&"textarea"===i.tagName.toLowerCase()&&i.getAttribute("placeholder");r&&Object(m["b"])({view:e,element:n,text:r,isDirectHost:!1})}}var v=n("c38a"),w=n("5491"),y=n("ed4a");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class x extends v["a"]{constructor(t){super(t);const e=Object(y["a"])();this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:"ltr",lang:t.language,"aria-labelledby":`ck-editor__aria-label_${e}`},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(t){const e=this.t,n=new w["a"];return n.text=e("Rich Text Editor"),n.extendTemplate({attributes:{id:`ck-editor__aria-label_${t}`,class:"ck-voice-label"}}),n}}var _=n("511a"),k=n("a07d"),C=n("940e"),A=n("e805"),T=n("8073");n("da97");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const O=Object(T["a"])("px");class E extends C["a"]{constructor(t){super(t);const e=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new A["a"]({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",t=>t?"block":"none"),height:e.to("isSticky",t=>{return t?O(this._panelRect.height):null})}}}).render(),this._contentPanel=new A["a"]({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",t=>{return t?O(this._contentPanelPlaceholder.getBoundingClientRect().width):null}),top:e.to("_hasViewportTopOffset",t=>{return t?O(this.viewportTopOffset):null}),bottom:e.to("_isStickyToTheLimiter",t=>{return t?O(this.limiterBottomOffset):null}),marginLeft:e.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(k["a"].window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const t=this._panelRect=this._contentPanel.getBoundingClientRect();let e;this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:O(-k["a"].window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}var P=n("1e6e");n("6134");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class S extends x{constructor(t,e){super(t),this.stickyPanel=new E(t),this.toolbar=new P["a"](t),this.editable=new _["a"](t,e)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function R(t){return t instanceof HTMLTextAreaElement?t.value:t.innerHTML}var I=n("644e"),N=n("9a76");n.d(e,"a",function(){return j});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class j extends i["a"]{constructor(t,e){super(e),Object(N["a"])(t)&&(this.sourceElement=t),this.data.processor=new h["a"],this.model.document.createRoot(),this.ui=new b(this,new S(this.locale,this.editing.view)),u(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,e={}){return new Promise(n=>{const i=new this(t,e);n(i.initPlugins().then(()=>i.ui.init(Object(N["a"])(t)?t:null)).then(()=>{if(!Object(N["a"])(t)&&e.initialData)throw new s["b"]("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().");const n=e.initialData||M(t);return i.data.init(n)}).then(()=>i.fire("ready")).then(()=>i))})}}function M(t){return Object(N["a"])(t)?R(t):t}Object(I["a"])(j,r["a"]),Object(I["a"])(j,c)},"0523":function(t){t.exports={a:"13.1.0"}},"0568":function(t,e,n){"use strict";var i=e,r=n("bd11"),s=n("cbd3");function o(t,e,n,i){if(e.resolvedType)if(e.resolvedType instanceof r){t("switch(d%s){",i);for(var s=e.resolvedType.values,o=Object.keys(s),a=0;a<o.length;++a)e.repeated&&s[o[a]]===e.typeDefault&&t("default:"),t("case%j:",o[a])("case %i:",s[o[a]])("m%s=%j",i,s[o[a]])("break");t("}")}else t('if(typeof d%s!=="object")',i)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,n,i);else{var c=!1;switch(e.type){case"double":case"float":t("m%s=Number(d%s)",i,i);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",i,i);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",i,i);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,c)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,c?"true":"");break;case"bytes":t('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length)",i)("m%s=d%s",i,i);break;case"string":t("m%s=String(d%s)",i,i);break;case"bool":t("m%s=Boolean(d%s)",i,i);break}}return t}function a(t,e,n,i){if(e.resolvedType)e.resolvedType instanceof r?t("d%s=o.enums===String?types[%i].values[m%s]:m%s",i,n,i,i):t("d%s=types[%i].toObject(m%s,o)",i,n,i);else{var s=!1;switch(e.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,s?"true":"",i);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:t("d%s=m%s",i,i);break}}return t}i.fromObject=function(t){var e=t.fieldsArray,n=s.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!e.length)return n("return new this.ctor");n("var m=new this.ctor");for(var i=0;i<e.length;++i){var a=e[i].resolve(),c=s.safeProp(a.name);a.map?(n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),o(n,a,i,c+"[ks[i]]")("}")("}")):a.repeated?(n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),o(n,a,i,c+"[i]")("}")("}")):(a.resolvedType instanceof r||n("if(d%s!=null){",c),o(n,a,i,c),a.resolvedType instanceof r||n("}"))}return n("return m")},i.toObject=function(t){var e=t.fieldsArray.slice().sort(s.compareFieldsById);if(!e.length)return s.codegen()("return {}");for(var n=s.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],o=[],c=[],l=0;l<e.length;++l)e[l].partOf||(e[l].resolve().repeated?i:e[l].map?o:c).push(e[l]);if(i.length){for(n("if(o.arrays||o.defaults){"),l=0;l<i.length;++l)n("d%s=[]",s.safeProp(i[l].name));n("}")}if(o.length){for(n("if(o.objects||o.defaults){"),l=0;l<o.length;++l)n("d%s={}",s.safeProp(o[l].name));n("}")}if(c.length){for(n("if(o.defaults){"),l=0;l<c.length;++l){var u=c[l],h=s.safeProp(u.name);if(u.resolvedType instanceof r)n("d%s=o.enums===String?%j:%j",h,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",h)("}else")("d%s=o.longs===String?%j:%i",h,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var d="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",h,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",h,d)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",h,h)("}")}else n("d%s=%j",h,u.typeDefault)}n("}")}var f=!1;for(l=0;l<e.length;++l){u=e[l];var p=t._fieldsArray.indexOf(u);h=s.safeProp(u.name);u.map?(f||(f=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",h,h)("d%s={}",h)("for(var j=0;j<ks2.length;++j){"),a(n,u,p,h+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",h,h)("d%s=[]",h)("for(var j=0;j<m%s.length;++j){",h),a(n,u,p,h+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",h,u.name),a(n,u,p,h),u.partOf&&n("if(o.oneofs)")("d%s=%j",s.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")}},"064a":function(t,e,n){"use strict";t.exports={}},"071f":function(t,e,n){"use strict";var i=t.exports=n("6c30");function r(t,e,n){return"function"===typeof e?(n=e,e=new i.Root):e||(e=new i.Root),e.load(t,n)}function s(t,e){return e||(e=new i.Root),e.loadSync(t)}i.build="light",i.load=r,i.loadSync=s,i.encoder=n("76ab"),i.decoder=n("dd7c"),i.verifier=n("2a57"),i.converter=n("0568"),i.ReflectionObject=n("8ae5"),i.Namespace=n("7e07"),i.Root=n("ee6e"),i.Enum=n("bd11"),i.Type=n("6ecf"),i.Field=n("a6a3"),i.OneOf=n("77ea"),i.MapField=n("82e8"),i.Service=n("7474"),i.Method=n("0788"),i.Message=n("1bcb"),i.wrappers=n("f412"),i.types=n("8524"),i.util=n("cbd3"),i.ReflectionObject._configure(i.Root),i.Namespace._configure(i.Type,i.Service,i.Enum),i.Root._configure(i.Type),i.Field._configure(i.Type)},"0788":function(t,e,n){"use strict";t.exports=s;var i=n("8ae5");((s.prototype=Object.create(i.prototype)).constructor=s).className="Method";var r=n("cbd3");function s(t,e,n,s,o,a,c,l){if(r.isObject(o)?(c=o,o=a=void 0):r.isObject(a)&&(c=a,a=void 0),void 0!==e&&!r.isString(e))throw TypeError("type must be a string");if(!r.isString(n))throw TypeError("requestType must be a string");if(!r.isString(s))throw TypeError("responseType must be a string");i.call(this,t,c),this.type=e||"rpc",this.requestType=n,this.requestStream=!!o||void 0,this.responseType=s,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l}s.fromJSON=function(t,e){return new s(t,e.type,e.requestType,e.responseType,e.requestStream,e.responseStream,e.options,e.comment)},s.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return r.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",e?this.comment:void 0])},s.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),i.prototype.resolve.call(this))}},"086b":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("2c4d"),r=n("b199"),s=n("44f2"),o=n("d65e"),a=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class c{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new a["b"]("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.");if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new a["b"]("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=o["a"]._createAt(t.startPosition):this.position=o["a"]._createAt(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(t){let e,n,i;do{i=this.position,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};let a;if(n instanceof r["a"]){if(t.isAtEnd)return this.position=o["a"]._createAfter(n),this._next();a=n.data[t.offset]}else a=n.getChild(t.offset);if(a instanceof i["a"])return this.shallow?t.offset++:t=new o["a"](a,0),this.position=t,this._formatReturnValue("elementStart",a,e,t,1);if(a instanceof r["a"]){if(this.singleCharacters)return t=new o["a"](a,0),this.position=t,this._next();{let n,i=a.data.length;return a==this._boundaryEndParent?(i=this.boundaries.end.offset,n=new s["a"](a,0,i),t=o["a"]._createAfter(n)):(n=new s["a"](a,0,a.data.length),t.offset++),this.position=t,this._formatReturnValue("text",n,e,t,i)}}if("string"==typeof a){let i;if(this.singleCharacters)i=1;else{const e=n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length;i=e-t.offset}const r=new s["a"](n,t.offset,i);return t.offset+=i,this.position=t,this._formatReturnValue("text",r,e,t,i)}return t=o["a"]._createAfter(n),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};let a;if(n instanceof r["a"]){if(t.isAtStart)return this.position=o["a"]._createBefore(n),this._previous();a=n.data[t.offset-1]}else a=n.getChild(t.offset-1);if(a instanceof i["a"])return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",a,e,t,1)):(t=new o["a"](a,a.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",a,e,t));if(a instanceof r["a"]){if(this.singleCharacters)return t=new o["a"](a,a.data.length),this.position=t,this._previous();{let n,i=a.data.length;if(a==this._boundaryStartParent){const e=this.boundaries.start.offset;n=new s["a"](a,e,a.data.length-e),i=n.data.length,t=o["a"]._createBefore(n)}else n=new s["a"](a,0,a.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",n,e,t,i)}}if("string"==typeof a){let i;if(this.singleCharacters)i=1;else{const e=n===this._boundaryStartParent?this.boundaries.start.offset:0;i=t.offset-e}t.offset-=i;const r=new s["a"](n,t.offset,i);return this.position=t,this._formatReturnValue("text",r,e,t,i)}return t=o["a"]._createBefore(n),this.position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,i,r){return e instanceof s["a"]&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=o["a"]._createAfter(e.textNode):(i=o["a"]._createAfter(e.textNode),this.position=i)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=o["a"]._createBefore(e.textNode):(i=o["a"]._createBefore(e.textNode),this.position=i))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:r}}}}},"0882":function(t,e,n){(function(e){var i,r,s=n("19b7"),o=n("5a6e"),a=n("4f2a"),c=n("62fa"),l=n("0299"),u=n("34eb")("engine.io-client:websocket");if("undefined"!==typeof WebSocket)i=WebSocket;else if("undefined"!==typeof self)i=self.WebSocket||self.MozWebSocket;else try{r=n(1)}catch(f){}var h=i||r;function d(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=i&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=r),s.call(this,t)}t.exports=d,c(d,s),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new h(t,e):new h(t):new h(t,e,n)}catch(i){return this.emit("error",i)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},d.prototype.write=function(t){var n=this;this.writable=!1;for(var i=t.length,r=0,s=i;r<s;r++)(function(t){o.encodePacket(t,n.supportsBinary,function(r){if(!n.usingBrowserWebSocket){var s={};if(t.options&&(s.compress=t.options.compress),n.perMessageDeflate){var o="string"===typeof r?e.byteLength(r):r.length;o<n.perMessageDeflate.threshold&&(s.compress=!1)}}try{n.usingBrowserWebSocket?n.ws.send(r):n.ws.send(r,s)}catch(f){u("websocket closed before onclose event")}--i||a()})})(t[r]);function a(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}},d.prototype.onClose=function(){s.prototype.onClose.call(this)},d.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()},d.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=l()),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t="?"+t);var i=-1!==this.hostname.indexOf(":");return e+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+t},d.prototype.check=function(){return!!h&&!("__initialize"in h&&this.name===d.prototype.name)}}).call(this,n("b639").Buffer)},"0949":function(t,e,n){var i=n("19b7"),r=n("4f2a"),s=n("5a6e"),o=n("62fa"),a=n("0299"),c=n("34eb")("engine.io-client:polling");t.exports=u;var l=function(){var t=n("01d3"),e=new t({xdomain:!1});return null!=e.responseType}();function u(t){var e=t&&t.forceBase64;l&&!e||(this.supportsBinary=!1),i.call(this,t)}o(u,i),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(t){var e=this;function n(){c("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){c("pre-pause polling complete"),--i||n()})),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",function(){c("pre-pause writing complete"),--i||n()}))}else n()},u.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(t){var e=this;c("polling got data %s",t);var n=function(t,n,i){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var t=this;function e(){c("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},u.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},u.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=r.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t);var i=-1!==this.hostname.indexOf(":");return e+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+t}},"0978":function(t,e,n){var i=n("c8d5");function r(t){var e=i(t);return e.setHours(0,0,0,0),e}t.exports=r},"09ee":function(t,e,n){"use strict";var i=n("26ee"),r=i["a"].Uint8Array;e["a"]=r},"09f4":function(t,e,n){"use strict";var i=n("a12c");function r(t,e){var n=-1,i=null==t?0:t.length;while(++n<i)if(!1===e(t[n],n,t))break;return t}var s=r,o=n("db72"),a=n("f842"),c=n("9a4b");function l(t,e){return t&&Object(a["a"])(e,Object(c["a"])(e),t)}var u=l,h=n("e3fa");function d(t,e){return t&&Object(a["a"])(e,Object(h["a"])(e),t)}var f=d,p=n("dff1");function m(t,e){var n=-1,i=t.length;e||(e=Array(i));while(++n<i)e[n]=t[n];return e}var g=m,b=n("8cdf");function v(t,e){return Object(a["a"])(t,Object(b["a"])(t),e)}var w=v,y=n("b4f1"),x=n("52e7"),_=n("589e"),k=Object.getOwnPropertySymbols,C=k?function(t){var e=[];while(t)Object(y["a"])(e,Object(b["a"])(t)),t=Object(x["a"])(t);return e}:_["a"],A=C;function T(t,e){return Object(a["a"])(t,A(t),e)}var O=T,E=n("4c5c"),P=n("db97");function S(t){return Object(P["a"])(t,h["a"],A)}var R=S,I=n("60ce"),N=Object.prototype,j=N.hasOwnProperty;function M(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&j.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var B=M,D=n("09ee");function V(t){var e=new t.constructor(t.byteLength);return new D["a"](e).set(new D["a"](t)),e}var F=V;function L(t,e){var n=e?F(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var U=L,$=/\w*$/;function z(t){var e=new t.constructor(t.source,$.exec(t));return e.lastIndex=t.lastIndex,e}var q=z,H=n("ca54"),W=H["a"]?H["a"].prototype:void 0,J=W?W.valueOf:void 0;function Y(t){return J?Object(J.call(t)):{}}var G=Y;function K(t,e){var n=e?F(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var X=K,Q="[object Boolean]",Z="[object Date]",tt="[object Map]",et="[object Number]",nt="[object RegExp]",it="[object Set]",rt="[object String]",st="[object Symbol]",ot="[object ArrayBuffer]",at="[object DataView]",ct="[object Float32Array]",lt="[object Float64Array]",ut="[object Int8Array]",ht="[object Int16Array]",dt="[object Int32Array]",ft="[object Uint8Array]",pt="[object Uint8ClampedArray]",mt="[object Uint16Array]",gt="[object Uint32Array]";function bt(t,e,n){var i=t.constructor;switch(e){case ot:return F(t);case Q:case Z:return new i(+t);case at:return U(t,n);case ct:case lt:case ut:case ht:case dt:case ft:case pt:case mt:case gt:return X(t,n);case tt:return new i;case et:case rt:return new i(t);case nt:return q(t);case it:return new i;case st:return G(t)}}var vt=bt,wt=n("2332"),yt=Object.create,xt=function(){function t(){}return function(e){if(!Object(wt["a"])(e))return{};if(yt)return yt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),_t=xt,kt=n("a724");function Ct(t){return"function"!=typeof t.constructor||Object(kt["a"])(t)?{}:_t(Object(x["a"])(t))}var At=Ct,Tt=n("ff51"),Ot=n("58e0"),Et=n("1147"),Pt="[object Map]";function St(t){return Object(Et["a"])(t)&&Object(I["a"])(t)==Pt}var Rt=St,It=n("a2fb"),Nt=n("c6eb"),jt=Nt["a"]&&Nt["a"].isMap,Mt=jt?Object(It["a"])(jt):Rt,Bt=Mt,Dt="[object Set]";function Vt(t){return Object(Et["a"])(t)&&Object(I["a"])(t)==Dt}var Ft=Vt,Lt=Nt["a"]&&Nt["a"].isSet,Ut=Lt?Object(It["a"])(Lt):Ft,$t=Ut,zt=1,qt=2,Ht=4,Wt="[object Arguments]",Jt="[object Array]",Yt="[object Boolean]",Gt="[object Date]",Kt="[object Error]",Xt="[object Function]",Qt="[object GeneratorFunction]",Zt="[object Map]",te="[object Number]",ee="[object Object]",ne="[object RegExp]",ie="[object Set]",re="[object String]",se="[object Symbol]",oe="[object WeakMap]",ae="[object ArrayBuffer]",ce="[object DataView]",le="[object Float32Array]",ue="[object Float64Array]",he="[object Int8Array]",de="[object Int16Array]",fe="[object Int32Array]",pe="[object Uint8Array]",me="[object Uint8ClampedArray]",ge="[object Uint16Array]",be="[object Uint32Array]",ve={};function we(t,e,n,r,a,l){var h,d=e&zt,m=e&qt,b=e&Ht;if(n&&(h=a?n(t,r,a,l):n(t)),void 0!==h)return h;if(!Object(wt["a"])(t))return t;var v=Object(Tt["a"])(t);if(v){if(h=B(t),!d)return g(t,h)}else{var y=Object(I["a"])(t),x=y==Xt||y==Qt;if(Object(Ot["a"])(t))return Object(p["a"])(t,d);if(y==ee||y==Wt||x&&!a){if(h=m||x?{}:At(t),!d)return m?O(t,f(h,t)):w(t,u(h,t))}else{if(!ve[y])return a?t:{};h=vt(t,y,d)}}l||(l=new i["a"]);var _=l.get(t);if(_)return _;if(l.set(t,h),$t(t))return t.forEach(function(i){h.add(we(i,e,n,i,t,l))}),h;if(Bt(t))return t.forEach(function(i,r){h.set(r,we(i,e,n,r,t,l))}),h;var k=b?m?R:E["a"]:m?keysIn:c["a"],C=v?void 0:k(t);return s(C||t,function(i,r){C&&(r=i,i=t[r]),Object(o["a"])(h,r,we(i,e,n,r,t,l))}),h}ve[Wt]=ve[Jt]=ve[ae]=ve[ce]=ve[Yt]=ve[Gt]=ve[le]=ve[ue]=ve[he]=ve[de]=ve[fe]=ve[Zt]=ve[te]=ve[ee]=ve[ne]=ve[ie]=ve[re]=ve[se]=ve[pe]=ve[me]=ve[ge]=ve[be]=!0,ve[Kt]=ve[Xt]=ve[oe]=!1;e["a"]=we},"0a06":function(t,e,n){},"0a5e":function(t,e,n){(function(e){var i=n("0949"),r=n("62fa");t.exports=u;var s,o=/\n/g,a=/\\n/g;function c(){}function l(){return"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{}}function u(t){if(i.call(this,t),this.query=this.query||{},!s){var e=l();s=e.___eio=e.___eio||[]}this.index=s.length;var n=this;s.push(function(t){n.onData(t)}),this.query.j=this.index,"function"===typeof addEventListener&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=c)},!1)}r(u,i),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},u.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e;var i="undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},u.prototype.doWrite=function(t,e){var n=this;if(!this.form){var i,r=document.createElement("form"),s=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=c,r.method="POST",r.setAttribute("accept-charset","utf-8"),s.name="d",r.appendChild(s),document.body.appendChild(r),this.form=r,this.area=s}function l(){u(),e()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';i=document.createElement(t)}catch(e){i=document.createElement("iframe"),i.name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}this.form.action=this.uri(),u(),t=t.replace(a,"\\\n"),this.area.value=t.replace(o,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}}).call(this,n("c8ba"))},"0b3e":function(t){t.exports={a:"12.1.0"}},"0b64":function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},"0b65":function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(t){const e=t.next();return e.done?null:e.value}n.d(e,"a",function(){return i})},"0bf6":function(t,e,n){"use strict";var i=n("109b"),r=n("652f"),s=n("beb5");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o extends r["a"]{constructor(t,e){super(t),this._defaultStyle=!1,this.styles=e.reduce((t,e)=>{return t[e.name]=e,e.isDefault&&(this._defaultStyle=e.name),t},{})}refresh(){const t=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=Object(s["c"])(t),t)if(t.hasAttribute("imageStyle")){const e=t.getAttribute("imageStyle");this.value=!!this.styles[e]&&e}else this.value=this._defaultStyle;else this.value=!1}execute(t){const e=t.value,n=this.editor.model,i=n.document.selection.getSelectedElement();n.change(t=>{this.styles[e].isDefault?t.removeAttribute("imageStyle",i):t.setAttribute("imageStyle",e,i)})}}var a=n("0b65");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function c(t){return(e,n,i)=>{if(!i.consumable.consume(n.item,e.name))return;const r=u(n.attributeNewValue,t),s=u(n.attributeOldValue,t),o=i.mapper.toViewElement(n.item),a=i.writer;s&&a.removeClass(s.className,o),r&&a.addClass(r.className,o)}}function l(t){const e=t.filter(t=>!t.isDefault);return(t,n,i)=>{if(!n.modelRange)return;const r=n.viewItem,s=Object(a["a"])(n.modelRange.getItems());if(i.schema.checkAttribute(s,"imageStyle"))for(const o of e)i.consumable.consume(r,{classes:o.className})&&i.writer.setAttribute("imageStyle",o.name,s)}}function u(t,e){for(const n of e)if(n.name===t)return n}var h=n("cd4b"),d='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>',f='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',p='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',m='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const g={full:{name:"full",title:"Full size image",icon:d,isDefault:!0},side:{name:"side",title:"Side image",icon:m,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:f,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:p,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:m,className:"image-style-align-right"}},b={full:d,left:f,right:m,center:p};function v(t=[]){return t.map(w)}function w(t){if("string"==typeof t){const e=t;g[e]?t=Object.assign({},g[e]):(h["a"].warn("image-style-not-found: There is no such image style of given name.",{name:e}),t={name:e})}else if(g[t.name]){const e=g[t.name],n=Object.assign({},t);for(const i in e)t.hasOwnProperty(i)||(n[i]=e[i]);t=n}return"string"==typeof t.icon&&b[t.icon]&&(t.icon=b[t.icon]),t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class y extends i["a"]{static get pluginName(){return"ImageStyleEditing"}init(){const t=this.editor,e=t.model.schema,n=t.data,i=t.editing;t.config.define("image.styles",["full","side"]);const r=v(t.config.get("image.styles"));e.extend("image",{allowAttributes:"imageStyle"});const s=c(r);i.downcastDispatcher.on("attribute:imageStyle:image",s),n.downcastDispatcher.on("attribute:imageStyle:image",s),n.upcastDispatcher.on("element:figure",l(r),{priority:"low"}),t.commands.add("imageStyle",new o(t,r))}}var x=n("3707");n("7201");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class _ extends i["a"]{static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=this.editor,e=t.config.get("image.styles"),n=k(v(e),this.localizedDefaultStylesTitles);for(const i of n)this._createButton(i)}_createButton(t){const e=this.editor,n=`imageStyle:${t.name}`;e.ui.componentFactory.add(n,n=>{const i=e.commands.get("imageStyle"),r=new x["a"](n);return r.set({label:t.title,icon:t.icon,tooltip:!0}),r.bind("isEnabled").to(i,"isEnabled"),r.bind("isOn").to(i,"value",e=>e===t.name),this.listenTo(r,"execute",()=>e.execute("imageStyle",{value:t.name})),r})}}function k(t,e){for(const n of t)e[n.title]&&(n.title=e[n.title]);return t}n.d(e,"a",function(){return C});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class C extends i["a"]{static get requires(){return[y,_]}static get pluginName(){return"ImageStyle"}}},"0c83":function(t,e,n){"use strict";t.exports=h;var i,r=n("e938"),s=r.LongBits,o=r.base64,a=r.utf8;function c(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function l(){}function u(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function h(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}function d(t,e,n){e[n]=255&t}function f(t,e,n){while(t>127)e[n++]=127&t|128,t>>>=7;e[n]=t}function p(t,e){this.len=t,this.next=void 0,this.val=e}function m(t,e,n){while(t.hi)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;while(t.lo>127)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function g(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}h.create=r.Buffer?function(){return(h.create=function(){return new i})()}:function(){return new h},h.alloc=function(t){return new r.Array(t)},r.Array!==Array&&(h.alloc=r.pool(h.alloc,r.Array.prototype.subarray)),h.prototype._push=function(t,e,n){return this.tail=this.tail.next=new c(t,e,n),this.len+=e,this},p.prototype=Object.create(c.prototype),p.prototype.fn=f,h.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new p((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},h.prototype.int32=function(t){return t<0?this._push(m,10,s.fromNumber(t)):this.uint32(t)},h.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},h.prototype.uint64=function(t){var e=s.from(t);return this._push(m,e.length(),e)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(t){var e=s.from(t).zzEncode();return this._push(m,e.length(),e)},h.prototype.bool=function(t){return this._push(d,1,t?1:0)},h.prototype.fixed32=function(t){return this._push(g,4,t>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(t){var e=s.from(t);return this._push(g,4,e.lo)._push(g,4,e.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(t){return this._push(r.float.writeFloatLE,4,t)},h.prototype.double=function(t){return this._push(r.float.writeDoubleLE,8,t)};var b=r.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var i=0;i<t.length;++i)e[n+i]=t[i]};h.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(d,1,0);if(r.isString(t)){var n=h.alloc(e=o.length(t));o.decode(t,n,0),t=n}return this.uint32(e)._push(b,e,t)},h.prototype.string=function(t){var e=a.length(t);return e?this.uint32(e)._push(a.write,e,t):this._push(d,1,0)},h.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},h.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},h.prototype.finish=function(){var t=this.head.next,e=this.constructor.alloc(this.len),n=0;while(t)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},h._configure=function(t){i=t}},"0c85":function(t,e,n){"use strict";var i=n("109b"),r=n("644e"),s=n("da0d"),o=n("e6cc"),a=n.n(o),c=n("a624"),l=n.n(c),u=n("5207"),h=n.n(u),d=n("c6d4"),f=n.n(d),p=n("9451"),m=n.n(p),g=n("9898"),b=n.n(g),v=n("0fe6"),w=n.n(v),y=n("8378"),x=n.n(y),_=n("5b9e"),k=n.n(_),C=n("e789"),A=n.n(C),T=n("002b"),O=n.n(T),E=n("2069"),P=n("fc24");const S=9;class R{constructor(t){this["_wsGateway"]=null,this["_isConnected"]=!1,this["_connectPromise"]=void 0,this["_documentId"]=t}async["connect"](t){if(this["isConnected"])return Promise["resolve"]();if(this["_connectPromise"])return this["_connectPromise"];if(t["state"]!==E["a"]["STATE_CONNECTED"])throw new P["a"]("webSocketGatewayNotConnected","Web socket gateway is not connected",{state:t["state"]});const e=new f.a(this["_documentId"]);return this["_connectPromise"]=new Promise(async(n,i)=>{try{this["_wsGateway"]=t,this["stopListening"](t,"change:state");const s=await t["_sendRequest"](S,e["constructor"]["TYPE"],a.a["encode"](e));this["_isConnected"]=!0,this["fire"]("connected"),this["listenTo"](t,"change:state",(...t)=>this["_onWsGatewayStateChange"](...t),{priority:E["a"]["_CHANGE_STATE_EVENT_PRIORITY"]}),this["_connectPromise"]=void 0;const{channel:o,threads:c}=a.a["decode"](s,m.a);this["_connectToChannel"](t,o),n(c)}catch(r){i(r)}}),this["_connectPromise"]}async["addComment"](t,e,n){const i=new l.a(this["_documentId"],t,n,e),r=await this["_wsGateway"]["_sendRequest"](S,l.a["TYPE"],a.a["encode"](i));return a.a["decode"](r,h.a)}["updateComment"](t,e,n){const i=new w.a(this["_documentId"],t,e,n);return this["_wsGateway"]["_sendRequest"](S,w.a["TYPE"],a.a["encode"](i))}["removeComment"](t,e){const n=new b.a(this["_documentId"],t,e);return this["_wsGateway"]["_sendRequest"](S,b.a["TYPE"],a.a["encode"](n))}async["getCommentThread"](t,e=1){const n=new x.a(t,this["_documentId"]);try{const r=await this["_wsGateway"]["_sendRequest"](S,x.a["TYPE"],a.a["encode"](n));return a.a["decode"](r,k.a)}catch(i){if(i instanceof P["a"]&&"commentThreadNotFound"===i["code"]&&e<5)return await I(100*e),await this["getCommentThread"](t,e+1);throw i}}async["getDocumentThreads"](){const t=new A.a(this["_documentId"]),e=await this["_wsGateway"]["_sendRequest"](S,A.a["TYPE"],a.a["encode"](t));return a.a["decode"](e,O.a)}["_connectToChannel"](t,e){const n=t["_getChannel"](R["_SERVICE"],e);this["listenTo"](n,n["getEventName"](l.a["TYPE"]),(t,e)=>{const n=a.a["decode"](e,l.a);this["fire"]("commentAdded",n)}),this["listenTo"](n,n["getEventName"](b.a["TYPE"]),(t,e)=>{const n=a.a["decode"](e,b.a);this["fire"]("commentRemoved",n)}),this["listenTo"](n,n["getEventName"](w.a["TYPE"]),(t,e)=>{const n=a.a["decode"](e,w.a);this["fire"]("commentUpdated",n)}),this["on"]("disconnected",()=>{this["stopListening"](n)})}["_onWsGatewayStateChange"](t,e,n){n===E["a"]["STATE_DISCONNECTED"]&&(this["_isConnected"]=!1,this["fire"]("disconnected"))}static get["_SERVICE"](){return S}get["isConnected"](){return this["_isConnected"]}}function I(t){return new Promise(e=>{setTimeout(e,t)})}Object(r["a"])(R,s["c"]);var N=R,j=n("7559"),M=n("67b9"),B=n("d82e"),D=n("652f"),V=n("ed4a"),F=["getFirstRange","refresh","editor","isCollapsed","schema","model","change","comment:","document","selection"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(F,131);var L=function(t,e){t-=0;var n=F[t];return n};class U extends D["a"]{[L("0x0")](){const t=this[L("0x1")]["model"],e=t["document"]["selection"];this["isEnabled"]=!e[L("0x2")]&&t[L("0x3")]["checkAttributeInSelection"](e,"comment")}["execute"]({threadId:t=Object(V["a"])()}={}){const e=this["editor"][L("0x4")];e[L("0x5")](n=>{n["addMarker"](L("0x6")+t,{range:e[L("0x7")][L("0x8")][L("0x9")](),usingOperation:!1,affectData:!1})})}}var $=["execute","model","comment:","change","removeMarker"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})($,390);var z=function(t,e){t-=0;var n=$[t];return n};class q extends D["a"]{[z("0x0")]({threadId:t}){const e=this["editor"][z("0x1")],n=e["markers"]["get"](z("0x2")+t);n&&e[z("0x3")](t=>{t[z("0x4")](n)})}}var H=["change","updateMarker","adapter","_pendingComments","adapter-","then","updateComment","fire","addcommentcommand-internal-error: Adding comment error.","resolve","author","execute","editor","model","threads","get","addComment","markers","comment:","length"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(H,190);var W=function(t,e){t-=0;var n=H[t];return n};class J extends D["a"]{constructor(t,e,n){super(t),this["e"]=e,this["r"]=n}get[W("0x0")](){return this["r"]["me"]}[W("0x1")]({threadId:t,commentId:e=Object(V["a"])(),content:n}){const i=this[W("0x2")][W("0x3")],r=this["e"],s=r[W("0x4")][W("0x5")](t);r[W("0x6")]({threadId:t,commentId:e,content:n,authorId:this[W("0x0")]["id"],createdAt:new Date});const o=i[W("0x7")]["get"](W("0x8")+t);return o&&1===s[W("0x9")]&&i[W("0xa")](t=>{t[W("0xb")](o,{usingOperation:!0,affectsData:!0})}),r[W("0xc")]&&"function"==typeof r[W("0xc")]["addComment"]?(r[W("0xd")]["set"](W("0xe")+e),r[W("0xc")][W("0x6")]({threadId:t,commentId:e,content:n})[W("0xf")](n=>{r[W("0xd")]["remove"](W("0xe")+e),n&&n["createdAt"]&&r[W("0x10")]({threadId:t,commentId:e,createdAt:n["createdAt"]})})["catch"](t=>this[W("0x2")][W("0x11")]("crash",{message:W("0x12"),error:t}))):Promise[W("0x13")]()}}var Y=["editor","fire","crash","author","execute","_commentIdToThreadId","get","updateComment","adapter","function","set","_pendingComments","remove","adapter-","catch"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Y,424);var G=function(t,e){t-=0;var n=Y[t];return n};class K extends D["a"]{constructor(t,e,n){super(t),this["e"]=e,this["r"]=n}[G("0x0")]({commentId:t,content:e}){const n=this["e"],i=n[G("0x1")][G("0x2")](t);return n[G("0x3")]({commentId:t,content:e}),n[G("0x4")]&&G("0x5")==typeof n["adapter"][G("0x3")]?(n["_pendingComments"][G("0x6")]("adapter-"+t),n[G("0x4")]["updateComment"]({threadId:i,commentId:t,content:e})["then"](()=>n[G("0x7")][G("0x8")](G("0x9")+t))[G("0xa")](t=>this[G("0xb")][G("0xc")](G("0xd"),{message:"updatecommentcommand-internal-error: Updating comment error.",error:t}))):Promise["resolve"]()}["isEnabledForComment"](t){return this["r"]["me"]===t[G("0xe")]}}var X=["_commentIdToThreadId","get","function","adapter","set","adapter-","removeComment","_pendingComments","remove","catch","editor","fire","crash","removecommentcommand-internal-error: Removing comment error.","resolve","isEnabledForComment"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(X,448);var Q=function(t,e){t-=0;var n=X[t];return n};class Z extends D["a"]{constructor(t,e,n){super(t),this["e"]=e,this["r"]=n}["execute"]({commentId:t}){const e=this["e"],n=e[Q("0x0")][Q("0x1")](t);return e["removeComment"](t),e["adapter"]&&Q("0x2")==typeof e[Q("0x3")]["removeComment"]?(e["_pendingComments"][Q("0x4")](Q("0x5")+t),e[Q("0x3")][Q("0x6")]({threadId:n,commentId:t})["then"](()=>e[Q("0x7")][Q("0x8")](Q("0x5")+t))[Q("0x9")](t=>this[Q("0xa")][Q("0xb")](Q("0xc"),{message:Q("0xd"),error:t}))):Promise[Q("0xe")]()}[Q("0xf")](t){return this["r"]["me"]===t["author"]}}var tt=n("eb5a"),et=n("d4e1"),nt=(n("4fb5"),["destroyed","state","threadLoaded","execute","removeCommentThread","createRange","getWalker","isCollapsed","createPositionBefore","start","replace","substring","map","fromCharCode","join","test","slice","indexOf","charAt","charCodeAt","pop","push","config","off","getIndex","remove","stopListening","destroy","getTime","author","requires","threads","set","activeMarker","change:activeMarker","change","model","markers","updateMarker","_isThreadsLoadingPaused","once","ready","_commentIdToThreadId","plugins","get","init","editor","commands","add","addCommentThread","addComment","updateComment","removeComment","adapter","commentsediting-adapter-already-set: Cannot set adapter more than once.","commentthread-invalid-id: CommentThread id has to be a String.","assign","string","commentsediting-invalid-comment-id: Comment id has to be a String.","commentsediting-duplicated-comment-id: Comment id has to be unique.","commentsediting-invalid-comment-authorId: Comment author id is required.","trim","commentsediting-invalid-content: Comment content has to be a string.","commentsediting-missing-comment: Cannot update not existing Comment.","content","createdAt","commentsediting-missing-comment: Cannot remove not existing Comment.","delete","_getCommentThread","resolve","commentsediting-missing-thread-and-adapter: ",'Comment thread with "',"See https://ckeditor.com/docs/ckeditor5/latest/features/collaboration/comments/integrate-comments-with-application.html","function","getCommentThread","commentsediting-missing-thread-and-adapter-method: ","then","catch","fire","getCommentThreads","from","find","name","includes","toJSON","schema","extend","$text","comment","isObject","conversion","markerToHighlight","markerName","ck-comment-marker--active","for","dataDowncast","markerToElement","affectsData","createUIElement","isOpening","end","upcast","elementToMarker","comment:","getAttribute","document","registerPostFixer","differ","_changedMarkers","newRange","has","$graveyard","isEqual","hasContent","change:_isThreadsLoadingPaused","size","listenTo","update:comment","length","threadUnloaded","managedUsingOperations"]);(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(nt,272);var it=function(t,e){t-=0;var n=nt[t];return n};class rt extends i["a"]{static get[it("0x0")](){return[tt["a"],B["a"]]}constructor(t){super(t),this[it("0x1")]=new M["a"],this[it("0x2")](it("0x3"),null),this["on"](it("0x4"),(e,n,i,r)=>{t["model"][it("0x5")](e=>{t[it("0x6")][it("0x7")]["has"](i)&&e["updateMarker"](i),t[it("0x6")]["markers"]["has"](r)&&e[it("0x8")](r)})}),this[it("0x2")](it("0x9"),!0),t["data"][it("0xa")](it("0xb"),()=>this[it("0x9")]=!1),this[it("0xc")]=new Map,this["_pendingComments"]=new ut(t[it("0xd")][it("0xe")](B["a"]))}[it("0xf")](){const t=this[it("0x10")];at(t);const e=t[it("0xd")][it("0xe")](tt["a"]);t[it("0x11")][it("0x12")](it("0x13"),new U(t)),t[it("0x11")]["add"]("removeCommentThread",new q(t)),t["commands"]["add"](it("0x14"),new J(t,this,e)),t[it("0x11")][it("0x12")](it("0x15"),new K(t,this,e)),t["commands"]["add"](it("0x16"),new Z(t,this,e)),this["n"](),this["o"]()}set[it("0x17")](t){if(this["i"])throw new Error(it("0x18"));this["i"]=t}get["adapter"](){return this["i"]}[it("0x13")]({threadId:t,comments:e=[]}){if("string"!=typeof t)throw new Error(it("0x19"));this[it("0x1")][it("0x12")](new ct(t));for(const n of e)this["addComment"](Object[it("0x1a")]({threadId:t},n))}[it("0x14")]({threadId:t,commentId:e,content:n,authorId:i,createdAt:r}){if(it("0x1b")!=typeof e)throw new Error(it("0x1c"));if(this["_commentIdToThreadId"]["get"](e))throw new Error(it("0x1d"));if(it("0x1b")!=typeof i)throw new Error(it("0x1e"));if(it("0x1b")!=typeof n||!n[it("0x1f")]())throw new Error(it("0x20"));const s=this[it("0x1")][it("0xe")](t);if(!s)throw new Error("commentsediting-missing-comment-thread: Cannot add Comment to not existing CommentThread.");const o=this[it("0x10")][it("0xd")][it("0xe")](tt["a"])["getUser"](i);if(!o)throw new Error("commentsediting-user-not-exists: Comment author is not defined in Users plugin.");s["add"](new lt({id:e,author:o,content:n,createdAt:r})),this[it("0xc")]["set"](e,t)}[it("0x15")]({commentId:t,content:e,createdAt:n}){const i=this[it("0xc")][it("0xe")](t);if(!i)throw new Error(it("0x21"));if(e&&(it("0x1b")!=typeof e||!e[it("0x1f")]()))throw new Error("commentsediting-invalid-content: Comment content has to be a string.");const r=this[it("0x1")][it("0xe")](i)[it("0xe")](t);e&&e!=r[it("0x22")]&&(r["content"]=e),n&&n!=r[it("0x23")]&&(r["createdAt"]=n)}["removeComment"](t){const e=this[it("0xc")]["get"](t);if(!e)throw new Error(it("0x24"));const n=this["threads"][it("0xe")](e);n["remove"](n[it("0xe")](t)),this[it("0xc")][it("0x25")](t)}[it("0x26")](t){const e=this[it("0x1")]["get"](t);if(e)return Promise[it("0x27")](e);if(!this["adapter"])throw new Error(it("0x28")+(it("0x29")+t+'" id is not added to the editor nor adapter is defined. ')+it("0x2a"));if(it("0x2b")!=typeof this["adapter"][it("0x2c")])throw new Error(it("0x2d")+(it("0x29")+t+'" id is not added to the editor nor adapter.getCommentThread() is defined. ')+it("0x2a"));return this[it("0x17")][it("0x2c")](t)[it("0x2e")](e=>{if(e)return this[it("0x13")](e),this[it("0x1")]["get"](t)})[it("0x2f")](t=>{this["editor"][it("0x30")]("crash",{message:"commentsEditing-getCommentThread: Getting CommentThread failed.",error:t})})}*[it("0x31")](){const t=Array[it("0x32")](this[it("0x10")][it("0x6")]["markers"]);for(const e of this[it("0x1")])e["length"]&&t[it("0x33")](t=>t[it("0x34")][it("0x35")](e["id"]))&&(yield e[it("0x36")]())}["n"](){const t=this[it("0x10")];t[it("0x6")][it("0x37")][it("0x38")](it("0x39"),{allowAttributes:[it("0x3a")]}),t[it("0x6")]["schema"]["addAttributeCheck"]((e,n)=>{if("comment"==n&&t[it("0x6")][it("0x37")][it("0x3b")](e["last"]))return!0}),t[it("0x3c")]["for"]("editingDowncast")[it("0x3d")]({model:it("0x3a"),view:t=>{const{id:e}=st(t[it("0x3e")]),n=["ck-comment-marker"];return this[it("0x3")]===t[it("0x3e")]&&n["push"](it("0x3f")),{classes:n,attributes:{"data-comment":e}}}}),t[it("0x3c")][it("0x40")](it("0x41"))[it("0x42")]({model:it("0x3a"),view:(e,n)=>{const i=t[it("0x6")]["markers"]["get"](e[it("0x3e")]),r=st(e[it("0x3e")])["id"];if(i[it("0x43")])return n[it("0x44")](it("0x3a"),{id:r,type:e[it("0x45")]?"start":it("0x46")})}}),t["conversion"]["for"](it("0x47"))[it("0x48")]({view:{name:"comment",attribute:{id:/^\w/}},model:t=>it("0x49")+t[it("0x4a")]("id")})}["o"](){const t=this[it("0x10")],e=new Set,n=new Set;t["model"][it("0x4b")][it("0x4c")](i=>{let r=!1;for(const[s,o]of t[it("0x6")][it("0x4b")][it("0x4d")][it("0x4e")]){const{group:a,id:c}=st(s);let l=o[it("0x4f")];if(it("0x3a")!=a||!l)continue;const u=n[it("0x50")](c),h=it("0x51")==l["root"]["rootName"];h||!(l=ot(l,t[it("0x6")]))||l[it("0x52")](o[it("0x4f")])?l&&(!u||!h&&t["model"][it("0x53")](l))?u||h||(n["add"](c),this[it("0x9")]?e[it("0x12")](s):this["m"](s)):(i["removeMarker"](s),r=!0):(i[it("0x8")](s,{range:l}),r=!0)}return r}),this["on"](it("0x54"),(t,n,i)=>{if(!i&&e[it("0x55")])for(const r of e)this["m"](r),e[it("0x25")](r)}),this[it("0x56")](t[it("0x6")][it("0x7")],it("0x57"),(t,i,r,s)=>{if(s)return;const{id:o}=st(i[it("0x34")]),a=this[it("0x1")][it("0xe")](o);n[it("0x25")](o),e["delete"](i[it("0x34")]),a&&(a[it("0x58")]||this["threads"]["remove"](o),this[it("0x30")](it("0x59"),a))})}["m"](t){const e=this[it("0x10")][it("0x6")][it("0x7")]["get"](t),{id:n}=st(t);e[it("0x5a")]||this[it("0x13")]({threadId:n}),this["_getCommentThread"](n)[it("0x2e")](t=>{it("0x5b")!=this[it("0x10")][it("0x5c")]&&(t?this["fire"](it("0x5d"),t):this[it("0x10")][it("0x5e")](it("0x5f"),{threadId:n}))})}}function st(t){const e=t["split"](":");return{group:e[0],id:e[1]}}function ot(t,e){const n=e[it("0x37")],i=e[it("0x60")](t["start"]);for(const r of t[it("0x61")]()){const{type:t,item:s,nextPosition:o}=r;if("text"==t||n[it("0x3b")](s)){if(!n["checkAttribute"](s,it("0x3a"))){if(!i[it("0x62")])return i;continue}const t=e[it("0x63")](s);i[it("0x62")]&&(i[it("0x64")]=t),i[it("0x46")]=o}}return i[it("0x62")]?null:i}function at(t){const e=[1,85,78,115,198,255,50,112,83,87,161],n=a([52,48,51,56,48,56,50,48]),i=[127,34,6,211,167,86,146,199,132,160,18],r=a([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57]);function s(e){const n=function(){const t=String(window[a([112,101,114,102,111,114,109,97,110,99,101])][a([110,111,119])]())[it("0x65")](a([46]),"");let e="";for(let n=0;n<t[it("0x58")];n+=2){let i=parseInt(t[it("0x66")](n,n+2));i>=r["length"]&&(i-=r[it("0x58")]),e+=r[i]}return e}();return t[n]=e,e}function o(){t[a([109,111,100,101,108])][a([99,104,97,110,103,101])]=(()=>{}),t[a([109,111,100,101,108])][a([101,110,113,117,101,117,101,67,104,97,110,103,101])]=(()=>{}),t[a([112,108,117,103,105,110,115])][a([103,101,116])](rt)[a([95,99,111,109,109,101,110,116,73,100,84,111,84,104,114,101,97,100,73,100])][a([99,108,101,97,114])]()}function a(t){return t[it("0x67")](t=>String[it("0x68")](t))[it("0x69")]("")}t[a([111,110])](a([114,101,97,100,121]),()=>{let c,l=0;t[a([109,111,100,101,108])][a([111,110])](a([97,112,112,108,121,79,112,101,114,97,116,105,111,110]),(u,h)=>{h[0]["isDocumentOperation"]&&l++,6===l?c=function(c){if(t[a([112,108,117,103,105,110,115])][a([104,97,115])](a([82,101,97,108,84,105,109,101,67,111,108,108,97,98,111,114,97,116,105,111,110,67,108,105,101,110,116]))){const e=t[a([112,108,117,103,105,110,115])][a([103,101,116])](a([82,101,97,108,84,105,109,101,67,111,108,108,97,98,111,114,97,116,105,111,110,67,108,105,101,110,116]));if(typeof e[a([95,115,97,118,101,79,112,101,114,97,116,105,111,110,73,110,66,117,102,102,101,114])]==a([102,117,110,99,116,105,111,110])&&e[a([95,115,97,118,101,79,112,101,114,97,116,105,111,110,73,110,66,117,102,102,101,114])](a([115,101,108,101,99,116,105,111,110]))==a([99,104,97,110,103,101,100]))return s(a([108,105,99,101,110,115,101,75,101,121,86,97,108,105,100]))}try{const u=function(t){const n=new(window[a([85,105,110,116,56,65,114,114,97,121])])([...e,29,221,175,90,231,133,239,240,75,180,...i]);return function(t,e){const n=function(t){const e=r+a([43,47,61]);if(t=String(t)[it("0x65")](/[\t\n\f\r ]+/g,""),!/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/[it("0x6a")](t))throw new TypeError(a([70,97,105,108,101,100,32,116,111,32,112,97,114,115,101,32,98,97,115,101,54,52,32,116,111,32,115,116,114,105,110,103,46]));t+=a([61,61])[it("0x6b")](2-(3&t["length"]));let n,i,s,o="";for(let r=0;r<t[it("0x58")];)n=e[it("0x6c")](t[it("0x6d")](r++))<<18|e[it("0x6c")](t[it("0x6d")](r++))<<12|(i=e[it("0x6c")](t[it("0x6d")](r++)))<<6|(s=e["indexOf"](t["charAt"](r++))),o+=64===i?String[it("0x68")](n>>16&255):64===s?String[it("0x68")](n>>16&255,n>>8&255):String[it("0x68")](n>>16&255,n>>8&255,255&n);return o}(t),i=Array["from"](function(t){const e=new Uint8Array(t["length"]);for(let n=0;n<t[it("0x58")];n++)e[n]=t[it("0x6e")](n);return e}(n)),s=i[it("0x6f")](),o=i["pop"]();return function(t){let e="";for(const n of t)e+=String[it("0x68")](n);return e}(function(t,e,n){const i={};i[a([110,117,109,98,101,114,79,102,82,111,117,110,100,115])]={16:10,24:12,32:14},i[a([114,99,111,110])]=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],i[a([83])]=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],i[a([84,49])]=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],i[a([84,50])]=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],i[a([84,51])]=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],i[a([84,52])]=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],i[a([85,49])]=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],i[a([85,50])]=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],i[a([85,51])]=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],i[a([85,52])]=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];const r=new Uint8Array(16);for(let a=15;a>=0;--a)r[a]=n%256,n=parseInt(n/256);let s=null,o=16;const c=new Uint8Array(e),l=[],u=[];!function(){const t=i[a([110,117,109,98,101,114,79,102,82,111,117,110,100,115])][c[it("0x58")]];for(let i=0;i<=t;i++)l["push"]([0,0,0,0]),u[it("0x70")]([0,0,0,0]);const e=4*(t+1),n=c[it("0x58")]/4,r=h(c);let s;for(let i=0;i<n;i++)l[s=i>>2][i%4]=r[i],u[t-s][i%4]=r[i];let o,d=0,f=n;for(;f<e;){o=r[n-1],r[0]^=i[a([83])][o>>16&255]<<24^i[a([83])][o>>8&255]<<16^i[a([83])][255&o]<<8^i[a([83])][o>>24&255]^i[a([114,99,111,110])][d]<<24,d+=1;for(let t=1;t<n/2;t++)r[t]^=r[t-1];o=r[n/2-1],r[n/2]^=i[a([83])][255&o]^i[a([83])][o>>8&255]<<8^i[a([83])][o>>16&255]<<16^i[a([83])][o>>24&255]<<24;for(let t=n/2+1;t<n;t++)r[t]^=r[t-1];let s,c,h=0;for(;h<n&&f<e;)c=f%4,l[s=f>>2][c]=r[h],u[t-s][c]=r[h++],f++}for(let c=1;c<t;c++)for(let t=0;t<4;t++)o=u[c][t],u[c][t]=i[a([85,49])][o>>24&255]^i[a([85,50])][o>>16&255]^i[a([85,51])][o>>8&255]^i[a([85,52])][255&o]}();for(let a=0;a<t[it("0x58")];a++)16===o&&(s=f(r),o=0,d(r)),t[a]^=s[o++];return t;function h(t){const e=[];for(let n=0;n<t[it("0x58")];n+=4)e[it("0x70")](t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]);return e}function d(t){for(let e=15;e>=0;e--){if(255!==t[e]){t[e]++;break}t[e]=0}}function f(t){const e=l[it("0x58")]-1,n=[0,0,0,0];let r=h(t);for(let i=0;i<4;i++)r[i]^=l[0][i];for(let c=1;c<e;c++){for(let t=0;t<4;t++)n[t]=i[a([84,49])][r[t]>>24&255]^i[a([84,50])][r[(t+1)%4]>>16&255]^i[a([84,51])][r[(t+2)%4]>>8&255]^i[a([84,52])][255&r[(t+3)%4]]^l[c][t];r=n[it("0x6b")]()}const s=new Uint8Array(16);let o;for(let c=0;c<4;c++)o=l[e][c],s[4*c]=255&(i[a([83])][r[c]>>24&255]^o>>24),s[4*c+1]=255&(i[a([83])][r[(c+1)%4]>>16&255]^o>>16),s[4*c+2]=255&(i[a([83])][r[(c+2)%4]>>8&255]^o>>8),s[4*c+3]=255&(i[a([83])][255&r[(c+3)%4]]^o);return s}}(i,e,o+256*s))}(t,n)}(c),h=JSON["parse"](u),d=parseInt(h[a([49])]),f=parseInt(h[a([51])]),p=parseInt(h[a([52])])||0,m=parseInt(h[a([53])])||0,g=1,b=2;if(!(p&g)||t[a([112,108,117,103,105,110,115])][a([104,97,115])](a([84,114,97,99,107,67,104,97,110,103,101,115,69,100,105,116,105,110,103]))&&!(p&b))return o(),s(a([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]));if(m&&!window[a([111,112,101,110])][a([99,108,111,115,101,100])])return o(),s(a([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]));if(parseInt(n)/2>d)return o(),s(a([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]));if(t[a([112,108,117,103,105,110,115])][a([104,97,115])](a([84,114,97,99,107,67,104,97,110,103,101,115,69,100,105,116,105,110,103]))){const e=t[a([112,108,117,103,105,110,115])][a([103,101,116])](a([84,114,97,99,107,67,104,97,110,103,101,115,69,100,105,116,105,110,103]));if(parseInt(e[a([95,101,120,101,99,117,116,101,83,117,103,103,101,115,116,105,111,110])])/2>d)return o(),s(a([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]))}return s(a(f?[108,105,99,101,110,115,101,75,101,121,84,114,105,97,108]:[108,105,99,101,110,115,101,75,101,121,86,97,108,105,100]))}catch(l){return o(),s(a([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]))}}(t[it("0x71")][it("0xe")](a([108,105,99,101,110,115,101,75,101,121]))):c===a([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108])&&504===l?(o(),s(a([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108,76,105,109,105,116])),u[it("0x72")]()):c&&c!==a([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108])&&u[it("0x72")]()},{priority:a([104,105,103,104,101,115,116])})})}class ct extends M["a"]{constructor(t){super(),this["id"]=t}[it("0x12")](t){return this[it("0x56")](t,"change",(e,n)=>{if(it("0x23")==n){const e=this["s"](t);e-1!=this[it("0x73")](t)&&e+1!=this["getIndex"](t)&&(this[it("0x74")](t),this[it("0x12")](t))}this[it("0x30")](it("0x5"))}),t[it("0x23")]?super[it("0x12")](t,this["s"](t)):super[it("0x12")](t)}[it("0x74")](t){return this[it("0x75")](t),t[it("0x76")](),super[it("0x74")](t)}["s"](t){const e=this["find"](e=>new Date(e[it("0x23")])[it("0x77")]()>new Date(t[it("0x23")])[it("0x77")]());return e?this[it("0x73")](e):this[it("0x58")]}[it("0x36")](){return{threadId:this["id"],comments:this[it("0x67")](t=>t[it("0x36")]())}}}class lt{constructor(t){this["id"]=t["id"],this[it("0x78")]=t["author"],this["set"](it("0x22"),t[it("0x22")]),this[it("0x2")](it("0x23"),t["createdAt"])}["toJSON"](){return{commentId:this["id"],content:this["content"],createdAt:this[it("0x23")],authorId:this["author"]["id"]}}[it("0x76")](){this[it("0x75")]()}}Object(r["a"])(lt,et["a"]);class ut{constructor(t){this["a"]=t,this["d"]=new Set}[it("0x2")](t){this["d"][it("0x12")](t),this["c"]||(this["c"]=this["a"][it("0x12")]("Unsaved changes in comments."))}[it("0x74")](t){this["d"][it("0x25")](t),this["c"]&&!this["d"][it("0x55")]&&(this["a"][it("0x74")](this["c"]),this["c"]=null)}[Symbol["iterator"]](){return this["d"]["values"]()[Symbol["iterator"]]()}}var ht=n("e977"),dt=n("a9a4"),ft=n("0f93"),pt=(n("b8c3"),["getAttribute","data-session-id","update:user","delete","$graveyard","root","rootName","has","getNearestSelectionRange","deletionPosition","set","change:range","end","detach","size","enqueueChange","transparent","getRange","requires","UserMarkers","init","editor","plugins","get","conversion","for","editingDowncast","markerToHighlight","model","document","user:range:","mySessionId","user:position:","selection","getFirstRange","getFirstPosition","updateMarker","addMarker","markerName","split","getUserBySessionId","start","$text","ck-user__marker ","getMarkerClass","name","markers","getStart","parent","schema","isLimit","contenteditable","orderNumber","ck-user__selection","color","getSelectionClass","createUIElement","span","render","innerHTML",'&#8203;<span class="ck-user__marker-line"><span class="ck-user__marker-dot"></span></span>',"isSimilar"]);(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(pt,266);var mt=function(t,e){t-=0;var n=pt[t];return n};class gt extends i["a"]{static get[mt("0x0")](){return[dt["a"]]}static get["pluginName"](){return mt("0x1")}[mt("0x2")](){const t=this[mt("0x3")],e=t[mt("0x4")][mt("0x5")](dt["a"]);t[mt("0x6")][mt("0x7")](mt("0x8"))["markerToElement"]({model:"user:position",view:(n,i)=>bt(n,i,e,t)}),t[mt("0x6")][mt("0x7")]("editingDowncast")[mt("0x9")]({model:"user:range",view:t=>vt(t,e)}),yt(t)}["createUserMarkerOperations"](){const t=this[mt("0x3")],e=t[mt("0xa")][mt("0xb")],n=t[mt("0x4")][mt("0x5")](dt["a"]);t[mt("0xa")]["enqueueChange"]("transparent",i=>{const r=mt("0xc")+n[mt("0xd")],s=mt("0xe")+n[mt("0xd")],o=t["model"]["markers"][mt("0x5")](r),a=t["model"]["markers"]["get"](s),c=e[mt("0xf")][mt("0x10")](),l=t["model"]["createRange"](e[mt("0xf")][mt("0x11")]());o?i[mt("0x12")](r,{range:c}):i[mt("0x13")](r,{range:c,usingOperation:!0}),a?i["updateMarker"](s,{range:l}):i["addMarker"](s,{range:l,usingOperation:!0})})}}function bt(t,e,n,i){const r=t[mt("0x14")][mt("0x15")](":")[2],s=n[mt("0x16")](r);if(!s||r===n[mt("0xd")])return;if(!i[mt("0xa")]["schema"]["checkChild"](t["markerRange"][mt("0x17")],mt("0x18")))return;const o={class:mt("0x19")+s["color"][mt("0x1a")](),"data-name":s[mt("0x1b")],"data-session-id":r},a=i[mt("0xa")][mt("0x1c")][mt("0x5")](t[mt("0x14")])[mt("0x1d")]()[mt("0x1e")];i["model"][mt("0x1f")][mt("0x20")](a)&&!i[mt("0xa")]["hasContent"](a)&&(o[mt("0x21")]=!1);const c=wt(e,o);return c["priority"]=1e3+s[mt("0x22")],c}function vt(t,e){const n=t[mt("0x14")]["split"](":")[2];if(n===e[mt("0xd")])return;const i=e[mt("0x16")](n);return i?{id:n,classes:[mt("0x23"),i[mt("0x24")][mt("0x25")]()],attributes:{"data-session-id":n},priority:2e3+i[mt("0x22")]}:{id:n}}function wt(t,e){const n=t[mt("0x26")](mt("0x27"),e);return t["setCustomProperty"]("userPositionMarker",!0,n),n[mt("0x28")]=function(t){const e=this["toDomElement"](t);return e[mt("0x29")]=mt("0x2a"),e},n[mt("0x2b")]=function(t){return this["getCustomProperty"]("userPositionMarker")&&t["getCustomProperty"]("userPositionMarker")&&this[mt("0x2c")]("data-session-id")==t[mt("0x2c")](mt("0x2d"))},n}function yt(t){const e=t["model"],n=new Map,i=t["plugins"][mt("0x5")](dt["a"]);e[mt("0x1c")]["on"](mt("0x2e"),(t,r,s,o)=>{o?r[mt("0x1b")][mt("0x15")](":")[2]!==i[mt("0xd")]&&r["on"]("change:range",(t,i,s)=>{if(mt("0x30")!=i[mt("0x31")]["rootName"]&&"$graveyard"==r["getRange"]()[mt("0x31")][mt("0x32")]&&!n[mt("0x33")](r[mt("0x1b")])){const t=e["schema"][mt("0x34")](s[mt("0x35")]);if(t){const i=ft["a"]["fromRange"](t);n[mt("0x36")](r[mt("0x1b")],i),i["on"](mt("0x37"),(t,s,o)=>{if("$graveyard"==i[mt("0x31")]["rootName"]){const t=e[mt("0x1f")][mt("0x34")](o[mt("0x35")]);t?(i[mt("0x17")]=t["start"],i[mt("0x38")]=t["end"]):(n["delete"](r[mt("0x1b")]),i[mt("0x39")]())}})}}}):n[mt("0x2f")](r[mt("0x1b")])}),e[mt("0xb")]["on"]("change",()=>{n[mt("0x3a")]>0&&e[mt("0x3b")](mt("0x3c"),t=>{for(const[i,r]of n)"$graveyard"==e["markers"]["get"](i)[mt("0x3d")]()[mt("0x31")][mt("0x32")]&&(t[mt("0x12")](i,{range:r}),r[mt("0x39")]());n["clear"]()})})}var xt=n("2fb8"),_t=n.n(xt),kt=["create","decompress","toObject","decode","registerDescriptor","nested","build","Root","fromJSON","getDescriptor","Cannot get descriptor before build.","lookupType","compress","verify"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(kt,438);var Ct=function(t,e){t-=0;var n=kt[t];return n};class At{constructor(){this["f"]={nested:{}}}[Ct("0x0")](t,e){this["f"][Ct("0x1")][t]=e}[Ct("0x2")](){this["b"]=_t.a[Ct("0x3")][Ct("0x4")](this["f"])}[Ct("0x5")](t){if(!this["b"])throw new Error(Ct("0x6"));return new Tt(this["b"][Ct("0x7")](t))}}class Tt{constructor(t){this["d"]=t}[Ct("0x8")](t){const e=this["d"][Ct("0x9")](t);if(e)throw Error(e);return this["d"]["encode"](this["d"][Ct("0xa")](t))["finish"]()}[Ct("0xb")](t){return this["d"][Ct("0xc")](this["d"][Ct("0xd")](t),{oneofs:!0})}}var Ot=["Element","string","bool","repeated","uint32","Position"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Ot,217);var Et=function(t,e){t-=0;var n=Ot[t];return n},Pt={Position:{fields:{root:{type:Et("0x0"),id:1},rootMain:{type:"bool",id:2},rootGraveyard:{type:Et("0x1"),id:3},path:{rule:Et("0x2"),type:Et("0x3"),id:4},stickiness:{type:Et("0x0"),id:5}}},Range:{fields:{start:{type:Et("0x4"),id:1},end:{type:Et("0x4"),id:2}}},Element:{fields:{name:{type:Et("0x0"),id:1},children:{rule:Et("0x2"),type:Et("0x5"),id:2},data:{type:Et("0x0"),id:3},attributesBoolean:{keyType:Et("0x0"),type:Et("0x1"),id:4},attributesJson:{type:Et("0x0"),id:5}}}},St=n("5c8a"),Rt=n("32e8"),It=n("2332"),Nt=["root","main","$graveyard","rootGraveyard","rootMain","nodes","path","length"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Nt,126);var jt=function(t,e){t-=0;var n=Nt[t];return n};function Mt(t,e){const n=Object(St["a"])(t);return n[jt("0x0")][n["path"][jt("0x1")]-1]+=e,n}function Bt(t,e){return t[jt("0x2")]===e[jt("0x2")]&&Object(Rt["a"])(t[jt("0x0")],e[jt("0x0")])}function Dt(t){Ft(t,t=>(jt("0x3")==t[jt("0x2")]?(t["rootMain"]=!0,delete t[jt("0x2")]):jt("0x4")==t[jt("0x2")]&&(t[jt("0x5")]=!0,delete t[jt("0x2")]),t))}function Vt(t){Ft(t,t=>(t["rootMain"]?(t["root"]=jt("0x3"),delete t[jt("0x6")]):t[jt("0x5")]&&(t[jt("0x2")]=jt("0x4"),delete t[jt("0x5")]),t))}function Ft(t,e){for(const n in t){const i=t[n];jt("0x7")!==n&&Object(It["a"])(i)&&(i[jt("0x0")]&&(i[jt("0x2")]||i["rootMain"]||i[jt("0x5")])?t[n]=e(i):Ft(i,e))}return t}var Lt=["__className","operationName","_protobufDescriptor","compress","shift","buffers","push","types","decompress"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Lt,163);var Ut=function(t,e){t-=0;var n=Lt[t];return n};class $t{constructor(t,e,n){this["id"]=t,this[Ut("0x0")]=e,this[Ut("0x1")]=n}[Ut("0x2")](t,e){const n=e[Ut("0x3")]();Dt(n),t[Ut("0x4")][Ut("0x5")](this[Ut("0x1")]["compress"](n)),t[Ut("0x6")][Ut("0x5")](this["id"])}[Ut("0x7")](t,e){e[Ut("0x6")][Ut("0x3")]();const n=this["_protobufDescriptor"][Ut("0x7")](e[Ut("0x4")][Ut("0x3")]());Vt(n),n[Ut("0x8")]=this[Ut("0x0")],t[Ut("0x5")](n)}}var zt=["Json","description","bool","string","compress","shift","buffers","_protobufDescriptor","push","decompress","oldValue","operationName","boolean","Boolean","stringify"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(zt,136);var qt=function(t,e){t-=0;var n=zt[t];return n};class Ht extends $t{static get[qt("0x0")](){return{fields:{range:{type:"Range",id:1},key:{type:"string",id:2},oldValueBoolean:{type:qt("0x1"),id:3},oldValueJson:{type:qt("0x2"),id:4},newValueBoolean:{type:qt("0x1"),id:5},newValueJson:{type:"string",id:6},wasUndone:{type:qt("0x1"),id:7}}}}[qt("0x3")](t,e){const n=e[qt("0x4")]();Wt("oldValue",n),Wt("newValue",n),Dt(n),t[qt("0x5")]["push"](this[qt("0x6")][qt("0x3")](n)),t["types"][qt("0x7")](this["id"])}["decompress"](t,e){const{types:n,buffers:i}=e,r=this["_protobufDescriptor"][qt("0x8")](i[qt("0x4")]());n["shift"](),Jt(qt("0x9"),r),Jt("newValue",r),Vt(r),r["__className"]=this[qt("0xa")],t[qt("0x7")](r)}}function Wt(t,e){const n=e[t];qt("0xb")==typeof n?e[t+qt("0xc")]=n:e[t+"Json"]=JSON[qt("0xd")](n)}function Jt(t,e){const n=t+qt("0xe");e[n]?(e[t]=JSON["parse"](e[n]),delete e[n]):(e[t]=e[t+"Boolean"],delete e[t+qt("0xc")])}var Yt=["shift","nodes","buffers","push","_protobufDescriptor","types","decompress","__className","operationName","attributes","attributesBoolean","attributesJson","parse","children","boolean","description","repeated","Element","bool","compress"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Yt,315);var Gt=function(t,e){t-=0;var n=Yt[t];return n};class Kt extends $t{static get[Gt("0x0")](){return{fields:{position:{type:"Position",id:1},nodes:{rule:Gt("0x1"),type:Gt("0x2"),id:2},shouldReceiveAttributes:{type:Gt("0x3"),id:3},wasUndone:{type:Gt("0x3"),id:4}}}}[Gt("0x4")](t,e){const n=e[Gt("0x5")]();Xt(n[Gt("0x6")]),Dt(n),t[Gt("0x7")][Gt("0x8")](this[Gt("0x9")][Gt("0x4")](n)),t[Gt("0xa")][Gt("0x8")](this["id"])}["decompress"](t,e){const{types:n,buffers:i}=e,r=this[Gt("0x9")][Gt("0xb")](i[Gt("0x5")]());n[Gt("0x5")](),r[Gt("0x6")]||(r[Gt("0x6")]=[]),Qt(r[Gt("0x6")]),Vt(r),r[Gt("0xc")]=this[Gt("0xd")],t[Gt("0x8")](r)}}function Xt(t){for(const e of t){if(e[Gt("0xe")]){const t=e[Gt("0xe")];Zt(t)?e[Gt("0xf")]=t:e[Gt("0x10")]=JSON["stringify"](t)}e["children"]&&Xt(e["children"])}}function Qt(t){for(const e of t)(e["attributesBoolean"]||e[Gt("0x10")])&&(e[Gt("0xf")]?(e[Gt("0xe")]=e[Gt("0xf")],delete e["attributesBoolean"]):(e[Gt("0xe")]=JSON[Gt("0x11")](e[Gt("0x10")]),delete e[Gt("0x10")])),e[Gt("0x12")]&&Qt(e[Gt("0x12")])}function Zt(t){return Object["keys"](t)["every"](e=>Gt("0x13")==typeof t[e])}var te=["description","string","bool","decompress","length","oldRange","newRange"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(te,196);var ee=function(t,e){t-=0;var n=te[t];return n};class ne extends $t{static get[ee("0x0")](){return{fields:{name:{type:ee("0x1"),id:1},oldRange:{type:"Range",id:2},newRange:{type:"Range",id:3},affectsData:{type:ee("0x2"),id:4},wasUndone:{type:ee("0x2"),id:5}}}}[ee("0x3")](t,e){super[ee("0x3")](t,e);const n=t[t[ee("0x4")]-1];n[ee("0x5")]||(n[ee("0x5")]=null),n[ee("0x6")]||(n[ee("0x6")]=null)}}var ie=["Position","uint32","bool","description"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(ie,103);var re=function(t,e){t-=0;var n=ie[t];return n};class se extends $t{static get[re("0x0")](){return{fields:{sourcePosition:{type:re("0x1"),id:1},targetPosition:{type:re("0x1"),id:2},graveyardPosition:{type:re("0x1"),id:3},howMany:{type:re("0x2"),id:4},wasUndone:{type:re("0x3"),id:5}}}}}var oe=["Position","bool","description"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(oe,224);var ae=function(t,e){t-=0;var n=oe[t];return n};class ce extends $t{static get[ae("0x0")](){return{fields:{sourcePosition:{type:ae("0x1"),id:1},howMany:{type:"uint32",id:2},targetPosition:{type:"Position",id:3},wasUndone:{type:ae("0x2"),id:4}}}}}var le=["bool","description"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(le,239);var ue=function(t,e){t-=0;var n=le[t];return n};class he extends $t{static get[ue("0x0")](){return{fields:{position:{type:"Position",id:1},oldName:{type:"string",id:2},newName:{type:"string",id:3},wasUndone:{type:ue("0x1"),id:4}}}}}var de=["string","description","fields"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(de,151);var fe=function(t,e){t-=0;var n=de[t];return n};class pe extends Ht{static get[fe("0x0")](){const t=Ht[fe("0x0")];return delete t[fe("0x1")]["range"],t[fe("0x1")]["root"]={type:fe("0x2"),id:1},t}}var me=["Position","uint32","bool"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(me,378);var ge=function(t,e){t-=0;var n=me[t];return n};class be extends $t{static get["description"](){return{fields:{splitPosition:{type:ge("0x0"),id:1},graveyardPosition:{type:ge("0x0"),id:2},howMany:{type:ge("0x1"),id:3},insertionPosition:{type:ge("0x0"),id:4},wasUndone:{type:ge("0x2"),id:5}}}}}var ve=["decompress","shift","push","operationName","compress","types"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(ve,100);var we=function(t,e){t-=0;var n=ve[t];return n};class ye extends $t{[we("0x0")](t,e){e["shift"](),t[we("0x1")]["push"](this["id"])}[we("0x2")](t,e){e[we("0x1")][we("0x3")](),t[we("0x4")]({__className:this[we("0x5")]})}}var xe=["compress","__className","name","startsWith","decompress","length"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(xe,444);var _e=function(t,e){t-=0;var n=xe[t];return n};class ke extends ne{constructor(t,e,n,i){super(t,e,n),this["u"]=i+":"}[_e("0x0")](t,e){return!("MarkerOperation"!=e[0][_e("0x1")]||!e[0][_e("0x2")][_e("0x3")](this["u"]))&&(e[0]["name"]=e[0][_e("0x2")]["replace"](new RegExp("^"+this["u"]),""),super[_e("0x0")](t,e),!0)}[_e("0x4")](t,e){super[_e("0x4")](t,e);const n=t[t[_e("0x5")]-1];n[_e("0x2")]=this["u"]+n[_e("0x2")]}}var Ce=["compress","length","shift","push","buffers","decompress","types"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Ce,126);var Ae=function(t,e){t-=0;var n=Ce[t];return n};class Te{constructor(t,e){this["id"]=t,this["s"]=e}[Ae("0x0")](t,e){let n;for(;e[Ae("0x1")]>1&&this["o"](e[0],e[1]);)n?(n=this["e"](e[Ae("0x2")](),n),t["types"]["push"](0)):(n=Object(St["a"])(e[Ae("0x2")]()),t["types"]["push"](this["id"]));return!!n&&(n=this["e"](e[Ae("0x2")](),n),t["types"][Ae("0x3")](0),t[Ae("0x4")][Ae("0x3")](this["r"](n)),!0)}[Ae("0x5")](t,e){const n=this["i"](e);for(;0==e["types"][0];)e[Ae("0x6")][Ae("0x2")](),t[Ae("0x3")](this["h"](n));t[Ae("0x3")](n)}}var Oe=["compress","buffers","decompress","InsertOperation","wasUndone","keys","attributes","every","nodes","from","data","substr","position","length"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Oe,442);var Ee=function(t,e){t-=0;var n=Oe[t];return n};class Pe extends Te{["e"](t,e){return e[Ee("0x0")][0]["data"]+=t["nodes"][0]["data"],e}["h"](t){const e=Object(St["a"])(t),n=e[Ee("0x0")][0],i=t[Ee("0x0")][0],r=Array[Ee("0x1")](i[Ee("0x2")])[0],s=r["length"];return n[Ee("0x2")]=r,i[Ee("0x2")]=i[Ee("0x2")][Ee("0x3")](s),t[Ee("0x4")]=Mt(t["position"],s),e}["o"](t,e){if(Se(t)&&Se(e)){const n=t[Ee("0x0")][0][Ee("0x2")][Ee("0x5")],i=Bt(Mt(t[Ee("0x4")],n),e["position"]),r=t[Ee("0x0")][0],s=e[Ee("0x0")][0];return i&&Re(r,s)}return!1}["r"](t){const e={types:[],buffers:[],baseVersion:0};return this["s"]["n"]("InsertOperation")[Ee("0x6")](e,[t]),e[Ee("0x7")][0]}["i"](t){const e=[];return this["s"]["n"]("InsertOperation")[Ee("0x8")](e,t),e[0]}}function Se(t){return Ee("0x9")==t["__className"]&&1==t[Ee("0x0")][Ee("0x5")]&&t[Ee("0x0")][0]["data"]&&!t[Ee("0xa")]&&1==Array[Ee("0x1")](t[Ee("0x0")][0][Ee("0x2")])[Ee("0x5")]}function Re(t,e){const n=Object[Ee("0xb")](t[Ee("0xc")]||{}),i=Object[Ee("0xb")](e[Ee("0xc")]||{});return n[Ee("0x5")]===i[Ee("0x5")]&&n[Ee("0xd")](n=>e[Ee("0xc")][n]&&e["attributes"][n]===t[Ee("0xc")][n])}var Ie=["targetPosition","MoveOperation","decompress","__className","wasUndone","sourcePosition","howMany"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Ie,166);var Ne=function(t,e){t-=0;var n=Ie[t];return n};class je extends Te{["e"](t,e){return e["howMany"]++,e[Ne("0x0")]=Object(St["a"])(t[Ne("0x0")]),e}["h"](t){const e=Object(St["a"])(t);return t["howMany"]--,e[Ne("0x1")]=1,e[Ne("0x0")]=Mt(e[Ne("0x0")],t[Ne("0x1")]),e}["o"](t,e){return!(!Me(t)||!Me(e))&&Bt(Mt(t[Ne("0x0")],-1),e[Ne("0x0")])&&Bt(t[Ne("0x2")],e[Ne("0x2")])}["r"](t){const e={types:[],buffers:[],baseVersion:0};return this["s"]["n"](Ne("0x3"))["compress"](e,[t]),e["buffers"][0]}["i"](t){const e=[];return this["s"]["n"](Ne("0x3"))[Ne("0x4")](e,t),e[0]}}function Me(t){return"MoveOperation"==t[Ne("0x5")]&&"$graveyard"==t[Ne("0x2")]["root"]&&1==t[Ne("0x1")]&&!t[Ne("0x6")]}var Be=["root","wasUndone","howMany","sourcePosition","targetPosition","MoveOperation","compress","decompress","__className","$graveyard"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Be,332);var De=function(t,e){t-=0;var n=Be[t];return n};class Ve extends Te{["e"](t,e){return e[De("0x0")]++,e}["h"](t){const e=Object(St["a"])(t);return e[De("0x0")]=1,t[De("0x0")]--,e}["o"](t,e){return!(!Fe(t)||!Fe(e))&&Bt(t[De("0x1")],e[De("0x1")])&&Bt(t[De("0x2")],e[De("0x2")])}["r"](t){const e={types:[],buffers:[],baseVersion:0};return this["s"]["n"](De("0x3"))[De("0x4")](e,[t]),e["buffers"][0]}["i"](t){const e=[];return this["s"]["n"](De("0x3"))[De("0x5")](e,t),e[0]}}function Fe(t){return"MoveOperation"==t[De("0x6")]&&De("0x7")==t[De("0x2")][De("0x8")]&&1==t[De("0x0")]&&!t[De("0x9")]}var Le=["toNone","name","user:position:","split","MarkerOperation","__className","startsWith","user:range","user:position","compress","oldRange","newRange","start","end","shift","types","push","decompress","stickiness"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Le,427);var Ue=function(t,e){t-=0;var n=Le[t];return n};class $e extends Te{[Ue("0x0")](t,e){if(!ze(e[0],e[1]))return!1;const n=e["shift"]();return n[Ue("0x1")]=null,n[Ue("0x2")]&&Bt(n[Ue("0x2")][Ue("0x3")],n[Ue("0x2")][Ue("0x4")])&&(n[Ue("0x2")][Ue("0x4")]=null),e[Ue("0x5")](),t[Ue("0x6")]["push"](this["id"]),t[Ue("0x6")][Ue("0x7")](0),t["buffers"][Ue("0x7")](this["r"](n)),!0}[Ue("0x8")](t,e){const n=this["i"](e);n[Ue("0x2")]&&!n[Ue("0x2")]["end"]&&(n["newRange"][Ue("0x4")]=Object(St["a"])(n["newRange"]["start"]));const i=Object(St["a"])(n);i[Ue("0x2")]&&(i["newRange"][Ue("0x3")][Ue("0x9")]=Ue("0xa"),i[Ue("0x2")][Ue("0x4")]=Object(St["a"])(i[Ue("0x2")][Ue("0x3")])),i[Ue("0xb")]=Ue("0xc")+i["name"][Ue("0xd")](":")[2],e[Ue("0x6")][Ue("0x5")](),t["push"](n),t[Ue("0x7")](i)}["r"](t){const e={types:[],buffers:[],baseVersion:0};return this["s"]["n"]("MarkerOperation")[Ue("0x0")](e,[t]),e["buffers"][0]}["i"](t){const e=[];return this["s"]["n"](Ue("0xe"))["decompress"](e,t),e[0]}}function ze(t,e){return!(!t||!e)&&Ue("0xe")==t[Ue("0xf")]&&Ue("0xe")==e[Ue("0xf")]&&!(!t[Ue("0xb")][Ue("0x10")](Ue("0x11"))&&!e[Ue("0xb")][Ue("0x10")](Ue("0x12")))}var qe=["MoveOperation","SplitOperation","build","NoOperation","AttributeOperation","RenameOperation","RootAttributeOperation","getDescriptor","comment","SuggestionMarkerOperation","TypingAction","DeletingAction","ForwardDeletingAction","set","get","UserSelectionAction","compress","CommentMarkerOperation","decompress","types","length","forEach","baseVersion","registerDescriptor","Position","Range","Element","description","InsertOperation","MarkerOperation","MergeOperation"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(qe,488);var He=function(t,e){t-=0;var n=qe[t];return n};class We{constructor(){this["p"]=new Map,this["m"]=new Map,this["a"]=new At,this["a"][He("0x0")](He("0x1"),Pt[He("0x1")]),this["a"]["registerDescriptor"]("Range",Pt[He("0x2")]),this["a"][He("0x0")](He("0x3"),Pt[He("0x3")]),this["a"][He("0x0")]("AttributeOperation",Ht[He("0x4")]),this["a"][He("0x0")](He("0x5"),Kt[He("0x4")]),this["a"]["registerDescriptor"](He("0x6"),ne[He("0x4")]),this["a"][He("0x0")](He("0x7"),se["description"]),this["a"][He("0x0")](He("0x8"),ce["description"]),this["a"]["registerDescriptor"]("RenameOperation",he["description"]),this["a"][He("0x0")]("RootAttributeOperation",pe[He("0x4")]),this["a"][He("0x0")](He("0x9"),be[He("0x4")]),this["a"][He("0xa")](),this["c"](1,He("0xb"),new ye(1,"NoOperation")),this["O"](10,He("0xc"),Ht),this["O"](11,"InsertOperation",Kt),this["O"](12,He("0x6"),ne),this["O"](13,He("0x7"),se),this["O"](14,"MoveOperation",ce),this["O"](15,He("0xd"),he),this["O"](16,He("0xe"),pe),this["O"](17,He("0x9"),be);const t=this["a"][He("0xf")]("MarkerOperation");this["c"](18,"CommentMarkerOperation",new ke(18,"MarkerOperation",t,He("0x10"))),this["c"](19,He("0x11"),new ke(19,He("0x6"),t,"suggestion")),this["C"](100,He("0x12"),Pe),this["C"](101,He("0x13"),je),this["C"](102,He("0x14"),Ve),this["C"](103,"UserSelectionAction",$e)}["O"](t,e,n){const i=new n(t,e,this["a"][He("0xf")](e));this["c"](t,e,i)}["C"](t,e,n){const i=new n(t,this);this["c"](t,e,i)}["c"](t,e,n){this["p"][He("0x15")](t,n),this["m"][He("0x15")](e,n)}["n"](t){return this["m"][He("0x16")](t)}["compress"](t){const e={types:[],buffers:[],baseVersion:t[0]["baseVersion"]};for(;t["length"];)this["n"](He("0x17"))[He("0x18")](e,t)||this["n"](He("0x12"))[He("0x18")](e,t)||this["n"](He("0x13"))[He("0x18")](e,t)||this["n"]("ForwardDeletingAction")["compress"](e,t)||this["n"](He("0x19"))["compress"](e,t)||this["n"](He("0x11"))["compress"](e,t)||this["n"](t[0]["__className"])[He("0x18")](e,t);return e}[He("0x1a")](t){const e=[];for(;t[He("0x1b")][He("0x1c")];)this["p"]["get"](t[He("0x1b")][0])[He("0x1a")](e,t);return e[He("0x1d")]((e,n)=>e[He("0x1e")]=t[He("0x1e")]+n),e}}var Je=n("11c1"),Ye=n.n(Je),Ge=n("0dad"),Ke=n.n(Ge),Xe=n("709a"),Qe=n.n(Xe),Ze=n("0d15"),tn=n.n(Ze);const en=Symbol("wsGateway"),nn=Symbol("id"),rn=Symbol("serviceName"),sn=Symbol("queue"),on=Symbol("handlers");class an extends M["a"]{constructor(t,e,n){super({idProperty:"id"}),this[en]=t,this[nn]=e,this[rn]=n,this[sn]=[],this[on]=new Map,this["listenTo"](t,"change:state",async(i,r,s)=>{if(s===E["a"]["STATE_DISCONNECTED"]){for(this["_started"]=!1,this[sn]=[];this["length"];)super["remove"](0);this["fire"]("disconnected")}s===E["a"]["STATE_CONNECTED"]&&await this["_init"](t,e,n)},{priority:E["a"]["_CHANGE_STATE_EVENT_PRIORITY"]})}async["_init"](){const t=new tn.a(this[nn],this[rn]);let e;try{const n=await this[en]["_sendRequest"](un,tn.a["TYPE"],a.a["encode"](t),!1);e=a.a["decode"](n,Qe.a)}catch(i){e=new Qe.a(this[nn],[])}this["_attachHandlers"](this[en],e["channel"],this[rn]);const n=await ln(this[en],e["sessions"]);for(const r of n)super["add"](r);this["_started"]=!0,await this["_runQueue"]()}["_attachHandlers"](t,e,n){const i=t["_getChannel"](n,e);this["_addHandler"](i,Ke.a["TYPE_CONNECT"],async(e,n,i)=>{const r=i,s=String["fromCharCode"]["apply"](null,n);if(-1===this["getIndex"](r)){const e={id:r};s&&(e["user"]=await ht["a"]["get"](t,s)),super["add"](e)}}),this["_addHandler"](i,Ke.a["TYPE_DISCONNECT"],async(t,e,n)=>{-1!==this["getIndex"](n)&&super["remove"](n)}),this["on"]("disconnected",()=>{this["stopListening"](i)})}async["_runQueue"](){if(this["_isRunning"]||!this["_started"])return;let t;for(this["_isRunning"]=!0;t=this[sn]["shift"]();){const e=t["event"]["name"],n=this[on]["get"](e);n&&await n(t["event"],t["data"],t["origin"])}this["_isRunning"]=!1}["_addHandler"](t,e,n){const i=t["getEventName"](e,!0);this["listenTo"](t,i,async(t,e,n)=>{this[sn]["push"]({event:t,data:e,origin:n}),await this["_runQueue"]()}),this[on]["set"](i,n)}}an["prototype"]["add"]=void 0,an["prototype"]["remove"]=void 0;var cn=an;async function ln(t,e){const n=e["map"](async e=>{const n={id:e["session"]};return n["user"]=e["user"]?await ht["a"]["get"](t,e["user"]):new ht["a"],n});return await Promise["all"](n)}const un=3;class hn{static async["getConnectedSessions"](t,e,n){const i=new cn(t,e,n);return await i["_init"](),i}}var dn=n("ca07"),fn=n.n(dn),pn=n("8050"),mn=n.n(pn),gn=n("807d"),bn=n.n(gn),vn=n("3d55"),wn=n.n(vn),yn=n("8855"),xn=n.n(yn),_n=n("3f33"),kn=n.n(_n),Cn=n("6b6f"),An=n.n(Cn);const Tn=Symbol("wsGateway"),On=Symbol("id"),En=Symbol("isConnected"),Pn=Symbol("engineVersion"),Sn=Symbol("connectPromise"),Rn=1;class In{constructor(t,e){if(!t)throw new TypeError('Param "engineVersion" must be provided.');this[On]=e||Ye.a["v4"](),this[En]=!1,this[Pn]=t,this[Tn]=void 0,this[Sn]=void 0}["getId"](){return this[On]}["isConnected"](){return this[En]}["connect"](t,e={}){const n=new fn.a(this["getId"](),e["buffers"],e["types"],this[Pn]);return this["_connect"](t,n)}["reconnect"](t,e){if(this["isConnected"]())throw new P["a"]("alreadyConnected","Cannot reconnect to already connected service.");return this["_connect"](t,new bn.a(this["getId"](),e,this[Pn]))}["sendOperations"](t,e){if(!t||!t["types"]||!t["types"]["length"])return Promise["reject"](new P["a"]("emptyUpdate","Cannot send empty update."));const n=parseInt(e);if(!Number["isInteger"](n)||n<0)return Promise["reject"](new P["a"]("noBaseVersion","Base version not provided."));const i=new mn.a(this["getId"](),t["buffers"],t["types"],e);return new Promise((t,e)=>{this[Tn]["_sendRequest"](Rn,mn.a["TYPE"],a.a["encode"](i))["then"](t)["catch"](e)})["then"](t=>a.a["decode"](t,wn.a))}["_connect"](t,e){if(this["isConnected"]())return Promise["resolve"]();if(this[Sn])return this[Sn];if(t["state"]!==E["a"]["STATE_CONNECTED"])throw new P["a"]("webSocketGatewayNotConnected","Web socket gateway is not connected",{state:t["state"]});return this[Sn]=new Promise(async(n,i)=>{try{this[Tn]=t,this["stopListening"](t,"change:state");const s=await t["_sendRequest"](Rn,e["constructor"]["TYPE"],a.a["encode"](e));t["_serviceRegister"]["register"](this["constructor"]["_SERVICE"],this["getId"](),this),this[En]=!0,this["fire"]("connected"),this["listenTo"](t,"change:state",(...t)=>this["_onWsGatewayStateChange"](...t),{priority:E["a"]["_CHANGE_STATE_EVENT_PRIORITY"]}),this[Sn]=void 0;const o=a.a["decode"](s,xn.a);this["_connectToChannel"](t,o["channel"]),n(o)}catch(r){i(r)}}),this[Sn]}["_connectToChannel"](t,e){const n=t["_getChannel"](In["_SERVICE"],e);this["listenTo"](n,n["getEventName"](mn.a["TYPE"]),(t,e)=>{const n=a.a["decode"](e,mn.a);this["fire"]("operationsReceived",n["baseVersion"],n["data"])}),this["on"]("disconnected",()=>{this["stopListening"](n)})}["_onWsGatewayStateChange"](t,e,n){n===E["a"]["STATE_DISCONNECTED"]&&(this[En]=!1,this["fire"]("disconnected"))}static["fromJSON"](t={}){return new In(t["engineVersion"],t["id"])}static async["get"](t,e,n){return await t["_serviceRegister"]["get"](e,this,async()=>{const i=new kn.a(e),r=await t["_sendRequest"](Rn,kn.a["TYPE"],a.a["encode"](i));if(a.a["decode"](r,An.a)["exists"])return new In(n,e)})}static async["getConnectedSessions"](t,e){return hn["getConnectedSessions"](t,e,Rn)}static get["_SERVICE"](){return Rn}}Object(r["a"])(In,s["c"]);var Nn=In,jn=n("8ab1"),Mn=n("17e1"),Bn=n("f4bc"),Dn=n("73f9"),Vn=n("63d0"),Fn=n("869f"),Ln=n("6c92"),Un=n("8e03"),$n=n("6472"),zn=n("0066"),qn=n("98ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const Hn={};Hn[Dn["a"].className]=Dn["a"],Hn[Mn["a"].className]=Mn["a"],Hn[Bn["a"].className]=Bn["a"],Hn[Vn["a"].className]=Vn["a"],Hn[Fn["a"].className]=Fn["a"],Hn[Ln["a"].className]=Ln["a"],Hn[Un["a"].className]=Un["a"],Hn[$n["a"].className]=$n["a"],Hn[zn["a"].className]=zn["a"],Hn[qn["a"].className]=qn["a"];class Wn{static fromJSON(t,e){return Hn[t.__className].fromJSON(t,e)}}var Jn=n("0523"),Yn=["resolve","enqueueChange","transparent","batch","remove","compress","map","toJSON","decompress","fromJSON","baseVersion","CollaborativeEditingService","pluginName","RealTimeCollaborationClient","lastSyncVersion","offset","plugins","get","documentId","editor","model","document","_bufferedOperations","listenTo","change:range","directChange","_sendBufferedOperationsDelayed","getConnectedSessions","connection","then","load","catch","_crash","realtimecollaborationclient-init: Getting connected session error.","isDocumentOperation","_saveOperationInBuffer","reconnect","version","data","_isPendingUpdate","destroy","set","suppressErrorInCollaboration","\n\tTrying to use `editor.setData()` or `editor.data.set()` in real-time collaboration.\n\tRe-setting data in real-time collaboration usually means a mistake (incorrect integration or plugin).\n\tUsing it may overwrite local (not yet synchronized) changes on remote clients.\n\tIf you tried to set editor initial data, use `initialData` configuration option instead.\n\tIf you tried to set editor data in a plugin, consider applying the changes through the `Writer` in a `model.change()` block.\n\tIf you understand effects of using `editor.data.set()` in real-time collaboration and want to suppress this\n\terror, set `suppressErrorInCollaboration` flag to `true` in the second parameter of `editor.data.set()` call:\n\t`editor.data.set( '<p>Your data</p>', { suppressErrorInCollaboration: true } );`\n\t\t\t\t","addToReconnectionStack","service","operationsReceived","length","realtimecollaborationclient-initservice: Incorrect operation from the server.","realtimecollaborationclient-initservice: Internal CollaborativeEditingService error.","init","realtimecollaborationclient-init-document-already-initialized: Trying to set initial data to initialized document.","stop","sessions","add","fire","ready","realtimecollaborationclient-init: Connecting with the server resulted in error.","high","string","keys","roots","has","realtimecollaborationclient-init-non-existent-root: Attempting to init data on a non-existing root.","parse","getRoot","createPositionAt","push","markers","createRange","createPositionFromPath","start","slice","end","path","error","selection","changed","type","affectsData","isReadOnly","size","createUserMarkerOperations","from","wasUndone","history","isUndoneOperation","sendOperations","connected","state","realtimecollaborationclient-sendbufferedoperations: Sending update to the server error.","delete"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Yn,288);var Gn=function(t,e){t-=0;var n=Yn[t];return n};let Kn=1;class Xn extends i["a"]{static get["requires"](){return[j["a"],dt["a"],gt,B["a"]]}static get[Gn("0x0")](){return Gn("0x1")}get["cloudDocumentVersion"](){return this[Gn("0x2")]+this[Gn("0x3")]}["init"](){const t=this["editor"];this["n"]=t[Gn("0x4")][Gn("0x5")](B["a"]),this["a"]=t[Gn("0x4")][Gn("0x5")](j["a"]);const e=this["a"][Gn("0x6")];this["service"]=new Xn["CollaborativeEditingService"](Jn["a"],e),this[Gn("0x2")]=0,this["offset"]=0,this["h"]=this[Gn("0x7")][Gn("0x8")][Gn("0x9")],this["c"]=new We,this[Gn("0xa")]=new Set,this["l"]=new WeakSet,this["set"]("_isPendingUpdate",!1),this["d"]=null,this["p"]=!1,this["m"]=null,this[Gn("0xb")](t[Gn("0x8")][Gn("0x9")]["selection"],Gn("0xc"),(t,e)=>{e[Gn("0xd")]&&(this["p"]=!0,this["u"]()&&this[Gn("0xe")]())}),Xn["CollaborativeEditingService"][Gn("0xf")](this["a"][Gn("0x10")],e)[Gn("0x11")](e=>t["plugins"][Gn("0x5")](dt["a"])[Gn("0x12")](e))[Gn("0x13")](t=>this[Gn("0x14")](Gn("0x15"),t)),this["f"](),this["g"](),this[Gn("0x7")][Gn("0x8")]["on"]("applyOperation",(t,e)=>{const n=e[0];n[Gn("0x16")]&&(this[Gn("0x17")](n),this["k"]()&&this["_sendBufferedOperationsDelayed"]())}),this["b"]()}["reconnect"](){const t=this[Gn("0x7")][Gn("0x4")][Gn("0x5")](j["a"]);return this["service"][Gn("0x18")](t[Gn("0x10")],this["lastSyncVersion"])[Gn("0x11")](t=>this["y"]([],{version:t[Gn("0x19")],data:t[Gn("0x1a")],wereChangesApplied:!1,offset:t[Gn("0x3")]},Gn("0x18")))[Gn("0x11")](()=>this[Gn("0x1b")]=!1)}["destroy"](){super[Gn("0x1c")](),this["editor"][Gn("0x4")]["get"](j["a"])["removeFromReconnectionStack"](this),clearTimeout(this["m"])}["f"](){const t=this[Gn("0x7")]["data"][Gn("0x1d")];this[Gn("0x7")][Gn("0x1a")][Gn("0x1d")]=((...e)=>{if(!e[e["length"]-1][Gn("0x1e")])throw new Error(Gn("0x1f"));t["apply"](this[Gn("0x7")][Gn("0x1a")],e)})}["g"](){this["a"][Gn("0x20")](this),this[Gn("0x21")]["on"](Gn("0x22"),(t,e,n)=>{if(!this[Gn("0x1b")]&&this["h"]["version"]==e){const t=this["S"](n);this[Gn("0x2")]=e+t[Gn("0x23")],this["v"](t)||this[Gn("0x14")](Gn("0x24"))}}),this[Gn("0x21")]["on"]("error",(t,e)=>{this[Gn("0x14")](Gn("0x25"),e)})}["b"](){const t=this[Gn("0x7")][Gn("0x4")]["get"](dt["a"]);this["editor"][Gn("0x1a")]["on"](Gn("0x26"),(e,[n])=>{if(this["h"][Gn("0x19")])throw new Error(Gn("0x27"));e[Gn("0x28")]();const i=this["w"](n);this["C"](),e["return"]=this[Gn("0x21")]["connect"](this["a"][Gn("0x10")],this["_"](i))[Gn("0x11")](e=>{this["O"](),this[Gn("0xb")](t[Gn("0x29")],Gn("0x2a"),()=>{2==t["sessions"]["length"]&&(this["p"]=!0,this[Gn("0xe")]())}),this["P"](e,i),this["editor"]["data"][Gn("0x2b")](Gn("0x2c"))})["catch"](t=>this[Gn("0x14")](Gn("0x2d"),t))},{priority:Gn("0x2e")})}["w"](t){const e=this[Gn("0x7")]["model"],n=[];let i=0;const r=Gn("0x2f")==typeof t?{main:t}:t;for(const s of Object[Gn("0x30")](r)){if(!this["h"][Gn("0x31")][Gn("0x32")](s))throw new Error(Gn("0x33"));const t=this["editor"][Gn("0x1a")][Gn("0x34")](r[s]),o=this["h"][Gn("0x35")](s),a=new Mn["a"](e[Gn("0x36")](o,0),t,i++);n[Gn("0x37")](a);for(const[r,s]of t[Gn("0x38")]){const t=e[Gn("0x39")](e[Gn("0x3a")](o,s[Gn("0x3b")]["path"][Gn("0x3c")]()),e[Gn("0x3a")](o,s[Gn("0x3d")][Gn("0x3e")]["slice"]())),a=new Bn["a"](r,null,t,e[Gn("0x38")],!0,i++);n[Gn("0x37")](a)}}return n}["P"](t,e){let n;this[Gn("0x3")]=t[Gn("0x3")];const i=t["wereChangesApplied"];n=i?e:this["S"](t[Gn("0x1a")]),this[Gn("0x2")]=t[Gn("0x19")],this["I"](n,i)}["_crash"](t,e){this["_isPendingUpdate"]=!0;const n={message:t};return e&&(n[Gn("0x3f")]=e),this[Gn("0x7")][Gn("0x2b")]("crash",n),Promise["reject"](n)}[Gn("0x17")](t){if(Gn("0x40")===t)return Gn("0x41");this["l"][Gn("0x32")](t)||(this["l"][Gn("0x2a")](t),this[Gn("0xa")][Gn("0x2a")](t),this["d"]||"marker"==t[Gn("0x42")]&&!t[Gn("0x43")]||this["C"]())}["u"](){const t=this[Gn("0x7")][Gn("0x4")][Gn("0x5")](dt["a"])[Gn("0x29")];return!this[Gn("0x7")][Gn("0x44")]&&t["length"]>1&&this["p"]}["k"](){return this[Gn("0xa")][Gn("0x45")]>0||this["u"]()}["A"](){const t=this[Gn("0x7")][Gn("0x4")][Gn("0x5")](gt);if(this["u"]()&&(t[Gn("0x46")](),this["p"]=!1),!this["k"]())return Promise["resolve"]();const e=Array[Gn("0x47")](this[Gn("0xa")]);for(const i of e)i[Gn("0x48")]=this["h"][Gn("0x49")][Gn("0x4a")](i);const n=Kn++;return new Promise((t,i)=>this[Gn("0x21")][Gn("0x4b")](this["_"](e),this["lastSyncVersion"])[Gn("0x11")](t=>this["y"](e,t,n))[Gn("0x11")](t)[Gn("0x13")](t=>{if(i(t),Gn("0x4c")===this["a"][Gn("0x4d")])return this[Gn("0x14")](Gn("0x4e"),t)}))}["_sendBufferedOperationsDelayed"](){this[Gn("0x1b")]||(this[Gn("0x1b")]=!0,this["m"]=setTimeout(()=>{this["A"]()["then"](()=>{this["O"](),this[Gn("0x1b")]=!1})[Gn("0x13")](()=>{this["O"](),this["_isPendingUpdate"]=!1})},300))}["y"](t,e,n){if(e[Gn("0x3f")])return Promise["reject"](e[Gn("0x3f")]);let i=!1;if(e["wereChangesApplied"]){for(const e of t)this["_bufferedOperations"][Gn("0x4f")](e),delete e[Gn("0x48")];i=!0}else{const t=this["S"](e[Gn("0x1a")]);i=this["v"](t,e[Gn("0x19")])}return i?(this[Gn("0x2")]=e["version"],this["k"]()?this["A"]():Promise[Gn("0x50")]()):this["_crash"]("realtimecollaborationclient-handleserverresponse: Server response error.")}["v"](t,e){try{const i=Array[Gn("0x47")](this[Gn("0xa")]),r={document:this["h"],useRelations:!1,padWithNoOps:!0},{operationsA:s,operationsB:o}=Object(jn["a"])(t,i,r);Qn(s,this["h"][Gn("0x19")]),Qn(o,e),this["_bufferedOperations"]=new Set(o),this["I"](s)}catch(n){return console[Gn("0x3f")](n),!1}return!0}["I"](t,e=!1){this[Gn("0x7")][Gn("0x8")][Gn("0x51")](Gn("0x52"),e=>{for(const n of t)this["l"][Gn("0x2a")](n),e[Gn("0x53")]["addOperation"](n),this[Gn("0x7")][Gn("0x8")]["applyOperation"](n)})}["C"](){this["d"]=this["n"][Gn("0x2a")]("Sending data to the server.")}["O"](){this["d"]&&(this["n"][Gn("0x54")](this["d"]),this["d"]=null)}["_"](t){return this["c"][Gn("0x55")](t[Gn("0x56")](t=>t[Gn("0x57")]()))}["S"](t){return this["c"][Gn("0x58")](t)["map"](t=>{const e=Wn[Gn("0x59")](t,this["h"]);return e["wasUndone"]=t[Gn("0x48")],e})}}function Qn(t,e){for(const n of t)n[Gn("0x5a")]=e++}Xn[Gn("0x5b")]=Nn;var Zn=["_commentsService","CommentsService","editor","data","once","listenTo","_isThreadsLoadingPaused","connected","adapter","getCommentThread","then","commentThreadId","addComment","updateComment","removeComment","commentAdded","threads","has","addCommentThread","commentUpdated","commentRemoved","comments","getUser","includes","push","map","addUser","commentId","createdAt","userId","requires","init","get","plugins"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Zn,268);var ti=function(t,e){t-=0;var n=Zn[t];return n};class ei extends i["a"]{static get[ti("0x0")](){return[j["a"],rt,tt["a"],Xn]}[ti("0x1")](){const t=this["editor"]["plugins"][ti("0x2")](j["a"]),e=this["editor"][ti("0x3")]["get"](rt),{connection:n,documentId:i}=t;return this[ti("0x4")]=new(ei[ti("0x5")])(i),this[ti("0x6")][ti("0x7")][ti("0x8")]("ready",()=>{this[ti("0x9")](t,"change:state",(t,n,i)=>{e[ti("0xa")]=ti("0xb")!==i})}),e[ti("0xc")]={getCommentThread:t=>this["_commentsService"][ti("0xd")](t)[ti("0xe")](t=>this["o"]([t])[ti("0xe")](()=>({threadId:t[ti("0xf")],comments:t["comments"]["map"](ni)}))),addComment:({threadId:t,commentId:n,content:i})=>this[ti("0x4")][ti("0x10")](t,n,i)[ti("0xe")](t=>{e[ti("0x11")]({commentId:n,createdAt:t["createdAt"]})}),updateComment:({threadId:t,commentId:e,content:n})=>this[ti("0x4")][ti("0x11")](t,e,n),removeComment:({threadId:t,commentId:e})=>this["_commentsService"][ti("0x12")](t,e)},this[ti("0x4")]["on"](ti("0x13"),(t,n)=>{e[ti("0x14")][ti("0x15")](n["commentThreadId"])||e[ti("0x16")]({threadId:n[ti("0xf")]}),e[ti("0x10")](ni(n))}),this["_commentsService"]["on"](ti("0x17"),(t,{commentId:n,content:i})=>{e[ti("0x11")]({commentId:n,content:i})}),this["_commentsService"]["on"](ti("0x18"),(t,{commentId:n})=>{e[ti("0x12")](n)}),this[ti("0x4")]["connect"](n)[ti("0xe")](t=>this["o"](t)[ti("0xe")](()=>{for(const n of t){e[ti("0x16")]({threadId:n["commentThreadId"]});for(const t of n[ti("0x19")])e[ti("0x10")](ni(t))}}))}["o"](t){const e=this["editor"][ti("0x3")][ti("0x2")](tt["a"]),{connection:n}=this[ti("0x6")]["plugins"][ti("0x2")](j["a"]),i=[];for(const{comments:r}of t)for(const{userId:t}of r)e[ti("0x1a")](t)||i[ti("0x1b")](t)||i[ti("0x1c")](t);return Promise["all"](i[ti("0x1d")](t=>ht["a"][ti("0x2")](n,t)[ti("0xe")](t=>e[ti("0x1e")](t))))}}function ni(t){return{threadId:t[ti("0xf")],commentId:t[ti("0x1f")],content:t["content"],createdAt:t[ti("0x20")],authorId:t[ti("0x21")]}}ei[ti("0x5")]=N;var ii=n("3707"),ri='\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2019, CKSource Frederico Knabben. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 9.41c0 3.54 3.24 6.42 7.23 6.42 1.03 0 2.02-.19 2.95-.56 1.65.93 1.79.98 3.62 1.63.3.11.57.13.61.05.04-.08.02-.43-.08-.75-.48-1.63-.87-1.77-1.01-3.32a5.87 5.87 0 0 0 1.15-3.47C16.97 5.88 13.72 3 9.73 3S2.5 5.88 2.5 9.41zm9.64 0c0-.52.44-.95.97-.95s.96.43.96.95c0 .53-.43.95-.96.95a.96.96 0 0 1-.97-.95zm-3.37 0c0-.52.43-.95.96-.95.54 0 .97.43.97.95 0 .53-.43.95-.97.95a.96.96 0 0 1-.96-.95zm-3.38 0c0-.52.44-.95.97-.95s.96.43.96.95c0 .53-.43.95-.96.95a.96.96 0 0 1-.97-.95z"/></svg>\n',si=n("940e"),oi=n("8073"),ai=n("768b"),ci=n("85b1"),li="Expected a function";function ui(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError(li);return Object(It["a"])(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Object(ci["a"])(t,e,{leading:i,maxWait:e,trailing:r})}var hi=ui,di=["top","element","clientHeight","render","observe","destroy","disconnect","set","height","active","updateHeight","attributes","type","class","attributeName","childList","content","createCollection","bindTemplate","div","ck-sidebar_item","ck-rounded-corners","ck-sidebar_item--active"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(di,145);var fi=function(t,e){t-=0;var n=di[t];return n};const pi=Object(oi["a"])("px");class mi extends si["a"]{constructor(){super(),this["focusTracker"]=new ai["a"],this[fi("0x0")]("top"),this[fi("0x0")](fi("0x1"),0),this[fi("0x0")](fi("0x2")),this["U"]=hi(()=>this[fi("0x3")](),30),this["Q"]=new MutationObserver(t=>{for(const e of t)(fi("0x4")==e[fi("0x5")]&&fi("0x6")==e[fi("0x7")]||fi("0x8")==e[fi("0x5")])&&this["U"]()}),this[fi("0x9")]=this[fi("0xa")]();const t=this[fi("0xb")];this["setTemplate"]({tag:fi("0xc"),attributes:{class:["ck",fi("0xd"),fi("0xe"),t["if"](fi("0x2"),fi("0xf"))],style:{top:t["to"](fi("0x10"),t=>pi(t))},tabindex:-1},children:this[fi("0x9")]})}[fi("0x3")](){const t=this[fi("0x11")][fi("0x12")];t&&(this[fi("0x1")]=t)}[fi("0x13")](){super["render"](),this["focusTracker"]["add"](this[fi("0x11")]),this["Q"][fi("0x14")](this["element"],{attributes:!0,childList:!0,subtree:!0})}[fi("0x15")](){super["destroy"](),this["Q"][fi("0x16")](),this["U"]["cancel"]()}}var gi=["view","bind","bottom","height","getView","sidebaritem-not-empty: SidebarItem has already a View. Only one View is allowed.","content","get","setAfterItem","alignBeforeItem","min","alignAfterItem","max","destroy","stopListening","set","top","markerTop","change:markerTop","reset"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(gi,395);var bi=function(t,e){t-=0;var n=gi[t];return n};const vi=25;class wi{constructor(){this[bi("0x0")](bi("0x1")),this[bi("0x0")](bi("0x2"),0),this["on"](bi("0x3"),()=>this[bi("0x4")]()),this["view"]=new mi,this[bi("0x5")][bi("0x6")](bi("0x1"))["to"](this),this["bind"](bi("0x7"))["to"](this,bi("0x1"),this[bi("0x5")],bi("0x8"),(t,e)=>(t||0)+e)}["addView"](t){if(this[bi("0x9")]())throw new Error(bi("0xa"));this["view"][bi("0xb")]["add"](t)}[bi("0x9")](){return this[bi("0x5")][bi("0xb")][bi("0xc")](0)}[bi("0x4")](){this[bi("0x1")]=this[bi("0x2")]}[bi("0xd")](t){const e=yi(t[bi("0x7")],this[bi("0x2")]);e?this[bi("0x1")]=this["markerTop"]+e:this[bi("0x4")]()}[bi("0xe")](t){const e=yi(this[bi("0x7")],t["top"]);e?this[bi("0x1")]-=e:this[bi("0x1")]<this[bi("0x2")]&&(this[bi("0x1")]=Math[bi("0xf")](this[bi("0x2")],t[bi("0x1")]-vi-this["view"]["height"]))}[bi("0x10")](t){const e=yi(t["bottom"],this[bi("0x1")]);e?this[bi("0x1")]+=e:this["top"]>this["markerTop"]&&(this[bi("0x1")]=Math[bi("0x11")](this[bi("0x2")],t["bottom"]+vi))}[bi("0x12")](){this[bi("0x13")](),this[bi("0x5")][bi("0x12")]()}}function yi(t,e){return Math[bi("0x11")](t+vi-e,0)}Object(r["a"])(wi,et["a"]);n("3e91");var xi=["ck-reset","setTemplate","ck-sidebar"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(xi,208);var _i=function(t,e){t-=0;var n=xi[t];return n};class ki extends si["a"]{constructor(t){super(t),this["list"]=this["createCollection"](),this[_i("0x0")]({tag:"div",attributes:{class:["ck",_i("0x1"),_i("0x2")],tabindex:-1},children:this["list"]})}}var Ci=n("c78f"),Ai=n("4c7b"),Ti=n("0b65"),Oi=n("9a76"),Ei=["sidebar-missing-container: Missing container element.","render","list","bindTo","using","getIndex","updateHeight","markerTop","roots","root","after","mapper","markerNameToElements","name","values","getItems","mapViewToDom","sidebar-invalid-layout: Missing positioned container for the editor with a sidebar.","top","isFocused","selection","markers","isCollapsed","end","isTouching","textProxy","isObject","parentNode","push","set","activeView","items","_viewToItem","_itemToMarkers","_markerToItem","init","change:activeView","reset","listenTo","editor","update","focusTracker","change:isFocused","editing","view","document","refreshActiveView","model","add","has","sidebar-duplicated-item: Given view already added to the sidebar.","isArray","bind","active","addView","getRange","getView","get","change:bottom","alignBeforeItem","alignAfterItem","setAfterItem","remove","delete","addMarker","start","length","before","compareWith","splice","indexOf","destroy","cancel","isRendered","element","all","from","config","sidebar.container"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Ei,424);var Pi=function(t,e){t-=0;var n=Ei[t];return n};class Si extends i["a"]{constructor(t){super(t),this[Pi("0x0")](Pi("0x1"),null),this[Pi("0x2")]=new M["a"],this[Pi("0x3")]=new Map,this[Pi("0x4")]=new Map,this[Pi("0x5")]=new Map,this["P"]=hi(()=>{this["S"]()},400,{leading:!1})}[Pi("0x6")](){this["view"]=this["F"](),this["on"](Pi("0x7"),(t,e,n)=>{n&&this["_viewToItem"]["get"](n)[Pi("0x8")]()}),this[Pi("0x9")](this[Pi("0xa")]["ui"],Pi("0xb"),this["P"]),this[Pi("0x9")](this[Pi("0xa")]["ui"][Pi("0xc")],Pi("0xd"),(t,e,n)=>{n||(this[Pi("0x1")]=null)}),this[Pi("0x9")](this[Pi("0xa")][Pi("0xe")][Pi("0xf")][Pi("0x10")],"change:isFocused",(t,e,n)=>{n&&this[Pi("0x11")]()}),this[Pi("0xa")][Pi("0x12")][Pi("0x10")]["registerPostFixer"](()=>this["refreshActiveView"]())}[Pi("0x13")](t,e){if(this[Pi("0x3")][Pi("0x14")](t))throw new Error(Pi("0x15"));Array[Pi("0x16")](e)||(e=[e]);const n=new wi;n["view"][Pi("0x17")](Pi("0x18"))["to"](this,"activeView",e=>e===t),n[Pi("0x19")](t),this[Pi("0x3")]["set"](t,n);for(const s of e)this["addMarker"](t,s);const i=this["R"](this[Pi("0x4")]["get"](n)[0][Pi("0x1a")]());this[Pi("0x2")][Pi("0x13")](n,i),n[Pi("0xf")]["focusTracker"]["on"](Pi("0xd"),(t,e,i)=>{i&&(this[Pi("0x1")]=n[Pi("0x1b")]())}),n["markerTop"]=this["W"](this[Pi("0x4")][Pi("0x1c")](n)[0]),n["on"]("change:top",hi((t,e,i,r)=>{const s=this["G"](n);s&&(this[Pi("0x1")]===s[Pi("0x1b")]()?n["alignAfterItem"](s):i<r&&s["alignBeforeItem"](n))},10,{leading:!1})),n["on"](Pi("0x1d"),hi((t,e,i,r)=>{const s=this["j"](n);s&&(this[Pi("0x1")]===s["getView"]()?n[Pi("0x1e")](s):i>r&&s[Pi("0x1f")](n))},10,{leading:!1}));const r=this["G"](n);r?n[Pi("0x20")](r):n["reset"](),n["view"]["updateHeight"]()}[Pi("0x21")](t){const e=this[Pi("0x3")]["get"](t);if(!e)return;this[Pi("0x1")]==t&&(this[Pi("0x1")]=null);const n=this["G"](e),i=this["j"](e);this[Pi("0x3")][Pi("0x22")](t);for(const r of this["_itemToMarkers"][Pi("0x1c")](e))this[Pi("0x5")][Pi("0x22")](r);this[Pi("0x4")][Pi("0x22")](e),this[Pi("0x2")][Pi("0x21")](e),e["destroy"](),n&&n[Pi("0x8")](),i&&i[Pi("0x8")]()}[Pi("0x23")](t,e){const n=this["_viewToItem"][Pi("0x1c")](t);let i=[];if(this[Pi("0x4")][Pi("0x14")](n)){const t=e[Pi("0x1a")]()[Pi("0x24")];(i=this[Pi("0x4")]["get"](n))["splice"](function(t,e){for(let n=0;n<e[Pi("0x25")];n++)if(Pi("0x26")!=e[n][Pi("0x1a")]()[Pi("0x24")][Pi("0x27")](t))return n;return e[Pi("0x25")]}(t,i),0,e)}else i=[e];this["_markerToItem"]["set"](e,n),this[Pi("0x4")][Pi("0x0")](n,i)}["hasMarker"](t){return this[Pi("0x5")][Pi("0x14")](t)}["removeMarker"](t){const e=this[Pi("0x5")][Pi("0x1c")](t),n=this[Pi("0x4")]["get"](e);n[Pi("0x28")](n[Pi("0x29")](t),1),this["_markerToItem"]["delete"](t)}["setMarkers"](t,e){const n=this[Pi("0x3")][Pi("0x1c")](t),i=this[Pi("0x4")][Pi("0x1c")](n);for(const r of i)this[Pi("0x5")][Pi("0x22")](r);this[Pi("0x4")][Pi("0x0")](n,[]);for(const r of e)this[Pi("0x23")](t,r)}[Pi("0x2a")](){return this["P"][Pi("0x2b")](),this[Pi("0xf")]&&this["view"][Pi("0x2c")]&&this[Pi("0xf")][Pi("0x2d")][Pi("0x21")](),Promise[Pi("0x2e")](Array[Pi("0x2f")](this[Pi("0x2")],t=>t[Pi("0x2a")]()))["then"](super[Pi("0x2a")]())}["F"](){const t=this[Pi("0xa")],e=new ki(t["locale"]);if(!Object(Oi["a"])(t[Pi("0x30")][Pi("0x1c")](Pi("0x31"))))throw new Error(Pi("0x32"));return e[Pi("0x33")](),t[Pi("0x30")]["get"](Pi("0x31"))["appendChild"](e[Pi("0x2d")]),t["ui"][Pi("0xf")]["registerChild"](e),e[Pi("0x34")][Pi("0x35")](this["items"])[Pi("0x36")](t=>t["view"]),t["ui"][Pi("0xc")][Pi("0x13")](e[Pi("0x2d")]),e}["G"](t){const e=this["items"][Pi("0x1c")](this[Pi("0x2")][Pi("0x37")](t)-1);return e?this["items"][Pi("0x1c")](e["id"]):null}["j"](t){const e=this["items"][Pi("0x1c")](this[Pi("0x2")][Pi("0x37")](t)+1);return e?this[Pi("0x2")]["get"](e["id"]):null}["S"](){for(const t of this[Pi("0x2")])t[Pi("0xf")][Pi("0x38")](),t[Pi("0x39")]=this["W"](this["_itemToMarkers"][Pi("0x1c")](t)[0])}["R"](t){const e=this[Pi("0xa")][Pi("0x12")][Pi("0x10")][Pi("0x3a")],n=e["getIndex"](t["root"]);let i=0;for(const r of this[Pi("0x2")]){const s=this[Pi("0x4")]["get"](r)[0];if(!s)continue;const o=s[Pi("0x1a")](),a=e[Pi("0x37")](o[Pi("0x3b")]);if(a>n)return i;if(a===n&&Pi("0x3c")===o["start"][Pi("0x27")](t[Pi("0x24")]))return i;i++}return i}["W"](t){const e=this[Pi("0xa")],n=e[Pi("0xe")],i=t["getRange"]();let r;r=Ri(i,e[Pi("0x12")]["schema"])?Object(Ti["a"])(n[Pi("0x3d")][Pi("0x3e")](t[Pi("0x3f")])[Pi("0x40")]()):Object(Ti["a"])(n[Pi("0x3d")]["toViewRange"](i)[Pi("0x41")]());const s=e[Pi("0x30")]["get"](Pi("0x31")),o=n[Pi("0xf")]["domConverter"][Pi("0x42")](r),a=this["q"](s,o);if(!a)throw new Error(Pi("0x43"));const c=new Ci["a"](a)[Pi("0x44")];return new Ci["a"](o)[Pi("0x44")]-c-(new Ci["a"](this[Pi("0xf")][Pi("0x2d")])[Pi("0x44")]-c)}["q"](t,e){if(!this["z"]){const n=Ii(t),i=Ii(e);this["z"]=Ni(n,i)}return this["z"]}[Pi("0x11")](){!this[Pi("0xa")][Pi("0xe")][Pi("0xf")]["document"][Pi("0x45")]&&this[Pi("0x1")]&&this[Pi("0x3")][Pi("0x1c")](this["activeView"])["view"]["focusTracker"][Pi("0x45")]||(this[Pi("0x1")]=this["J"]())}["J"](){for(const e of this[Pi("0xa")]["model"][Pi("0x10")][Pi("0x46")][Pi("0x47")])if(this[Pi("0x5")][Pi("0x14")](e))return this[Pi("0x5")][Pi("0x1c")](e)[Pi("0x1b")]();const t=this[Pi("0xa")][Pi("0x12")][Pi("0x10")][Pi("0x46")];return t[Pi("0x48")]?this["K"](t["getFirstPosition"]()):null}["K"](t){for(const[e,n]of this[Pi("0x4")])if(!(n[Pi("0x25")]<2))for(let i=1;i<n["length"];i++){const r=n[i-1][Pi("0x1a")](),s=n[i][Pi("0x1a")]();if(r[Pi("0x49")][Pi("0x4a")](t)&&s[Pi("0x24")][Pi("0x4a")](t))return e["getView"]()}return null}}function Ri(t,e){for(const n of t[Pi("0x41")]())if(n["is"](Pi("0x4b"))||e[Pi("0x4c")](n))return!0;return!1}function Ii(t){const e=[];let n=t;for(;null!==n;)(n=Object(Ai["a"])(n[Pi("0x4d")]))&&e[Pi("0x4e")](n);return e}function Ni(t,e){for(let n=0;n<t[Pi("0x25")];n++)for(let i=0;i<e[Pi("0x25")];i++)if(t[n]===e[i])return t[n]}var ji=n("18ce"),Mi=n("8ef8"),Bi=["submitView","Yes","submit","cancel","set","message","Are you sure?","div","ck-thread__remove-confirm-inner","label","icon","ck-thread__remove-confirm-","execute","bindTemplate"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Bi,195);var Di=function(t,e){t-=0;var n=Bi[t];return n};class Vi extends si["a"]{constructor(t){super(t);const e=this[Di("0x0")];this[Di("0x1")]=this["N"](t,Di("0x2"),ji["a"],Di("0x3")),this["cancelView"]=this["N"](t,"No",Mi["a"],Di("0x4")),this[Di("0x5")](Di("0x6"),Di("0x7")),this["setTemplate"]({tag:"div",attributes:{class:["ck-thread__remove-confirm"]},children:[{tag:Di("0x8"),attributes:{class:Di("0x9")},children:[{tag:"p",children:[{text:e["to"](Di("0x6"))}]},{tag:Di("0x8"),attributes:{class:"ck-thread__remove-confirm-actions"},children:[this[Di("0x1")],this["cancelView"]]}]}]})}["N"](t,e,n,i){const r=new ii["a"](t);return r[Di("0xa")]=e,r[Di("0xb")]=n,r["extendTemplate"]({attributes:{class:Di("0xc")+i}}),r["on"](Di("0xd"),()=>this["fire"](i)),r}}var Fi=["deregisterChild","_confirmView","remove","off","appendChild","registerChild","isConfirm","submit","fire","render","message","cancel","set","element","transitionend"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Fi,354);var Li=function(t,e){t-=0;var n=Fi[t];return n},Ui={showConfirm(t,e){const n=new Vi(this["locale"]);return n[Li("0x0")](),n[Li("0x1")]=t,n["on"](Li("0x2"),()=>{this[Li("0x3")]("isConfirm",!1),this["listenTo"](this[Li("0x4")],Li("0x5"),t=>{this[Li("0x6")](this["_confirmView"]),this[Li("0x7")][Li("0x4")][Li("0x8")](),this[Li("0x7")]=void 0,t[Li("0x9")]()})}),e[Li("0xa")](n[Li("0x4")]),this[Li("0xb")](n),this["_confirmView"]=n,this[Li("0x3")](Li("0xc"),!0),new Promise(t=>{n["on"](Li("0xd"),t)})},cancelConfirm(){this[Li("0xc")]&&this[Li("0x7")][Li("0xe")](Li("0x2"))}},$i=n("bb6e"),zi=n("2609"),qi='\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2019, CKSource Frederico Knabben. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.2 7h9.2c.6 0 1 .4 1 1v9.9c0 .5-.4 1-1 1H5.2a1 1 0 0 1-1-1V8c0-.6.4-1 1-1zm1 1.5c-.3 0-.5.2-.5.5v8c0 .3.2.5.5.5h.5c.2 0 .5-.2.5-.5V9c0-.3-.3-.5-.5-.5h-.5zm3.2 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.4zm3.5 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.5zm-1.4-7.1H8.3L6.5 3.6H3.8c-.5 0-.7.3-.7.8s.2.7.7.7h12c.6 0 .9-.2.9-.7 0-.5-.3-.8-1-.8h-2.4l-1.8-2.2z"/></svg>\n',Hi=n("70f2"),Wi=n.n(Hi),Ji=n("d420"),Yi=n.n(Ji),Gi=["ck-annotation__actions","ck-comment__actions--hidden","ck-annotation__actions--hidden","editButton","removeButton","ck-annotation__content-wrapper","content","label","icon","locale","Remove","extendTemplate","ck-comment--remove","listenTo","mouseenter","focus","render","element","edit","remove","[Today] HH:mm","[Yesterday] HH:mm","[Last] dddd HH:mm","MM-DD-YYYY HH:mm","set","nextAction","createdAt","createCollection","userView","ck-comment__user","ck-annotation__user","setTemplate","ck-comment__wrapper","isConfirm","ck-comment--remove-confirmation","div","ck-comment","ck-annotation","isEdit","ck-comment--edit","ck-comment__info","ck-annotation__info","span","name","ck-comment__info-name","time","ck-comment__info-time","ck-annotation__info-time","ck-comment__actions"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Gi,269);var Ki=function(t,e){t-=0;var n=Gi[t];return n};class Xi extends si["a"]{constructor(t,{author:e}){super(t),this[Ki("0x0")]("isEdit",!1),this[Ki("0x0")](Ki("0x1"),null),this[Ki("0x0")](Ki("0x2"),null),this["content"]=this[Ki("0x3")](),this["editButton"]=this["H"](),this["removeButton"]=this["D"](),this[Ki("0x4")]=new $i["a"](t,e),this[Ki("0x4")]["extendTemplate"]({attributes:{class:[Ki("0x5"),Ki("0x6")]}});const n=this["bindTemplate"];this[Ki("0x7")]({tag:"li",attributes:{class:[Ki("0x8"),n["if"](Ki("0x9"),Ki("0xa"))],tabindex:-1},children:[{tag:Ki("0xb"),attributes:{class:[Ki("0xc"),Ki("0xd"),n["if"](Ki("0xe"),Ki("0xf")),n["to"](Ki("0x1"),t=>t?"ck-comment--"+t:"")]},children:[this[Ki("0x4")],{tag:Ki("0xb"),attributes:{class:["ck-comment__main","ck-annotation__main"]},children:[{tag:Ki("0xb"),attributes:{class:[Ki("0x10"),Ki("0x11")]},children:[{tag:Ki("0x12"),children:[{text:this[Ki("0x4")][Ki("0x13")]}],attributes:{class:[Ki("0x14"),"ck-annotation__info-name"]}},{tag:Ki("0x15"),attributes:{datetime:n["to"]("createdAt"),class:[Ki("0x16"),Ki("0x17")]},children:[{text:n["to"](Ki("0x2"),t=>Qi(t))}]}]},{tag:Ki("0xb"),attributes:{class:[Ki("0x18"),Ki("0x19"),n["if"](Ki("0xe"),Ki("0x1a")),n["if"](Ki("0xe"),Ki("0x1b"))]},children:[this[Ki("0x1c")],this[Ki("0x1d")]]},{tag:"div",attributes:{class:[Ki("0x1e")]},children:this[Ki("0x1f")]}]}]}]})}["H"](){const t=new ii["a"](this["locale"]);return t[Ki("0x20")]="Edit",t[Ki("0x21")]=zi["a"],t["extendTemplate"]({attributes:{class:Ki("0xf")}}),t}["D"](){const t=new ii["a"](this[Ki("0x22")]);return t[Ki("0x20")]=Ki("0x23"),t[Ki("0x21")]=qi,t[Ki("0x24")]({attributes:{class:Ki("0x25")}}),t}["Y"](t,e){this[Ki("0x26")](t,Ki("0x27"),()=>this["nextAction"]=e),this[Ki("0x26")](t,Ki("0x28"),()=>this[Ki("0x1")]=e),this[Ki("0x26")](t,"mouseleave",()=>this[Ki("0x1")]=null),this[Ki("0x26")](t,"blur",()=>this[Ki("0x1")]=null)}[Ki("0x29")](){super["render"](),this["Y"](this[Ki("0x1c")][Ki("0x2a")],Ki("0x2b")),this["Y"](this[Ki("0x1d")]["element"],Ki("0x2c"))}}function Qi(t,e=new Date){const n=Yi()(e,t);return Wi()(t,Ki(0===n?"0x2d":1===n?"0x2e":n<7?"0x2f":"0x30"))}Object(r["a"])(Xi,Ui);var Zi=["change:content","element","innerHTML","set","content","setTemplate","div","ck-annotation__content","render"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Zi,417);var tr=function(t,e){t-=0;var n=Zi[t];return n};class er extends si["a"]{constructor(t){super(t),this[tr("0x0")](tr("0x1"),""),this[tr("0x2")]({tag:tr("0x3"),attributes:{class:["ck-comment__content",tr("0x4")]}})}[tr("0x5")](){super[tr("0x5")](),this["on"](tr("0x6"),(t,e,n)=>{this["element"]["innerHTML"]=n}),this[tr("0x7")][tr("0x8")]=this[tr("0x1")]}}var nr=n("3493"),ir=n("889a"),rr=n("5903"),sr=n("1339"),or=n("29da"),ar=n("511a"),cr=n("c38a"),lr=n("5491"),ur=["ck-editor__main","render","add","focus","Comment editor","ck-editor__aria-label_","createCollection","editable","setTemplate","div","ck-reset","ck-editor","ck-rounded-corners","ck-comment__input","comment","language"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(ur,422);var hr=function(t,e){t-=0;var n=ur[t];return n};class dr extends cr["a"]{constructor(t,e){super(t);const n=Object(V["a"])();this["main"]=this[hr("0x0")](),this[hr("0x1")]=new ar["a"](t,e),this["_"]=this["V"](n),this[hr("0x2")]({tag:hr("0x3"),attributes:{class:[hr("0x4"),hr("0x5"),hr("0x6"),hr("0x7")],role:hr("0x8"),dir:"ltr",lang:t[hr("0x9")],"aria-labelledby":"cke-editor__aria-label_"+n},children:[this["_"],{tag:"div",attributes:{class:hr("0xa"),role:"presentation"},children:this["main"]}]})}[hr("0xb")](){super[hr("0xb")](),this["main"][hr("0xc")](this[hr("0x1")])}[hr("0xd")](){this[hr("0x1")]["element"][hr("0xd")]()}["V"](t){const e=new lr["a"];return e["text"]=hr("0xe"),e["extendTemplate"]({attributes:{id:hr("0xf")+t,class:"ck-voice-label"}}),e}}var fr=["add","editable","bind","attachDomRoot","fire","ready","destroy","view","locale","element","init","editing","document","getRoot","name","rootName","render","_editableElements","set","focusTracker"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(fr,447);var pr=function(t,e){t-=0;var n=fr[t];return n};class mr extends or["a"]{constructor(t){super(t),this[pr("0x0")]=new dr(t[pr("0x1")],t["editing"][pr("0x0")])}get[pr("0x2")](){return this["view"][pr("0x2")]}[pr("0x3")](){const t=this["editor"][pr("0x4")][pr("0x0")],e=this["view"]["editable"],n=t[pr("0x5")][pr("0x6")]();e[pr("0x7")]=n[pr("0x8")],this[pr("0x0")][pr("0x9")]();const i=e[pr("0x2")];this[pr("0xa")][pr("0xb")](e[pr("0x7")],i),this[pr("0xc")][pr("0xd")](i),this["view"][pr("0xe")][pr("0xf")]("isFocused")["to"](this[pr("0xc")]),t[pr("0x10")](i),this[pr("0x11")](pr("0x12"))}[pr("0x13")](){this["view"][pr("0x13")](),super["destroy"]()}}var gr=n("232a"),br=n("290f"),vr=n("f61b"),wr=n("2d79"),yr=n("d4c1"),xr=n("4801"),_r=n("8a91"),kr=["getChild","childCount","setSelection","end","view","editing","name","placeholderElement","placeholder","set","change","low","change:placeholder","model","createRoot","data","create","initPlugins","then","init","fire","ready","destroy","focus","document","getRoot"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(kr,191);var Cr=function(t,e){t-=0;var n=kr[t];return n};class Ar extends ir["a"]{constructor(t={}){t["plugins"]=[br["a"],_r["a"],vr["a"],wr["a"],yr["a"],xr["a"]],super(t),this["ui"]=new mr(this),this[Cr("0x0")]("placeholder",""),this["model"]["document"]["on"](Cr("0x1"),()=>this["k"](),{priority:Cr("0x2")}),this["on"](Cr("0x3"),()=>this["k"]()),this[Cr("0x4")]["document"][Cr("0x5")](),this[Cr("0x6")]["processor"]=new sr["a"]}[Cr("0x7")](){return this[Cr("0x8")]()[Cr("0x9")](()=>this["ui"]["init"]())[Cr("0x9")](()=>this[Cr("0x6")][Cr("0xa")](""))[Cr("0x9")](()=>this[Cr("0xb")](Cr("0xc")))}["destroy"](){return super["destroy"]()["then"](()=>this["ui"][Cr("0xd")]())}[Cr("0xe")](){this[Cr("0x4")][Cr("0x1")](t=>{const e=this["model"][Cr("0xf")][Cr("0x10")](),n=e[Cr("0x11")](e[Cr("0x12")]-1);t[Cr("0x13")](n,Cr("0x14")),this["editing"][Cr("0x15")][Cr("0xe")]()})}["k"](){const t=this[Cr("0x16")]["view"],e=t[Cr("0xf")][Cr("0x10")](),n=e["getChild"](0);e[Cr("0x12")]>1||!n||"p"!=n[Cr("0x17")]?this[Cr("0x18")]&&(Object(gr["a"])(t,this[Cr("0x18")]),this[Cr("0x18")]=void 0):(Object(gr["b"])({view:t,element:n,text:this[Cr("0x19")]}),this["placeholderElement"]=n)}}Object(r["a"])(Ar,et["a"]),Object(r["a"])(Ar,rr["a"]);var Tr=n("0d02"),Or=n("91db"),Er=["then","resolve","locale","extendTemplate","label","Submit","fire","isEnabled","trim","Cancel","icon","setData","view","forEach","tab","focusNext","low","editor","keystrokes","focusTracker","value","set","submitButtonView","cancelButtonView","div","ck-comment__input-actions","Esc","execute","submit","length","Comment content is too long. Your comment has a "," characters but the limit is a 4000 characters.","high","render","listenTo","add","element","firstChild","document","change","getData","bind","editorReady","focus","isRendered","destroy"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Er,155);var Pr=function(t,e){t-=0;var n=Er[t];return n};class Sr extends si["a"]{constructor(t){super(t),this[Pr("0x0")]=new Ar,this[Pr("0x1")]=new Or["a"],this[Pr("0x2")]=new ai["a"],this["set"](Pr("0x3"),""),this[Pr("0x4")]("disabledSubmit",!1),this[Pr("0x4")]("placeholder",""),this[Pr("0x5")]=this["y"](),this[Pr("0x6")]=this["x"](),this["setTemplate"]({tag:Pr("0x7"),attributes:{class:["ck-comment__input-wrapper"]},children:[{tag:Pr("0x7"),attributes:{class:[Pr("0x8")]},children:[this["submitButtonView"],this[Pr("0x6")]]}]}),this[Pr("0x1")][Pr("0x4")](Pr("0x9"),()=>this[Pr("0x6")]["fire"](Pr("0xa"))),this["on"](Pr("0xb"),(t,e)=>{e[Pr("0xc")]>4e3&&(alert(Pr("0xd")+e[Pr("0xc")]+Pr("0xe")),t["stop"]())},{priority:Pr("0xf")})}[Pr("0x10")](){super["render"]();const{editor:t,element:e}=this;this["keystrokes"][Pr("0x11")](e),this["focusTracker"][Pr("0x12")](e),t["create"]()["then"](()=>{e["insertBefore"](t["ui"][Pr("0x13")],e[Pr("0x14")]),t["model"][Pr("0x15")]["on"](Pr("0x16"),()=>this[Pr("0x3")]=t[Pr("0x17")]()),t[Pr("0x18")]("placeholder")["to"](this),this["B"](t),this["fire"](Pr("0x19"))})}[Pr("0x1a")](){this[Pr("0x0")][Pr("0x1a")]()}["destroy"](){return this[Pr("0x1b")]?this[Pr("0x0")][Pr("0x1c")]()[Pr("0x1d")](()=>super[Pr("0x1c")]()):Promise[Pr("0x1e")](super[Pr("0x1c")]())}["y"](){const t=new ii["a"](this[Pr("0x1f")]);return t[Pr("0x20")]({attributes:{class:["ck-comment__input-actions--submit"]}}),t[Pr("0x21")]=Pr("0x22"),t["icon"]=ji["a"],t["on"](Pr("0xa"),()=>this[Pr("0x23")](Pr("0xb"),this[Pr("0x3")])),t[Pr("0x18")](Pr("0x24"))["to"](this,"value",this,"disabledSubmit",(t,e)=>!e&&!!t[Pr("0x25")]()),t}["x"](){const t=new ii["a"](this[Pr("0x1f")]);return t[Pr("0x20")]({attributes:{class:["ck-comment__input-actions--cancel"]}}),t[Pr("0x21")]=Pr("0x26"),t[Pr("0x27")]=Mi["a"],t["on"](Pr("0xa"),()=>{this[Pr("0x23")]("cancel",this[Pr("0x3")]),this[Pr("0x0")][Pr("0x28")]("")}),t}["B"](t){const e=this["focusTracker"],n=new nr["a"];[t["ui"][Pr("0x29")],this[Pr("0x5")],this[Pr("0x6")]][Pr("0x2a")](t=>{n[Pr("0x12")](t),e[Pr("0x12")](t[Pr("0x13")])});const i=new Tr["a"]({focusables:n,focusTracker:e});this[Pr("0x1")][Pr("0x4")](Pr("0x2b"),(t,e)=>{i[Pr("0x2c")](),e()},{priority:"low"}),this[Pr("0x1")][Pr("0x4")]("shift + tab",(t,e)=>{i["focusPrevious"](),e()},{priority:Pr("0x2d")})}}var Rr=n("2577"),Ir=n.n(Rr),Nr=["then","author","bind","createdAt","editButton","isVisible","isEnabled","execute","removeButton","isEnabledForComment","showConfirm","Delete comment?","...","html","updateComment","Cannot edit comment when `updateComment` command is disabled.","cancel","editorReady","editor","focus","Permission denied for editing comment.","add","element","createElement","div","innerHTML","textContent","length","locale","comment","_pendingComments","placeholder","Reply...","set","isCollapsed","isEdit","change:isEdit","max","content","collapse","destroy","stopListening","view","remove","resolve"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Nr,478);var jr=function(t,e){t-=0;var n=Nr[t];return n};const Mr=200,Br=140;class Dr{constructor(t,e,n,i){this[jr("0x0")]=t,this[jr("0x1")]=e,this["C"]=n,this[jr("0x2")]=i,this[jr("0x3")]=jr("0x4"),this[jr("0x5")](jr("0x6"),!1),this["set"](jr("0x7"),!1),this["view"]=this["w"](),this["on"](jr("0x8"),(t,e,n)=>this["u"](n))}get["id"](){return this[jr("0x1")]["id"]}get["weight"](){return Math[jr("0x9")](Vr(this[jr("0x1")][jr("0xa")]),Mr)}["expand"](){this["isCollapsed"]=!1}[jr("0xb")](){this[jr("0x7")]||(this[jr("0x6")]=!0)}[jr("0xc")](){return this[jr("0xd")](),this[jr("0xe")][jr("0xc")](),this["_pendingComments"][jr("0xf")](this["id"]),Promise[jr("0x10")]()[jr("0x11")](()=>this[jr("0xe")][jr("0xa")]["get"](0)[jr("0xc")]())}["w"](){const t=new Xi(this["locale"],{author:this[jr("0x1")][jr("0x12")]}),{updateComment:e,removeComment:n}=this["C"];return t[jr("0x13")](jr("0x7"))["to"](this),t[jr("0x13")](jr("0x14"))["to"](this["comment"]),t["content"]["add"](this["p"]()),t[jr("0x15")][jr("0x13")](jr("0x16"))["to"](e,jr("0x17"),t=>t&&e["isEnabledForComment"](this[jr("0x1")])),t[jr("0x15")]["on"](jr("0x18"),()=>this["isEdit"]=!0),t[jr("0x19")][jr("0x13")](jr("0x16"))["to"](n,"isEnabled",t=>t&&n[jr("0x1a")](this[jr("0x1")])),t[jr("0x19")]["on"]("execute",()=>{t[jr("0x1b")](jr("0x1c"),t["element"])[jr("0x11")](()=>{n[jr("0x18")]({commentId:this["id"]})})}),t}["p"](){const t=new er(this[jr("0x0")]);return t[jr("0x13")]("content")["to"](this[jr("0x1")],jr("0xa"),this,jr("0x6"),(t,e)=>e?Ir()(t,{limit:Br,suffix:jr("0x1d")})[jr("0x1e")]:t),t}["b"](){const t=new Sr(this["locale"]),e=this["C"][jr("0x1f")];return t["placeholder"]=this[jr("0x3")],t[jr("0x13")]("disabledSubmit")["to"](e,jr("0x17"),t=>!t),t["on"]("submit",(t,n)=>{if(!e[jr("0x17")])throw new Error(jr("0x20"));e["execute"]({commentId:this["id"],content:n}),this[jr("0x7")]=!1,this["f"]()}),t["on"](jr("0x21"),()=>{this["isEdit"]=!1,this["f"]()}),t["once"](jr("0x22"),()=>{t[jr("0x23")]["setData"](this[jr("0x1")]["content"]),t[jr("0x24")]()}),t}["u"](t){const e=this["C"][jr("0x1f")];if(t&&!e[jr("0x1a")](this[jr("0x1")]))throw new Error(jr("0x25"));if(t&&!e["isEnabled"])throw new Error(jr("0x20"));this[jr("0xe")][jr("0xa")]["remove"](0)[jr("0xc")](),t?(this[jr("0xe")][jr("0xa")]["add"](this["b"]()),this[jr("0x2")][jr("0x5")](this["id"])):(this[jr("0xe")][jr("0xa")][jr("0x26")](this["p"]()),this[jr("0x2")][jr("0xf")](this["id"]))}["f"](){this["view"][jr("0x27")][jr("0x24")]()}}function Vr(t){const e=document[jr("0x28")](jr("0x29"));return e[jr("0x2a")]=t,e[jr("0x2b")][jr("0x2c")]}Object(r["a"])(Dr,et["a"]);var Fr=n("e805"),Lr=["children","ck-comment__input-actions--active","set","active","visibleActions","focusTracker","commentInputView","userView","ck-thread__user","setTemplate","div","ck-thread","isConfirm","ck-thread--remove-confirmation","nextAction","comments","ck-comment__input-container","visibleInput","ck-comment__input-container--active","ck-comment__input-container--active-actions","render","element","containerElement",".ck-thread__container","destroy","then","bindTemplate","ck-thread__input","extend","template"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Lr,272);var Ur=function(t,e){t-=0;var n=Lr[t];return n};class $r extends si["a"]{constructor(t,e){super(t),this[Ur("0x0")](Ur("0x1"),!1),this[Ur("0x0")]("visibleInput",!1),this[Ur("0x0")](Ur("0x2"),!1),this[Ur("0x0")]("nextAction",null),this[Ur("0x3")]=new ai["a"],this["comments"]=this["createCollection"](),this[Ur("0x4")]=this["b"](),this["userView"]=new $i["a"](t,e),this[Ur("0x5")]["extendTemplate"]({attributes:{class:Ur("0x6")}});const n=this["bindTemplate"];this[Ur("0x7")]({tag:Ur("0x8"),attributes:{class:[Ur("0x9"),n["if"](Ur("0x1"),"ck-thread--active"),n["if"](Ur("0xa"),Ur("0xb")),n["to"](Ur("0xc"),t=>t?"ck-thread--"+t:"")],tabindex:-1},children:[{tag:Ur("0x8"),attributes:{class:"ck-thread__container"},children:[{tag:"ul",attributes:{class:["ck-thread__comments"]},children:this[Ur("0xd")]},{tag:Ur("0x8"),attributes:{class:[Ur("0xe"),n["if"](Ur("0xf"),Ur("0x10")),n["if"](Ur("0x2"),Ur("0x11"))]},children:[this[Ur("0x5")],this[Ur("0x4")]]}]}]})}[Ur("0x12")](){super[Ur("0x12")](),this[Ur("0x3")]["add"](this[Ur("0x13")]),this[Ur("0x14")]=this[Ur("0x13")]["querySelector"](Ur("0x15"))}[Ur("0x16")](){return this[Ur("0x4")]["destroy"]()[Ur("0x17")](()=>super[Ur("0x16")]())}["b"](){const t=new Sr(this["locale"]),e=this[Ur("0x18")];return t["extendTemplate"]({attributes:{class:Ur("0x19")}}),Fr["a"][Ur("0x1a")](t[Ur("0x1b")][Ur("0x1c")][0],{attributes:{class:[e["if"]("visibleActions",Ur("0x1d"))]}}),t}}Object(r["a"])($r,Ui);var zr=["count","bindTemplate","setTemplate"," Comment"," Comments","set"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(zr,479);var qr=function(t,e){t-=0;var n=zr[t];return n};class Hr extends si["a"]{constructor(t){super(t),this[qr("0x0")](qr("0x1"));const e=this[qr("0x2")];this[qr("0x3")]({tag:"li",attributes:{class:"ck-thread__comment-count"},children:[{text:e["to"](qr("0x1"),t=>1==t?t+qr("0x4"):t+qr("0x5"))}]})}}var Wr=["get","collapsed","first","expand","stopListening","map","addComment","comments","bind","count","Reply...","submit","execute","editor","cancel","disabledSubmit","isEnabled","value","isFocused","removeAllRanges","element","focus","cancelConfirm","locale","thread","_pendingComments","commentControllers","using","visibleCommentControllers","set","length","isCollapsed","active","visibleInput","visibleActions","collapse","listenTo","removeCommentThread","change:isEnabled","change:active","change","add","destroy","view","focusTracker","low","totalWeight","from","reduce","every","isEdit","Cannot collapse collapsed comment.","remove"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Wr,341);var Jr=function(t,e){t-=0;var n=Wr[t];return n};const Yr=500,Gr=2;class Kr{constructor(t,e,n,i){this[Jr("0x0")]=t,this[Jr("0x1")]=e,this["C"]=n,this[Jr("0x2")]=i,this[Jr("0x3")]=new M["a"],this["commentControllers"]["bindTo"](this[Jr("0x1")])[Jr("0x4")](e=>new Dr(t,e,n,i)),this[Jr("0x5")]=Xr(this[Jr("0x3")]),this[Jr("0x6")](Jr("0x7"),this[Jr("0x3")][Jr("0x7")]),this[Jr("0x6")](Jr("0x8"),!1),this[Jr("0x6")](Jr("0x9"),!1),this[Jr("0x6")](Jr("0xa"),!1),this[Jr("0x6")](Jr("0xb"),!1),this["view"]=this["v"](),this[Jr("0xc")](),this[Jr("0xd")](this["C"][Jr("0xe")],Jr("0xf"),()=>{this["A"]()}),this["on"](Jr("0x10"),(t,e,n)=>{this["T"](),n||this["A"]()}),this[Jr("0xd")](this[Jr("0x1")],Jr("0x11"),()=>{this["T"]()}),this["listenTo"](this[Jr("0x3")],Jr("0x12"),(t,e)=>{this[Jr("0x7")]=this[Jr("0x3")][Jr("0x7")],this["M"](e)}),this["listenTo"](this[Jr("0x3")],"remove",(t,e)=>{this[Jr("0x7")]=this[Jr("0x3")][Jr("0x7")],this["I"](e),e[Jr("0x13")]()}),this[Jr("0xd")](this["C"]["removeComment"],"execute",()=>{this[Jr("0x14")][Jr("0x15")]["isFocused"]&&this["f"]()},{priority:Jr("0x16")})}get["id"](){return this["thread"]["id"]}get[Jr("0x17")](){return Array[Jr("0x18")](this[Jr("0x3")])[Jr("0x19")]((t,e)=>t+e["weight"],0)}get["L"](){return!this["active"]&&this[Jr("0x17")]>Yr&&Array[Jr("0x18")](this[Jr("0x3")])[Jr("0x1a")](t=>!t[Jr("0x1b")])}[Jr("0xc")](){if(this[Jr("0x8")])throw new Error(Jr("0x1c"));const t=this[Jr("0x7")]-Gr;for(let e=1;e<=t;e++)this[Jr("0x5")][Jr("0x1d")](this["commentControllers"][Jr("0x1e")](e));this["visibleCommentControllers"][Jr("0x7")]<this[Jr("0x7")]&&this[Jr("0x5")][Jr("0x12")]({g:Jr("0x1f"),id:Jr("0x1f")},1),this[Jr("0x17")]>Yr&&(this[Jr("0x5")][Jr("0x20")][Jr("0xc")](),this[Jr("0x5")]["last"][Jr("0xc")](),this["isCollapsed"]=!0)}[Jr("0x21")](){this[Jr("0x5")]["get"](Jr("0x1f"))&&this[Jr("0x5")][Jr("0x1d")](Jr("0x1f"));for(let t=0;t<this[Jr("0x3")][Jr("0x7")];t++){const e=this[Jr("0x3")]["get"](t);this[Jr("0x5")][Jr("0x1e")](t)!=e&&this["visibleCommentControllers"][Jr("0x12")](e,t)}for(const t of this[Jr("0x3")])t[Jr("0x21")]();this[Jr("0x8")]=!1}[Jr("0x13")](){return this[Jr("0x2")][Jr("0x1d")](this["id"]),this[Jr("0x22")](),Promise["all"]([this[Jr("0x14")],...this[Jr("0x3")]][Jr("0x23")](t=>t["destroy"]()))}["v"](){const{author:t}=this["C"][Jr("0x24")],e=new $r(this[Jr("0x0")],t);return e["bind"](Jr("0x9"),Jr("0xa"),Jr("0xb"))["to"](this),e[Jr("0x25")]["bindTo"](this["visibleCommentControllers"])[Jr("0x4")](t=>{if(Jr("0x1f")===t["id"]){const t=new Hr(this[Jr("0x0")]);return t[Jr("0x26")](Jr("0x27"))["to"](this,Jr("0x7"),t=>t-Gr),t}return t[Jr("0x14")]}),this["O"](e["commentInputView"]),e}["O"](t){t["placeholder"]=Jr("0x28"),t["on"](Jr("0x29"),(e,n)=>{this["C"][Jr("0x24")][Jr("0x2a")]({threadId:this["id"],content:n}),t[Jr("0x2b")]["setData"]("")},{priority:"high"}),t["on"](Jr("0x29"),()=>{this["f"]()},{priority:"low"}),t["on"](Jr("0x2c"),()=>{this["f"]()},{priority:Jr("0x16")}),t["on"]("change:value",(t,e,n)=>{n?this[Jr("0x2")][Jr("0x6")](this["id"]):this[Jr("0x2")][Jr("0x1d")](this["id"])}),t[Jr("0x26")](Jr("0x2d"))["to"](this["C"]["addComment"],Jr("0x2e"),t=>!t),this[Jr("0x26")](Jr("0xa"))["to"](this,Jr("0x9"),this["C"]["addComment"],Jr("0x2e"),t,Jr("0x2f"),(t,e,n)=>{const i=!!n;return i||!i&&t&&e}),this[Jr("0x26")](Jr("0xb"))["to"](t[Jr("0x15")],Jr("0x30"),t,"value",(t,e)=>t||!!e)}["T"](){this[Jr("0x8")]&&!this["L"]?this[Jr("0x21")]():!this[Jr("0x8")]&&this["L"]&&this[Jr("0xc")]()}["M"](t){this[Jr("0x5")]["add"](t),!this[Jr("0x8")]&&this["L"]?this[Jr("0xc")]():this[Jr("0x8")]&&(this[Jr("0x5")]["remove"](this[Jr("0x5")][Jr("0x7")]-2),t[Jr("0xc")]())}["I"](t){this[Jr("0x5")][Jr("0x1e")](t["id"])&&this[Jr("0x5")]["remove"](t),this[Jr("0x8")]&&(this["L"]?this["visibleCommentControllers"][Jr("0x7")]<=Gr&&this[Jr("0x5")]["add"](this[Jr("0x3")]["last"]):this[Jr("0x21")]())}["f"](){document["getSelection"]()[Jr("0x31")](),this[Jr("0x14")][Jr("0x32")][Jr("0x33")]()}["A"](){this[Jr("0x14")][Jr("0x34")]();for(const t of this[Jr("0x3")])t["view"]["cancelConfirm"]()}}function Xr(t){const e=new M["a"];for(const n of t)e[Jr("0x12")](n);return e}Object(r["a"])(Kr,et["a"]);n("539d"),n("ce97"),n("4886"),n("ed4f");var Qr=["_modelToController","init","plugins","get","editor","listenTo","threadLoaded","model","comment:","set","add","view","length","element","focus","threadUnloaded","remove","destroy","delete","has","active","activeMarker","componentFactory","commands","addCommentThread","label","Inline comment","Comment","bind","isEnabled","execute","_pendingComments","removeCommentThread","addComment","updateComment","removeComment","locale","commentInputView","once","editorReady","placeholder","Write a comment...","submit","editing","stop","cancel","value","removeButton","from","every","isEnabledForComment","nextAction","showConfirm","Delete comment thread?","containerElement","then","high","requires"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(Qr,115);var Zr=function(t,e){t-=0;var n=Qr[t];return n};class ts extends i["a"]{static get[Zr("0x0")](){return[Si,rt]}constructor(t){super(t),this[Zr("0x1")]=new Map,this["h"]=new Map}[Zr("0x2")](){const t=this["editor"],e=t[Zr("0x3")][Zr("0x4")](rt),n=this[Zr("0x5")]["plugins"]["get"](Si);this[Zr("0x6")](e,Zr("0x7"),(e,i)=>{const r=this["l"](i),s=t[Zr("0x8")]["markers"][Zr("0x4")](Zr("0x9")+i["id"]);this["_modelToController"][Zr("0xa")](i,r),this["h"]["set"](r["view"],r),n[Zr("0xb")](r[Zr("0xc")],s),r[Zr("0xd")]||r[Zr("0xc")][Zr("0xe")][Zr("0xf")]()}),this[Zr("0x6")](e,Zr("0x10"),(t,e)=>{const i=this[Zr("0x1")][Zr("0x4")](e);i&&(n[Zr("0x11")](i[Zr("0xc")]),i[Zr("0x12")](),this[Zr("0x1")]["delete"](e),this["h"][Zr("0x13")](i[Zr("0xc")]))}),this[Zr("0x6")](n,"change:activeView",(t,n,i,r)=>{if(r&&this["h"][Zr("0x14")](r)&&(this["h"][Zr("0x4")](r)[Zr("0x15")]=!1),i&&this["h"][Zr("0x14")](i)){const t=this["h"]["get"](i);t[Zr("0x15")]=!0,e[Zr("0x16")]=Zr("0x9")+t["id"]}else e[Zr("0x16")]=null}),t["ui"][Zr("0x17")][Zr("0xb")]("comment",e=>{const n=new ii["a"](e),i=t[Zr("0x18")][Zr("0x4")](Zr("0x19"));return n[Zr("0x1a")]=Zr("0x1b"),n["tooltip"]=Zr("0x1c"),n["icon"]=ri,n[Zr("0x1d")](Zr("0x1e"))["to"](i),this[Zr("0x6")](n,Zr("0x1f"),()=>i["execute"]()),n})}["l"](t){const e=this[Zr("0x5")],n=e[Zr("0x3")][Zr("0x4")](rt)[Zr("0x20")],i=e[Zr("0x18")],r={addCommentThread:i[Zr("0x4")]("addCommentThread"),removeCommentThread:i[Zr("0x4")](Zr("0x21")),addComment:i[Zr("0x4")](Zr("0x22")),updateComment:i[Zr("0x4")](Zr("0x23")),removeComment:i[Zr("0x4")](Zr("0x24"))},s=new Kr(e[Zr("0x25")],t,r,n),o=s[Zr("0xc")][Zr("0x26")];return s[Zr("0xd")]?es(this["editor"],s):(s[Zr("0x27")]("change:length",()=>es(e,s)),o[Zr("0x27")](Zr("0x28"),()=>o[Zr("0xf")]())),o[Zr("0x1d")](Zr("0x29"))["to"](s,"length",t=>t?"Reply...":Zr("0x2a")),o["on"](Zr("0x2b"),t=>{1===s["length"]&&(e[Zr("0x2c")]["view"][Zr("0xf")](),t[Zr("0x2d")]())}),o["on"](Zr("0x2e"),t=>{s[Zr("0xd")]||(e["execute"](Zr("0x21"),{threadId:s["id"]}),e["editing"][Zr("0xc")][Zr("0xf")](),t[Zr("0x2d")]())}),s["on"]("change:active",(t,n,i)=>{i||s[Zr("0xd")]||o[Zr("0x2f")]||e["execute"]("removeCommentThread",{threadId:s["id"]})}),s}}function es(t,e){const n=e["commentControllers"][Zr("0x4")](0),i=t[Zr("0x18")][Zr("0x4")](Zr("0x21")),r=t[Zr("0x18")][Zr("0x4")]("removeComment");n["placeholder"]=Zr("0x2a"),n["view"]["removeButton"]["unbind"](),n[Zr("0xc")][Zr("0x30")][Zr("0x1d")]("isVisible")["to"](i,Zr("0x1e"),e,Zr("0xd"),t=>t&&Array[Zr("0x31")](e["commentControllers"])[Zr("0x32")](t=>r[Zr("0x33")](t["comment"]))),e[Zr("0xc")]["bind"](Zr("0x34"))["to"](n[Zr("0xc")],Zr("0x34"),t=>"remove"===t?Zr("0x11"):null),n[Zr("0xc")][Zr("0x30")]["on"](Zr("0x1f"),n=>{n[Zr("0x2d")](),e[Zr("0xc")][Zr("0x35")](Zr("0x36"),e["view"][Zr("0x37")])[Zr("0x38")](()=>{t["execute"]("removeCommentThread",{threadId:e["id"]}),t[Zr("0x2c")][Zr("0xc")][Zr("0xf")]()})},{priority:Zr("0x39")})}var ns=["addComment","updateComment","removeComment","getCommentThreads","requires","Comments","licenseKey","editor","config","get","adapter","plugins","addCommentThread"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(ns,368);var is=function(t,e){t-=0;var n=ns[t];return n};class rs extends i["a"]{static get[is("0x0")](){return[rt,ts]}static get["pluginName"](){return is("0x1")}["init"](){this[is("0x2")]=this[is("0x3")][is("0x4")][is("0x5")](is("0x2"))}set[is("0x6")](t){this["editor"][is("0x7")][is("0x5")](rt)[is("0x6")]=t}get["adapter"](){return this[is("0x3")][is("0x7")][is("0x5")](rt)["adapter"]}["addCommentThread"](...t){this[is("0x3")][is("0x7")]["get"](rt)[is("0x8")](...t)}["addComment"](...t){this[is("0x3")][is("0x7")][is("0x5")](rt)[is("0x9")](...t)}[is("0xa")](...t){this["editor"][is("0x7")][is("0x5")](rt)[is("0xa")](...t)}["removeComment"](...t){this[is("0x3")]["plugins"][is("0x5")](rt)[is("0xb")](...t)}[is("0xc")](){return this[is("0x3")][is("0x7")][is("0x5")](rt)[is("0xc")]()}}n.d(e,"a",function(){return as});var ss=["requires","pluginName","RealTimeCollaborativeComments"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(ss,369);var os=function(t,e){t-=0;var n=ss[t];return n};class as extends i["a"]{static get[os("0x0")](){return[ei,Xn,rs]}static get[os("0x1")](){return os("0x2")}}},"0d02":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("a07d");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r{constructor(t){if(Object.assign(this,t),t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];"string"==typeof n&&(n=[n]);for(const i of n)t.keystrokeHandler.set(i,(t,n)=>{this[e](),n()})}}get first(){return this.focusables.find(s)||null}get last(){return this.focusables.filter(s).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((e,n)=>{const i=e.element===this.focusTracker.focusedElement;return i&&(t=n),i}),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){const e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?"first":"last"];let i=(e+n+t)%n;do{const e=this.focusables.get(i);if(s(e))return e;i=(i+n+t)%n}while(i!==e);return null}}function s(t){return!(!t.focus||"none"==i["a"].window.getComputedStyle(t.element).display)}},"0d15":function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t,e){super(),this["id"]=t,this["sessionType"]=e}["toJSON"](){return{id:this["id"],sessionType:this["sessionType"]}}static get["TYPE"](){return 31}static get["DESCRIPTOR_NAME"](){return"GetSessionsMessage"}static get["DESCRIPTOR"](){return{fields:{id:{type:"string",id:1},sessionType:{type:"uint32",id:2}}}}static["fromJSON"](t){return new r(t["id"],t["sessionType"])}}t["exports"]=r},"0dad":function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t,e,n=[]){super(),this["type"]=t,this["origin"]=e,this["data"]=n}["toJSON"](){return{type:this["type"],origin:this["origin"],data:this["data"]}}static get["TYPE_CONNECT"](){return 1}static get["TYPE_DISCONNECT"](){return 2}static get["DESCRIPTOR_NAME"](){return"ChannelMessage"}static get["DESCRIPTOR"](){return{fields:{type:{type:"uint32",id:1},origin:{type:"string",id:2},data:{type:"bytes",id:3}}}}static["createConnect"](t,e){return new r(r["TYPE_CONNECT"],t,e)}static["createDisconnect"](t,e){return new r(r["TYPE_DISCONNECT"],t,e)}static["createEvent"](t,e,n){return new r(t,e,n)}static["fromJSON"](t){return new r(t["type"],t["origin"],t["data"])}}t["exports"]=r},"0e17":function(t,e,n){"use strict";var i=n("109b");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function r(t,e){return t=>{t.on("attribute:url:media",n)};function n(n,i,r){if(!r.consumable.consume(i.item,n.name))return;const s=i.attributeNewValue,o=r.writer,a=r.mapper.toViewElement(i.item);o.remove(o.createRangeIn(a));const c=t.getMediaViewElement(o,s,e);o.insert(o.createPositionAt(a,0),c)}}var s=n("652f"),o=n("2beb");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function a(t,e,n){return e.setCustomProperty("media",!0,t),Object(o["e"])(t,e,{label:n})}function c(t,e,n,i){const r=t.createContainerElement("figure",{class:"media"});return r.getFillerOffset=h,t.insert(t.createPositionAt(r,0),e.getMediaViewElement(t,n,i)),r}function l(t){const e=t.getSelectedElement();return e&&e.is("media")?e:null}function u(t,e,n){t.change(i=>{const r=i.createElement("media",{url:e});t.insertContent(r,n),i.setSelection(r,"on")})}function h(){return null}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class d extends s["a"]{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema,i=e.getFirstPosition(),r=l(e);let s=i.parent;s!=s.root&&(s=s.parent),this.value=r?r.getAttribute("url"):null,this.isEnabled=n.checkChild(s,"media")}execute(t){const e=this.editor.model,n=e.document.selection,i=l(n);if(i)e.change(e=>{e.setAttribute("url",t,i)});else{const i=Object(o["b"])(n,e);u(e,t,i)}}}var f='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',p=n("cd4b"),m=n("a16b"),g=n("631f"),b=n("e805");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const v="0 0 64 42";class w{constructor(t,e){const n=e.providers,i=e.extraProviders||[],r=new Set(e.removeProviders),s=n.concat(i).filter(t=>{const e=t.name;return e?!r.has(e):(p["a"].warn("media-embed-no-provider-name: The configured media provider has no name and cannot be used.",{provider:t}),!1)});this.locale=t,this.providerDefinitions=s}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,n){return this._getMedia(e).getViewElement(t,n)}_getMedia(t){if(!t)return new y(this.locale);t=t.trim();for(const e of this.providerDefinitions){const n=e.html;let i=e.url;Array.isArray(i)||(i=[i]);for(const e of i){const i=this._getUrlMatches(t,e);if(i)return new y(this.locale,t,i,n)}}return null}_getUrlMatches(t,e){let n=t.match(e);if(n)return n;let i=t.replace(/^https?:\/\//,"");return n=i.match(e),n||(i=i.replace(/^www\./,""),n=i.match(e),n||null)}}class y{constructor(t,e,n,i){this.url=this._getValidUrl(e),this._t=t.t,this._match=n,this._previewRenderer=i}getViewElement(t,e){const n={};if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");const i=this._getPreviewHtml(e);return t.createUIElement("div",n,function(t){const e=this.toDomElement(t);return e.innerHTML=i,e})}return this.url&&(n.url=this.url),t.createEmptyElement("oembed",n)}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new m["a"],e=new g["a"];t.text=this._t("Open media in new tab"),e.content=f,e.viewBox=v;const n=new b["a"]({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"new",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},t]}]}).render();return n.outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}n("d1c4");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class x extends i["a"]{static get pluginName(){return"MediaEmbedEditing"}constructor(t){super(t),t.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>{const e=t[1];return'<div style="position: relative; padding-bottom: 100%; height: 0; ">'+`<iframe src="https://www.dailymotion.com/embed/video/${e}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>'}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>{const e=t[1];return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">'+`<iframe src="https://open.spotify.com/embed/${e}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>'}},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:t=>{const e=t[1];return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+`<iframe src="https://www.youtube.com/embed/${e}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>'}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^\/]+\/[^\/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^\/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^\/]+\/(\d+)/,/^vimeo\.com\/groups\/[^\/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^\/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>{const e=t[1];return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+`<iframe src="https://player.vimeo.com/video/${e}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new w(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,e=t.model.schema,n=t.t,i=t.conversion,s=t.config.get("mediaEmbed.previewsInData"),o=this.registry;t.commands.add("mediaEmbed",new d(t)),e.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),i.for("dataDowncast").elementToElement({model:"media",view:(t,e)=>{const n=t.getAttribute("url");return c(e,o,n,{renderMediaPreview:n&&s})}}),i.for("dataDowncast").add(r(o,{renderMediaPreview:s})),i.for("editingDowncast").elementToElement({model:"media",view:(t,e)=>{const i=t.getAttribute("url"),r=c(e,o,i,{renderForEditingView:!0});return a(r,e,n("media widget"))}}),i.for("editingDowncast").add(r(o,{renderForEditingView:!0})),i.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:!0}},model:(t,e)=>{const n=t.getAttribute("url");if(o.hasMedia(n))return e.createElement("media",{url:n})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(t,e)=>{const n=t.getAttribute("data-oembed-url");if(o.hasMedia(n))return e.createElement("media",{url:n})}})}}var _=n("35ad"),k=n("0f93"),C=n("96f5"),A=n("8b59"),T=n("a07d");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const O=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:\/?#[\]@!$&'()*+,;=]+$/;class E extends i["a"]{static get requires(){return[_["a"],A["a"]]}static get pluginName(){return"AutoMediaEmbed"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,e=t.model.document;this.listenTo(t.plugins.get(_["a"]),"inputTransformation",()=>{const t=e.selection.getFirstRange(),n=C["a"].fromPosition(t.start);n.stickiness="toPrevious";const i=C["a"].fromPosition(t.end);i.stickiness="toNext",e.once("change:data",()=>{this._embedMediaBetweenPositions(n,i),n.detach(),i.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(T["a"].window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,e){const n=this.editor,i=n.plugins.get(x).registry,r=new k["a"](t,e),s=r.getWalker({ignoreElementEnd:!0});let o="";for(const c of s)c.item.is("textProxy")&&(o+=c.item.data);if(o=o.trim(),!o.match(O))return;if(!i.hasMedia(o))return;const a=n.commands.get("mediaEmbed");a.isEnabled&&(this._positionToInsert=C["a"].fromPosition(t),this._timeoutId=T["a"].window.setTimeout(()=>{n.model.change(t=>{let e;this._timeoutId=null,t.remove(r),"$graveyard"!==this._positionToInsert.root.rootName&&(e=this._positionToInsert),u(n.model,o,e),this._positionToInsert.detach(),this._positionToInsert=null})},100))}}var P=n("ceea"),S=n("940e"),R=n("3493"),I=n("3707"),N=n("9374"),j=n("fdf0"),M=n("ab1f"),B=n("768b"),D=n("0d02"),V=n("91db"),F=n("18ce"),L=n("8ef8");n("19d2");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class U extends S["a"]{constructor(t,e){super(e);const n=e.t;this.focusTracker=new B["a"],this.keystrokes=new V["a"],this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),F["a"],"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),L["a"],"ck-button-cancel","cancel"),this._focusables=new R["a"],this._focusCycler=new D["a"]({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Object(M["a"])({view:this});const t=[this.urlInputView,this.saveButtonView,this.cancelButtonView];t.forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e),this.listenTo(this.urlInputView.element,"selectstart",(t,e)=>{e.stopPropagation()},{priority:"high"})}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.inputView.element.value.trim()}set url(t){this.urlInputView.inputView.element.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,e=new N["a"](this.locale,j["a"]),n=e.inputView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),e.label=t("Media URL"),e.infoText=this._urlInputViewInfoDefault,n.placeholder="https://example.com",n.on("input",()=>{e.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault}),e}_createButton(t,e,n,i){const r=new I["a"](this.locale);return r.set({label:t,icon:e,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),i&&r.delegate("execute").to(this,i),r}}var $='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18.68 2.53c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.08c0-.58-.01-.55.6-.55h17.38zM15.77 14.5v-10H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 6.677a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V6.676z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class z extends i["a"]{static get requires(){return[x]}static get pluginName(){return"MediaEmbedUI"}init(){const t=this.editor,e=t.commands.get("mediaEmbed"),n=t.plugins.get(x).registry;this.form=new U(q(t.t,n),t.locale),t.ui.componentFactory.add("mediaEmbed",n=>{const i=Object(P["c"])(n);return this._setUpDropdown(i,this.form,e,t),this._setUpForm(this.form,i,e),i})}_setUpDropdown(t,e,n){const i=this.editor,r=i.t,s=t.buttonView;function o(){i.editing.view.focus(),t.isOpen=!1}t.bind("isEnabled").to(n),t.panelView.children.add(e),s.set({label:r("Insert media"),icon:$,tooltip:!0}),s.on("open",()=>{e.url=n.value||"",e.urlInputView.select(),e.focus()},{priority:"low"}),t.on("submit",()=>{e.isValid()&&(i.execute("mediaEmbed",e.url),o())}),t.on("change:isOpen",()=>e.resetFormStatus()),t.on("cancel",()=>o())}_setUpForm(t,e,n){t.delegate("submit","cancel").to(e),t.urlInputView.bind("value").to(n,"value"),t.urlInputView.bind("isReadOnly").to(n,"isEnabled",t=>!t),t.saveButtonView.bind("isEnabled").to(n)}}function q(t,e){return[e=>{if(!e.url.length)return t("The URL must not be empty.")},n=>{if(!e.hasMedia(n.url))return t("This media URL is not supported.")}]}var H=n("bf50");n("f9d3");n.d(e,"a",function(){return W});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class W extends i["a"]{static get requires(){return[x,z,E,H["a"]]}static get pluginName(){return"MediaEmbed"}}},"0e59":function(t,e,n){"use strict";var i=n("63bc"),r=Object(i["a"])(Object,"create"),s=r;function o(){this.__data__=s?s(null):{},this.size=0}var a=o;function c(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var l=c,u="__lodash_hash_undefined__",h=Object.prototype,d=h.hasOwnProperty;function f(t){var e=this.__data__;if(s){var n=e[t];return n===u?void 0:n}return d.call(e,t)?e[t]:void 0}var p=f,m=Object.prototype,g=m.hasOwnProperty;function b(t){var e=this.__data__;return s?void 0!==e[t]:g.call(e,t)}var v=b,w="__lodash_hash_undefined__";function y(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=s&&void 0===e?w:e,this}var x=y;function _(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}_.prototype.clear=a,_.prototype["delete"]=l,_.prototype.get=p,_.prototype.has=v,_.prototype.set=x;var k=_,C=n("9cbb"),A=n("ddc9");function T(){this.size=0,this.__data__={hash:new k,map:new(A["a"]||C["a"]),string:new k}}var O=T;function E(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var P=E;function S(t,e){var n=t.__data__;return P(e)?n["string"==typeof e?"string":"hash"]:n.map}var R=S;function I(t){var e=R(this,t)["delete"](t);return this.size-=e?1:0,e}var N=I;function j(t){return R(this,t).get(t)}var M=j;function B(t){return R(this,t).has(t)}var D=B;function V(t,e){var n=R(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var F=V;function L(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}L.prototype.clear=O,L.prototype["delete"]=N,L.prototype.get=M,L.prototype.has=D,L.prototype.set=F;e["a"]=L},"0f93":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("ad6b"),r=n("da0d"),s=n("644e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o extends i["a"]{constructor(t,e){super(t,e),a.call(this)}detach(){this.stopListening()}toRange(){return new i["a"](this.start,this.end)}static fromRange(t){return new o(t.start,t.end)}}function a(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&c.call(this,n)},{priority:"low"})}function c(t){const e=this.getTransformedByOperation(t),n=i["a"]._createFromRanges(e),r=!n.isEqual(this),s=l(this,t);let o=null;if(r){"$graveyard"==n.root.rootName&&(o="remove"==t.type?t.sourcePosition:t.deletionPosition);const e=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",e,{deletionPosition:o})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:o})}function l(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}Object(s["a"])(o,r["c"])},"0fe6":function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t,e,n,i){super(),this["commentThreadId"]=e,this["commentId"]=n,this["content"]=i,this["documentId"]=t}["toJSON"](){return{documentId:this["documentId"],commentThreadId:this["commentThreadId"],commentId:this["commentId"],content:this["content"]}}static get["TYPE"](){return 96}static get["DESCRIPTOR_NAME"](){return"CommentsV2UpdateCommentMessage"}static get["DESCRIPTOR"](){return{fields:{commentThreadId:{type:"string",id:1},commentId:{type:"string",id:2},content:{type:"string",id:3},documentId:{type:"string",id:4}}}}static["fromJSON"](t){return new r(t["documentId"],t["commentThreadId"],t["commentId"],t["content"])}}t["exports"]=r},1000:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("940e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r extends i["a"]{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}},"109b":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("d4e1"),r=n("644e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s{constructor(t){this.editor=t}destroy(){this.stopListening()}}Object(r["a"])(s,i["a"])},1147:function(t,e,n){"use strict";function i(t){return null!=t&&"object"==typeof t}e["a"]=i},1159:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("a4b7"),r=n("f2ea"),s=n("644e"),o=n("d4e1");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const a=Symbol("document");class c extends i["a"]{constructor(t,e,n){super(t,e,n),this.set("isReadOnly",!1),this.set("isFocused",!1)}is(t,e=null){return e?"editableElement"==t&&e==this.name||super.is(t,e):"editableElement"==t||super.is(t)}destroy(){this.stopListening()}get document(){return this.getCustomProperty(a)}set _document(t){if(this.getCustomProperty(a))throw new r["b"]("view-editableelement-document-already-set: View document is already set.");this._setCustomProperty(a,t),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",e=>e&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}}Object(s["a"])(c,o["a"])},11592:function(t,e,n){},"11c1":function(t,e,n){var i=n("c437"),r=n("c64e"),s=r;s.v1=i,s.v4=r,t.exports=s},"12a1":function(t,e,n){"use strict";var i=n("a12c"),r=n("0e59"),s="__lodash_hash_undefined__";function o(t){return this.__data__.set(t,s),this}var a=o;function c(t){return this.__data__.has(t)}var l=c;function u(t){var e=-1,n=null==t?0:t.length;this.__data__=new r["a"];while(++e<n)this.add(t[e])}u.prototype.add=u.prototype.push=a,u.prototype.has=l;var h=u;function d(t,e){var n=-1,i=null==t?0:t.length;while(++n<i)if(e(t[n],n,t))return!0;return!1}var f=d;function p(t,e){return t.has(e)}var m=p,g=1,b=2;function v(t,e,n,i,r,s){var o=n&g,a=t.length,c=e.length;if(a!=c&&!(o&&c>a))return!1;var l=s.get(t);if(l&&s.get(e))return l==e;var u=-1,d=!0,p=n&b?new h:void 0;s.set(t,e),s.set(e,t);while(++u<a){var v=t[u],w=e[u];if(i)var y=o?i(w,v,u,e,t,s):i(v,w,u,t,e,s);if(void 0!==y){if(y)continue;d=!1;break}if(p){if(!f(e,function(t,e){if(!m(p,e)&&(v===t||r(v,t,n,i,s)))return p.push(e)})){d=!1;break}}else if(v!==w&&!r(v,w,n,i,s)){d=!1;break}}return s["delete"](t),s["delete"](e),d}var w=v,y=n("ca54"),x=n("09ee"),_=n("6071");function k(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}var C=k;function A(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var T=A,O=1,E=2,P="[object Boolean]",S="[object Date]",R="[object Error]",I="[object Map]",N="[object Number]",j="[object RegExp]",M="[object Set]",B="[object String]",D="[object Symbol]",V="[object ArrayBuffer]",F="[object DataView]",L=y["a"]?y["a"].prototype:void 0,U=L?L.valueOf:void 0;function $(t,e,n,i,r,s,o){switch(n){case F:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case V:return!(t.byteLength!=e.byteLength||!s(new x["a"](t),new x["a"](e)));case P:case S:case N:return Object(_["a"])(+t,+e);case R:return t.name==e.name&&t.message==e.message;case j:case B:return t==e+"";case I:var a=C;case M:var c=i&O;if(a||(a=T),t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;i|=E,o.set(t,e);var u=w(a(t),a(e),i,r,s,o);return o["delete"](t),u;case D:if(U)return U.call(t)==U.call(e)}return!1}var z=$,q=n("4c5c"),H=1,W=Object.prototype,J=W.hasOwnProperty;function Y(t,e,n,i,r,s){var o=n&H,a=Object(q["a"])(t),c=a.length,l=Object(q["a"])(e),u=l.length;if(c!=u&&!o)return!1;var h=c;while(h--){var d=a[h];if(!(o?d in e:J.call(e,d)))return!1}var f=s.get(t);if(f&&s.get(e))return f==e;var p=!0;s.set(t,e),s.set(e,t);var m=o;while(++h<c){d=a[h];var g=t[d],b=e[d];if(i)var v=o?i(b,g,d,e,t,s):i(g,b,d,t,e,s);if(!(void 0===v?g===b||r(g,b,n,i,s):v)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var w=t.constructor,y=e.constructor;w!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof y&&y instanceof y)&&(p=!1)}return s["delete"](t),s["delete"](e),p}var G=Y,K=n("60ce"),X=n("ff51"),Q=n("58e0"),Z=n("a187"),tt=1,et="[object Arguments]",nt="[object Array]",it="[object Object]",rt=Object.prototype,st=rt.hasOwnProperty;function ot(t,e,n,r,s,o){var a=Object(X["a"])(t),c=Object(X["a"])(e),l=a?nt:Object(K["a"])(t),u=c?nt:Object(K["a"])(e);l=l==et?it:l,u=u==et?it:u;var h=l==it,d=u==it,f=l==u;if(f&&Object(Q["a"])(t)){if(!Object(Q["a"])(e))return!1;a=!0,h=!1}if(f&&!h)return o||(o=new i["a"]),a||Object(Z["a"])(t)?w(t,e,n,r,s,o):z(t,e,l,n,r,s,o);if(!(n&tt)){var p=h&&st.call(t,"__wrapped__"),m=d&&st.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,b=m?e.value():e;return o||(o=new i["a"]),s(g,b,n,r,o)}}return!!f&&(o||(o=new i["a"]),G(t,e,n,r,s,o))}var at=ot,ct=n("1147");function lt(t,e,n,i,r){return t===e||(null==t||null==e||!Object(ct["a"])(t)&&!Object(ct["a"])(e)?t!==t&&e!==e:at(t,e,n,i,lt,r))}e["a"]=lt},1339:function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class i{getHtml(t){const e=document.implementation.createHTMLDocument(""),n=e.createElement("div");return n.appendChild(t),n.innerHTML}}var r=n("c3df"),s=n("5b14");n.d(e,"a",function(){return o});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o{constructor(){this._domParser=new DOMParser,this._domConverter=new r["a"]({blockFiller:s["d"]}),this._htmlWriter=new i}toData(t){const e=this._domConverter.viewToDom(t,document);return this._htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this._domConverter.domToView(e)}_toDom(t){const e=this._domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),i=e.body.childNodes;while(i.length>0)n.appendChild(i[0]);return n}}},1468:function(t,e){var n=1e3,i=60*n,r=60*i,s=24*r,o=365.25*s;function a(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var a=parseFloat(e[1]),c=(e[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return a*o;case"days":case"day":case"d":return a*s;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*i;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function c(t){return t>=s?Math.round(t/s)+"d":t>=r?Math.round(t/r)+"h":t>=i?Math.round(t/i)+"m":t>=n?Math.round(t/n)+"s":t+"ms"}function l(t){return u(t,s,"day")||u(t,r,"hour")||u(t,i,"minute")||u(t,n,"second")||t+" ms"}function u(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return a(t);if("number"===n&&!1===isNaN(t))return e.long?l(t):c(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},"160f":function(t,e,n){"use strict";const i=n("2bd2");class r extends i{static get["DESCRIPTOR_NAME"](){return"LiveUnitOperationDescriptor"}static get["DESCRIPTOR"](){return{fields:{_type:{type:"uint32",id:1},id:{type:"string",id:2},baseVersion:{type:"uint32",id:3},itemId:{type:"string",id:4},index:{type:"uint32",id:5}}}}}t["exports"]=r},"164f":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("109b"),r=n("ec02"),s=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o extends i["a"]{static get pluginName(){return"ContextualBalloon"}init(){this.view=new r["a"],this.positionLimiter=(()=>{const t=this.editor.editing.view,e=t.document,n=e.selection.editableElement;return n?t.domConverter.mapViewToDom(n.root):null}),this._stack=new Map,this.editor.ui.view.body.add(this.view),this.editor.ui.focusTracker.add(this.view.element)}get visibleView(){const t=this._stack.get(this.view.content.get(0));return t?t.view:null}hasView(t){return this._stack.has(t)}add(t){if(this.hasView(t.view))throw new s["b"]("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.");this.visibleView&&this.view.content.remove(this.visibleView),this._stack.set(t.view,t),this._show(t)}remove(t){if(!this.hasView(t))throw new s["b"]("contextualballoon-remove-view-not-exist: Cannot remove configuration of not existing view.");if(this.visibleView===t){this.view.content.remove(t),this._stack.delete(t);const e=Array.from(this._stack.values()).pop();e?this._show(e):this.view.hide()}else this._stack.delete(t)}updatePosition(t){t&&(this._stack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition())}_show({view:t,balloonClassName:e=""}){this.view.class=e,this.view.content.add(t),this.view.pin(this._getBalloonPosition())}_getBalloonPosition(){let t=Array.from(this._stack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}}},"17e1":function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("6c92"),r=n("9cf5"),s=n("a52e"),o=n("63d0"),a=n("dfe0"),c=n("5122"),l=n("a641"),u=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class h extends i["a"]{constructor(t,e,n){super(n),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new s["a"](Object(a["c"])(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const t=new s["a"]([...this.nodes].map(t=>t._clone(!0))),e=new h(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=this.position.root.document.graveyard,e=new r["a"](t,[0]);return new o["a"](this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new u["b"]("insert-operation-position-invalid: Insertion position is invalid.")}_execute(){const t=this.nodes;this.nodes=new s["a"]([...t].map(t=>t._clone(!0))),Object(a["a"])(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const r of t.nodes)r.name?n.push(l["a"].fromJSON(r)):n.push(c["a"].fromJSON(r));const i=new h(r["a"].fromJSON(t.position,e),n,t.baseVersion);return i.shouldReceiveAttributes=t.shouldReceiveAttributes,i}}},1816:function(t,e,n){"use strict";(function(e){var i=n("440d"),r=n("9c59"),s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",c=new RegExp("^"+a+"+");function l(t){return(t||"").toString().replace(c,"")}var u=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],h={hash:1,query:1};function d(t){var n;n="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};var i=n.location||{};t=t||i;var r,o={},a=typeof t;if("blob:"===t.protocol)o=new m(unescape(t.pathname),{});else if("string"===a)for(r in o=new m(t,{}),h)delete o[r];else if("object"===a){for(r in t)r in h||(o[r]=t[r]);void 0===o.slashes&&(o.slashes=s.test(t.href))}return o}function f(t){t=l(t);var e=o.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function p(t,e){if(""===t)return e;var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),i=n.length,r=n[i-1],s=!1,o=0;while(i--)"."===n[i]?n.splice(i,1):".."===n[i]?(n.splice(i,1),o++):o&&(0===i&&(s=!0),n.splice(i,1),o--);return s&&n.unshift(""),"."!==r&&".."!==r||n.push(""),n.join("/")}function m(t,e,n){if(t=l(t),!(this instanceof m))return new m(t,e,n);var s,o,a,c,h,g,b=u.slice(),v=typeof e,w=this,y=0;for("object"!==v&&"string"!==v&&(n=e,e=null),n&&"function"!==typeof n&&(n=r.parse),e=d(e),o=f(t||""),s=!o.protocol&&!o.slashes,w.slashes=o.slashes||s&&e.slashes,w.protocol=o.protocol||e.protocol||"",t=o.rest,o.slashes||(b[3]=[/(.*)/,"pathname"]);y<b.length;y++)c=b[y],"function"!==typeof c?(a=c[0],g=c[1],a!==a?w[g]=t:"string"===typeof a?~(h=t.indexOf(a))&&("number"===typeof c[2]?(w[g]=t.slice(0,h),t=t.slice(h+c[2])):(w[g]=t.slice(h),t=t.slice(0,h))):(h=a.exec(t))&&(w[g]=h[1],t=t.slice(0,h.index)),w[g]=w[g]||s&&c[3]&&e[g]||"",c[4]&&(w[g]=w[g].toLowerCase())):t=c(t);n&&(w.query=n(w.query)),s&&e.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==e.pathname)&&(w.pathname=p(w.pathname,e.pathname)),i(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(c=w.auth.split(":"),w.username=c[0]||"",w.password=c[1]||""),w.origin=w.protocol&&w.host&&"file:"!==w.protocol?w.protocol+"//"+w.host:"null",w.href=w.toString()}function g(t,e,n){var s=this;switch(t){case"query":"string"===typeof e&&e.length&&(e=(n||r.parse)(e)),s[t]=e;break;case"port":s[t]=e,i(e,s.protocol)?e&&(s.host=s.hostname+":"+e):(s.host=s.hostname,s[t]="");break;case"hostname":s[t]=e,s.port&&(e+=":"+s.port),s.host=e;break;case"host":s[t]=e,/:\d+$/.test(e)?(e=e.split(":"),s.port=e.pop(),s.hostname=e.join(":")):(s.hostname=e,s.port="");break;case"protocol":s.protocol=e.toLowerCase(),s.slashes=!n;break;case"pathname":case"hash":if(e){var o="pathname"===t?"/":"#";s[t]=e.charAt(0)!==o?o+e:e}else s[t]=e;break;default:s[t]=e}for(var a=0;a<u.length;a++){var c=u[a];c[4]&&(s[c[1]]=s[c[1]].toLowerCase())}return s.origin=s.protocol&&s.host&&"file:"!==s.protocol?s.protocol+"//"+s.host:"null",s.href=s.toString(),s}function b(t){t&&"function"===typeof t||(t=r.stringify);var e,n=this,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var s=i+(n.slashes?"//":"");return n.username&&(s+=n.username,n.password&&(s+=":"+n.password),s+="@"),s+=n.host+n.pathname,e="object"===typeof n.query?t(n.query):n.query,e&&(s+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(s+=n.hash),s}m.prototype={set:g,toString:b},m.extractProtocol=f,m.location=d,m.trimLeft=l,m.qs=r,t.exports=m}).call(this,n("c8ba"))},"18ce":function(t,e,n){"use strict";e["a"]='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>'},"18ea":function(t,e,n){},"191f":function(t,e,n){"use strict";var i=n("109b"),r=n("31af"),s=n("ad0b");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o extends r["a"]{constructor(t){super(t,s["a"])}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function a(t){return t.map(c).filter(t=>!!t)}function c(t){return"object"===typeof t?t:"default"===t?{title:"Default",model:void 0}:"string"===typeof t?l(t):void 0}function l(t){const e=t.replace(/"|'/g,"").split(","),n=e[0],i=e.map(u).join(", ");return{title:n,model:n,view:{name:"span",styles:{"font-family":i},priority:5}}}function u(t){return t=t.trim(),t.indexOf(" ")>0&&(t=`'${t}'`),t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends i["a"]{constructor(t){super(t),t.config.define(s["a"],{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"]})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:s["a"]}),t.model.schema.setAttributeProperties(s["a"],{isFormatting:!0});const e=a(t.config.get("fontFamily.options")).filter(t=>t.model),n=Object(s["c"])(s["a"],e);t.conversion.attributeToElement(n),t.commands.add(s["a"],new o(t))}}var d=n("6a40"),f=n("67b9"),p=n("ceea"),m='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class g extends i["a"]{init(){const t=this.editor,e=t.t,n=this._getLocalizedOptions(),i=t.commands.get(s["a"]);t.ui.componentFactory.add(s["a"],r=>{const s=Object(p["c"])(r);return Object(p["a"])(s,b(n,i)),s.buttonView.set({label:e("Font Family"),icon:m,tooltip:!0}),s.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),s.bind("isEnabled").to(i),this.listenTo(s,"execute",e=>{t.execute(e.source.commandName,{value:e.source.commandParam}),t.editing.view.focus()}),s})}_getLocalizedOptions(){const t=this.editor,e=t.t,n=a(t.config.get(s["a"]).options);return n.map(t=>{return"Default"===t.title&&(t.title=e("Default")),t})}}function b(t,e){const n=new f["a"];for(const i of t){const t={type:"button",model:new d["a"]({commandName:s["a"],commandParam:i.model,label:i.title,withText:!0})};t.model.bind("isOn").to(e,"value",t=>t===i.model),i.view&&i.view.styles&&t.model.set("labelStyle",`font-family: ${i.view.styles["font-family"]}`),n.add(t)}return n}n.d(e,"a",function(){return v});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class v extends i["a"]{static get requires(){return[h,g]}static get pluginName(){return"FontFamily"}}},"193c":function(t,e,n){"use strict";const i=n("2bd2");class r extends i{["toJSON"](){throw new Error("Must be implemented in child class!")}static get["TYPE"](){return 1e3}static get["fromJSON"](){throw new Error("Must be implemented in child class!")}}t["exports"]=r},1964:function(t,e,n){"use strict";var i=n("09f4"),r=1,s=4;function o(t,e){return e="function"==typeof e?e:void 0,Object(i["a"])(t,r|s,e)}e["a"]=o},"19b7":function(t,e,n){var i=n("5a6e"),r=n("7297");function s(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=s,r(s.prototype),s.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},s.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},s.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},s.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(t){var e=i.decodePacket(t,this.socket.binaryType);this.onPacket(e)},s.prototype.onPacket=function(t){this.emit("packet",t)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},"19d2":function(t,e,n){},"1af3":function(t,e,n){},"1bc6":function(t,e,n){"use strict";var i=n("f0ce"),r=n("1147"),s="[object Symbol]";function o(t){return"symbol"==typeof t||Object(r["a"])(t)&&Object(i["a"])(t)==s}e["a"]=o},"1bcb":function(t,e,n){"use strict";t.exports=r;var i=n("e938");function r(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)this[e[n]]=t[e[n]]}r.create=function(t){return this.$type.create(t)},r.encode=function(t,e){return this.$type.encode(t,e)},r.encodeDelimited=function(t,e){return this.$type.encodeDelimited(t,e)},r.decode=function(t){return this.$type.decode(t)},r.decodeDelimited=function(t){return this.$type.decodeDelimited(t)},r.verify=function(t){return this.$type.verify(t)},r.fromObject=function(t){return this.$type.fromObject(t)},r.toObject=function(t,e){return this.$type.toObject(t,e)},r.prototype.toJSON=function(){return this.$type.toObject(this,i.toJSONOptions)}},"1e6e":function(t,e,n){"use strict";var i=n("940e"),r=n("768b"),s=n("0d02"),o=n("91db"),a=n("1000");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function c(t){return t.bindTemplate.to(e=>{e.target===t.element&&e.preventDefault()})}var l=n("cd4b");n("7def");n.d(e,"a",function(){return u});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class u extends i["a"]{constructor(t){super(t);const e=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new r["a"],this.keystrokes=new o["a"],this.set("isVertical",!1),this.set("class"),this._focusCycler=new s["a"]({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",e.if("isVertical","ck-toolbar_vertical"),e.to("class")]},children:this.items,on:{mousedown:c(this)}})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e){t.map(t=>{"|"==t?this.items.add(new a["a"]):e.has(t)?this.items.add(e.create(t)):l["a"].warn("toolbarview-item-unavailable: The requested toolbar item is unavailable.",{name:t})})}}},"1f55":function(t,e,n){(function(e,n){const i=!("undefined"==typeof e||!e["versions"]||!e["versions"]["node"]);class r{static get["TYPES"](){return{BUFFER:1,STRING:2,NUMBER:3,OBJECT:4}}static["getPacketType"](...t){let e=0;for(let n=0;n<t["length"];n++){const i=t[n];e+=("number"==typeof i?i:String(i)["toUpperCase"]())*Math["pow"](10,t["length"]-n-1)}return e}static["getTypeName"](t){if(r["isBuffer"](t))return r["TYPES"]["BUFFER"];const e=typeof t;return"string"===e?r["TYPES"]["STRING"]:"number"===e?r["TYPES"]["NUMBER"]:r["TYPES"]["OBJECT"]}static["isBuffer"](t){return i&&n["isBuffer"](t)||t instanceof ArrayBuffer||t instanceof Uint8Array||s(t)}}function s(t){return"function"==typeof ArrayBuffer["isView"]?ArrayBuffer["isView"](t):t["buffer"]instanceof ArrayBuffer}t["exports"]=r}).call(this,n("4362"),n("b639").Buffer)},"1fb5":function(t,e,n){"use strict";e.byteLength=u,e.toByteArray=d,e.fromByteArray=m;for(var i=[],r=[],s="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=o.length;a<c;++a)i[a]=o[a],r[o.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var i=n===e?0:4-n%4;return[n,i]}function u(t){var e=l(t),n=e[0],i=e[1];return 3*(n+i)/4-i}function h(t,e,n){return 3*(e+n)/4-n}function d(t){for(var e,n=l(t),i=n[0],o=n[1],a=new s(h(t,i,o)),c=0,u=o>0?i-4:i,d=0;d<u;d+=4)e=r[t.charCodeAt(d)]<<18|r[t.charCodeAt(d+1)]<<12|r[t.charCodeAt(d+2)]<<6|r[t.charCodeAt(d+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=255&e;return 2===o&&(e=r[t.charCodeAt(d)]<<2|r[t.charCodeAt(d+1)]>>4,a[c++]=255&e),1===o&&(e=r[t.charCodeAt(d)]<<10|r[t.charCodeAt(d+1)]<<4|r[t.charCodeAt(d+2)]>>2,a[c++]=e>>8&255,a[c++]=255&e),a}function f(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[63&t]}function p(t,e,n){for(var i,r=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),r.push(f(i));return r.join("")}function m(t){for(var e,n=t.length,r=n%3,s=[],o=16383,a=0,c=n-r;a<c;a+=o)s.push(p(t,a,a+o>c?c:a+o));return 1===r?(e=t[n-1],s.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],s.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},2069:function(t,e,n){"use strict";var i=n("8055"),r=n.n(i),s=n("1816"),o=n.n(s),a=n("644e"),c=n("5bfb"),l=n("d4e1"),u=n("ff51"),h=n("1bc6"),d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;function p(t,e){if(Object(u["a"])(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Object(h["a"])(t))||(f.test(t)||!d.test(t)||null!=e&&t in Object(e))}var m=p,g=n("0e59"),b="Expected a function";function v(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(b);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=t.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(v.Cache||g["a"]),n}v.Cache=g["a"];var w=v,y=500;function x(t){var e=w(t,function(t){return n.size===y&&n.clear(),t}),n=e.cache;return e}var _=x,k=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C=/\\(\\)?/g,A=_(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(k,function(t,n,i,r){e.push(i?r.replace(C,"$1"):n||t)}),e}),T=A,O=n("ca54");function E(t,e){var n=-1,i=null==t?0:t.length,r=Array(i);while(++n<i)r[n]=e(t[n],n,t);return r}var P=E,S=1/0,R=O["a"]?O["a"].prototype:void 0,I=R?R.toString:void 0;function N(t){if("string"==typeof t)return t;if(Object(u["a"])(t))return P(t,N)+"";if(Object(h["a"])(t))return I?I.call(t):"";var e=t+"";return"0"==e&&1/t==-S?"-0":e}var j=N;function M(t){return null==t?"":j(t)}var B=M;function D(t,e){return Object(u["a"])(t)?t:m(t,e)?[t]:T(B(t))}var V=D,F=1/0;function L(t){if("string"==typeof t||Object(h["a"])(t))return t;var e=t+"";return"0"==e&&1/t==-F?"-0":e}var U=L;function $(t,e){e=V(e,t);var n=0,i=e.length;while(null!=t&&n<i)t=t[U(e[n++])];return n&&n==i?t:void 0}var z=$;function q(t,e,n){var i=null==t?void 0:z(t,e);return void 0===i?n:i}var H=q,W=n("da0d"),J=n("0dad"),Y=n.n(J),G=n("e6cc"),K=n.n(G);class X{constructor(t,e,n){this["_channelName"]=t,this["_socket"]=n,n["on"](this["_channelName"],t=>{const n=K.a["decode"](t,Y.a);this["fire"](this["getEventName"](n["type"],!0),n["data"],n["origin"]),n["origin"]!==e["sessionId"]&&this["fire"](this["getEventName"](n["type"]),n["data"],n["origin"])})}["remove"](){this["_socket"]["off"](this["_channelName"])}["getEventName"](t,e=!1){let n="";return e&&(n+="all:"),n+="event",t&&(n+=":"+t),n}}Object(a["a"])(X,W["c"]);var Q=X,Z=n("fc24"),tt=n("3f33"),et=n.n(tt),nt=n("6b6f"),it=n.n(nt);class rt{constructor(t){this["_requestedServices"]=new Map,this["_createPromises"]=new Map,this["_wsGateway"]=t}["register"](t,e,n){return this["_requestedServices"]["set"](t+e,n)}async["get"](t,e,n=ot){if(this["has"](t,e))return this["_requestedServices"]["get"](e["_SERVICE"]+t);if(this["_createPromises"]["has"](e["_SERVICE"]+t))return await this["_createPromises"]["get"](e["_SERVICE"]+t);const i=new Promise(async(i,r)=>{try{const o=await n(this["_wsGateway"],t,e);o&&"function"==typeof o["connect"]&&await o["connect"](this["_wsGateway"]),i(o)}catch(s){r(s)}this["_createPromises"]["delete"](e["_SERVICE"]+t)});return i["catch"](t=>{const e=new Z["a"]("serviceRegister","Error while adding Promise to awaiting register.",{error:t});this["fire"]("error",e)}),this["_createPromises"]["set"](e["_SERVICE"]+t,i),await i}["has"](t,e){return this["_requestedServices"]["has"](e["_SERVICE"]+t)}}Object(a["a"])(rt,W["c"]);var st=rt;async function ot(t,e,n){const i=new et.a(e),r=await t["_sendRequest"](n["_SERVICE"],et.a["TYPE"],K.a["encode"](i));if(K.a["decode"](r,it.a)["exists"])return n["create"](e)}var at=n("e977"),ct="2.1.0",lt=n("e7ed"),ut=n.n(lt);const ht=Symbol("connect"),dt=Symbol("url"),ft=Symbol("token"),pt=Symbol("socket"),mt=Symbol("options"),gt=Symbol("channels"),bt=Symbol("user"),vt=5e3,wt=443,yt=80,xt="/ws-v2/ws";class _t{constructor(t,e,n={},i=r.a,s=at["a"]["get"]){if(!t)throw new Error("Api address must be provided");if(!e)throw new Error("Token must be provided");this[dt]=o()(t["replace"](/^(?!(?:\w+:)?\/\/)/,"https://")),this[ft]=e,this[ht]=i,this[bt]=s,this[mt]=n,this[gt]=new Map,this["_serviceRegister"]=new st(this),this["_serviceRegister"]["on"]("error",(t,e)=>{this["fire"](e["eventName"],e)}),this["set"]("state","disconnected"),this["set"]("sessionId",void 0),this["set"]("me",void 0),this["on"]("change:state",async(t,e,n)=>{if(n===_t["STATE_CONNECTED"])try{this["me"]=await this[bt]["call"](at["a"],this,this[pt]["auth"]["userId"])}catch(i){}},{priority:_t["_CHANGE_STATE_EVENT_PRIORITY"]})}["disconnect"](){this["state"]===_t["STATE_CONNECTED"]&&(this[pt]["disconnect"](),this[pt]=void 0,this["state"]=_t["STATE_DISCONNECTED"])}["reconnect"](){return this["state"]===_t["STATE_DISCONNECTED"]?this["_connect"]():Promise["resolve"]()}["_sendRequest"](t,e,n,i=!0){if(!t)return Promise["reject"]("`serviceName` must be provided.");if(this["state"]!==_t["STATE_CONNECTED"])return Promise["reject"]("Not connected.");if(!this[pt]||!this[pt]["isAuthenticated"])return Promise["reject"]("Not authenticated.");const r=new ArrayBuffer(n["length"]+2),s=new Uint8Array(r);return s[0]=t,s[1]=e,s["set"](n,2),this["_emit"](1,s,i)}["_getChannel"](t,e){const n=""+t+e;return this[gt]["has"](n)||this[gt]["set"](n,new Q(n,this,this[pt])),this[gt]["get"](n)}["_connect"](){return new Promise((t,e)=>{const n=this["_setupSocket"]();n["once"]("connect",async()=>{try{await this["_onConnect"](),t()}catch(n){e(n)}}),n["connect"]()})}["_setupSocket"](){if(this[pt])return this[pt];const t=this[dt]["port"]||("http:"===this[dt]["protocol"]?yt:wt),e=(this[dt]["protocol"]||"https:")+"//"+this[dt]["hostname"]+":"+t,n=this[ht](e,{parser:ut.a,path:xt,transports:["websocket"],timeout:vt,reconnection:H(this[mt],"autoReconnect",!0),reconnectionDelay:1e3,reconnectionDelayMax:5e3,rejectUnauthorized:H(this[mt],"rejectUnauthorized",!0),query:{version:ct}});return this["state"]=_t["STATE_CONNECTING"],n["on"]("connect",()=>{this["sessionId"]=n["id"]}),n["on"]("reconnect",this["_onConnect"]["bind"](this)),n["on"]("disconnect",this["_onDisconnect"]["bind"](this)),n["on"]("error",this["_onError"]["bind"](this)),n["on"]("unauthorized",this["_onUnauthorized"]["bind"](this)),this[pt]=n,n}["_emit"](t,e,n=!0){const i=this[pt];return new Promise((r,s)=>{i["emit"](t,e,(t,e)=>{if(t){if(t["_csError"]){const e=Z["a"]["fromJSON"](t);return n&&this["fire"](e["eventName"],e),s(e)}return s(t)}r(e)})})}["_addAuthData"](t,e){this[pt]["auth"]={environmentId:t,userId:e},this[pt]["isAuthenticated"]=!0}["_removeAuthData"](){this[pt]["isAuthenticated"]=!1,delete this[pt]["auth"]}async["_onConnect"](){await this["_authenticate"](this[ft]["value"]),this["state"]=_t["STATE_CONNECTED"],this[ft]["on"]("change:value",this["_onTokenChange"]["bind"](this)),this["on"]("disconnect",()=>{this[ft]["off"]("change:value",this["_onTokenChange"]["bind"](this))})}async["_onTokenChange"](t,e,n){try{await this["_authenticate"](n)}catch(i){}}["_onDisconnect"](){this["state"]=_t["STATE_DISCONNECTED"],this["fire"]("disconnect");for(const t of this[gt]["values"]())t["remove"]();this[gt]["clear"]()}["_onError"](t){const e=new Z["a"](t["code"],t["message"],{error:t});this["fire"](e["eventName"],e)}["_onUnauthorized"](t){this["_removeAuthData"]();const e=Z["a"]["fromJSON"](t["error"]);this["fire"](e["eventName"],e)}async["_authenticate"](t){try{const n=await this["_emit"](2,{token:t});this["_addAuthData"](n["environmentId"],n["userId"])}catch(e){throw this["_removeAuthData"](),e}}static get["STATE_DISCONNECTED"](){return"disconnected"}static get["STATE_CONNECTING"](){return"connecting"}static get["STATE_CONNECTED"](){return"connected"}static get["_CHANGE_STATE_EVENT_PRIORITY"](){return c["a"]["get"]("highest")+999999}static async["connect"](t,e=WEB_SOCKET_GATEWAY_URL,n={},i,r=at["a"]["get"]){const s=new _t(e,t,n,i,r);return await s["_connect"](),s}}Object(a["a"])(_t,l["a"]);e["a"]=_t},2110:function(t,e,n){"use strict";t.exports=c;var i,r=n("e938"),s=r.LongBits,o=r.utf8;function a(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function c(t){this.buf=t,this.pos=0,this.len=t.length}var l="undefined"!==typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new c(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new c(t);throw Error("illegal buffer")};function u(){var t=new s(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw a(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw a(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function h(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw a(this,8);return new s(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}c.create=r.Buffer?function(t){return(c.create=function(t){return r.Buffer.isBuffer(t)?new i(t):l(t)})(t)}:l,c.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,c.prototype.uint32=function(){var t=4294967295;return function(){if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return t;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return t}}(),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|h(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var t=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var t=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},c.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw a(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},c.prototype.string=function(){var t=this.bytes();return o.read(t,0,t.length)},c.prototype.skip=function(t){if("number"===typeof t){if(this.pos+t>this.len)throw a(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:while(4!==(t=7&this.uint32()))this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},c._configure=function(t){i=t;var e=r.Long?"toLong":"toNumber";r.merge(c.prototype,{int64:function(){return u.call(this)[e](!1)},uint64:function(){return u.call(this)[e](!0)},sint64:function(){return u.call(this).zzDecode()[e](!1)},fixed64:function(){return d.call(this)[e](!0)},sfixed64:function(){return d.call(this)[e](!1)}})}},2260:function(t,e,n){},"232a":function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return s});n("507e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const i=new WeakMap;function r(t){const{view:e,element:n,text:r,isDirectHost:s=!0}=t,o=e.document;i.has(o)||(i.set(o,new Map),o.registerPostFixer(t=>l(o,t))),i.get(o).set(n,{text:r,isDirectHost:s}),e.change(t=>l(o,t))}function s(t,e){const n=e.document;t.change(t=>{if(!i.has(n))return;const r=i.get(n),s=r.get(e);t.removeAttribute("data-placeholder",s.hostElement),a(t,s.hostElement),r.delete(e)})}function o(t,e){return!e.hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",e),!0)}function a(t,e){return!!e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),!0)}function c(t){const e=t.document;if(!e)return!1;const n=!Array.from(t.getChildren()).some(t=>!t.is("uiElement"));if(!e.isFocused&&n)return!0;const i=e.selection,r=i.anchor;return!(!n||!r||r.parent===t)}function l(t,e){const n=i.get(t);let r=!1;for(const[i,s]of n)u(e,i,s)&&(r=!0);return r}function u(t,e,n){const{text:i,isDirectHost:r}=n,s=r?e:h(e);let l=!1;return!!s&&(n.hostElement=s,s.getAttribute("data-placeholder")!==i&&(t.setAttribute("data-placeholder",i,s),l=!0),c(s)?o(t,s)&&(l=!0):a(t,s)&&(l=!0),l)}function h(t){if(1===t.childCount){const e=t.getChild(0);if(e.is("element")&&!e.is("uiElement"))return e}return null}},2332:function(t,e,n){"use strict";function i(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}e["a"]=i},2335:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"233a":function(t,e,n){"use strict";var i=n("109b"),r=n("beb5"),s=n("232a"),o=n("2beb");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function a(t,e){return n=>{const i=n.createEditableElement("figcaption");return n.setCustomProperty("imageCaption",!0,i),Object(s["b"])({view:t,element:i,text:e}),Object(o["f"])(i,n)}}function c(t){for(const e of t.getChildren())if(e&&e.is("caption"))return e;return null}function l(t){const e=t.parent;return"figcaption"==t.name&&e&&"figure"==e.name&&e.hasClass("image")?{name:!0}:null}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u extends i["a"]{init(){const t=this.editor,e=t.editing.view,n=t.model.schema,i=t.data,r=t.editing,s=t.t;n.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),t.model.document.registerPostFixer(t=>this._insertMissingModelCaptionElement(t)),t.conversion.for("upcast").elementToElement({view:l,model:"caption"});const o=t=>t.createContainerElement("figcaption");i.downcastDispatcher.on("insert:caption",h(o,!1));const c=a(e,s("Enter image caption"));r.downcastDispatcher.on("insert:caption",h(c)),r.downcastDispatcher.on("insert",this._fixCaptionVisibility(t=>t.item),{priority:"high"}),r.downcastDispatcher.on("remove",this._fixCaptionVisibility(t=>t.position.parent),{priority:"high"}),e.document.registerPostFixer(t=>this._updateCaptionVisibility(t))}_updateCaptionVisibility(t){const e=this.editor.editing.mapper,n=this._lastSelectedCaption;let i;const r=this.editor.model.document.selection,s=r.getSelectedElement();if(s&&s.is("image")){const t=c(s);i=e.toViewElement(t)}const o=r.getFirstPosition(),a=f(o.parent);if(a&&(i=e.toViewElement(a)),i)return n?n===i?m(i,t):(p(n,t),this._lastSelectedCaption=i,m(i,t)):(this._lastSelectedCaption=i,m(i,t));if(n){const e=p(n,t);return this._lastSelectedCaption=null,e}return!1}_fixCaptionVisibility(t){return(e,n,i)=>{const r=t(n),s=f(r),o=this.editor.editing.mapper,a=i.writer;if(s){const t=o.toViewElement(s);t&&(s.childCount?a.removeClass("ck-hidden",t):a.addClass("ck-hidden",t))}}}_insertMissingModelCaptionElement(t){const e=this.editor.model,n=e.document.differ.getChanges(),i=[];for(const r of n)if("insert"==r.type&&"$text"!=r.name){const t=r.position.nodeAfter;if(t.is("image")&&!c(t)&&i.push(t),!t.is("image")&&t.childCount)for(const n of e.createRangeIn(t).getItems())n.is("image")&&!c(n)&&i.push(n)}for(const r of i)t.appendElement("caption",r);return!!i.length}}function h(t,e=!0){return(n,i,s)=>{const o=i.item;if((o.childCount||e)&&Object(r["c"])(o.parent)){if(!s.consumable.consume(i.item,"insert"))return;const e=s.mapper.toViewElement(i.range.start.parent),n=t(s.writer),r=s.writer;o.childCount||r.addClass("ck-hidden",n),d(n,i.item,e,s)}}}function d(t,e,n,i){const r=i.writer.createPositionAt(n,"end");i.writer.insert(r,t),i.mapper.bindElements(e,t)}function f(t){const e=t.getAncestors({includeSelf:!0}),n=e.find(t=>"caption"==t.name);return n&&n.parent&&"image"==n.parent.name?n:null}function p(t,e){return!t.childCount&&!t.hasClass("ck-hidden")&&(e.addClass("ck-hidden",t),!0)}function m(t,e){return!!t.hasClass("ck-hidden")&&(e.removeClass("ck-hidden",t),!0)}n("c44c");n.d(e,"a",function(){return g});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class g extends i["a"]{static get requires(){return[u]}static get pluginName(){return"ImageCaption"}}},2363:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r{constructor(t,e,n){if(this.textNode=t,e<0||e>t.offsetSize)throw new i["b"]("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.");if(n<0||e+n>t.offsetSize)throw new i["b"]("model-textproxy-wrong-length: Given length value is incorrect.");this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return"textProxy"==t}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;while(n)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}},2366:function(t,e){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);function r(t,e){var i=e||0,r=n;return[r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]]].join("")}t.exports=r},2566:function(t,e,n){"use strict";var i=n("109b"),r=n("31af"),s=n("ad0b");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o extends r["a"]{constructor(t){super(t,s["b"])}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function a(t){return t.map(l).filter(t=>!!t)}const c={tiny:{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:5}},small:{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:5}},big:{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:5}},huge:{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:5}}};function l(t){if("object"===typeof t)return t;if(c[t])return c[t];if("default"===t)return{model:void 0,title:"Default"};const e=parseFloat(t);return isNaN(e)?void 0:u(e)}function u(t){const e=String(t);return{title:e,model:t,view:{name:"span",styles:{"font-size":`${t}px`},priority:5}}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends i["a"]{constructor(t){super(t),t.config.define(s["b"],{options:["tiny","small","default","big","huge"]});const e=a(this.editor.config.get("fontSize.options")).filter(t=>t.model),n=Object(s["c"])(s["b"],e);t.conversion.attributeToElement(n),t.commands.add(s["b"],new o(t))}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:s["b"]}),t.model.schema.setAttributeProperties(s["b"],{isFormatting:!0})}}var d=n("6a40"),f=n("67b9"),p=n("ceea"),m='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5L7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279l.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>';n("da88");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class g extends i["a"]{init(){const t=this.editor,e=t.t,n=this._getLocalizedOptions(),i=t.commands.get(s["b"]);t.ui.componentFactory.add(s["b"],r=>{const s=Object(p["c"])(r);return Object(p["a"])(s,b(n,i)),s.buttonView.set({label:e("Font Size"),icon:m,tooltip:!0}),s.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),s.bind("isEnabled").to(i),this.listenTo(s,"execute",e=>{t.execute(e.source.commandName,{value:e.source.commandParam}),t.editing.view.focus()}),s})}_getLocalizedOptions(){const t=this.editor,e=t.t,n={Default:e("Default"),Tiny:e("Tiny"),Small:e("Small"),Big:e("Big"),Huge:e("Huge")},i=a(t.config.get(s["b"]).options);return i.map(t=>{const e=n[t.title];return e&&e!=t.title&&(t=Object.assign({},t,{title:e})),t})}}function b(t,e){const n=new f["a"];for(const i of t){const t={type:"button",model:new d["a"]({commandName:s["b"],commandParam:i.model,label:i.title,class:"ck-fontsize-option",withText:!0})};i.view&&i.view.styles&&t.model.set("labelStyle",`font-size:${i.view.styles["font-size"]}`),i.view&&i.view.classes&&t.model.set("class",`${t.model.class} ${i.view.classes}`),t.model.bind("isOn").to(e,"value",t=>t===i.model),n.add(t)}return n}n.d(e,"a",function(){return v});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class v extends i["a"]{static get requires(){return[h,g]}static get pluginName(){return"FontSize"}}},2577:function(t,e,n){function i(t,e){e=e||{};for(var n,i,s,o,a,c=e.limit||100,l="undefined"===typeof e.preserveTags||e.preserveTags,u="undefined"!==typeof e.wordBreak&&e.wordBreak,h=e.suffix||"...",d=e.moreLink||"",f=e.moreText||"»",p=e.preserveWhiteSpace||!1,m=t.replace(/</g,"\n<").replace(/>/g,">\n").replace(/\n\n/g,"\n").replace(/^\n/g,"").replace(/\n$/g,"").split("\n"),g=0,b=[],v=!1,w=0;w<m.length;w++)if(n=m[w],rowCut=p?n:n.replace(/[ ]+/g," "),n.length){var y=r(rowCut);if("<"!==n[0])if(g>=c)n="";else if(g+y.length>=c){if(i=c-g," "===y[i-1]){while(i)if(i-=1," "!==y[i-1])break}else s=y.slice(i).indexOf(" "),u||(-1!==s?i+=s:i=n.length);n=y.slice(0,i).join("")+h,d&&(n+='<a href="'+d+'" style="display:inline">'+f+"</a>"),g=c,v=!0}else g+=y.length;else if(l){if(g>=c)if(o=n.match(/[a-zA-Z]+/),a=o?o[0]:"",a)if("</"!==n.substring(0,2))b.push(a),n="";else{while(b[b.length-1]!==a&&b.length)b.pop();b.length&&(n=""),b.pop()}else n=""}else n="";m[w]=n}return{html:m.join("\n").replace(/\n/g,""),more:v}}function r(t){for(var e,n,i,r=[],s=0;s<rowCut.length;s++)e=rowCut.substring(s),n=e.match(/^&[a-z0-9#]+;/),n?(i=n[0],r.push(i),s+=i.length-1):r.push(rowCut[s]);return r}t.exports&&(t.exports=i)},2609:function(t,e,n){"use strict";e["a"]='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>'},"26ce":function(t,e,n){"use strict";var i=9007199254740991;function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}e["a"]=r},"26ee":function(t,e,n){"use strict";var i=n("5ea3"),r="object"==typeof self&&self&&self.Object===Object&&self,s=i["a"]||r||Function("return this")();e["a"]=s},"280d":function(t,e,n){"use strict";const i=n("193c"),r=n("1f55");class s extends i{constructor(t,e){super(),this["data"]=t,this["data1"]=e}["toJSON"](){return{data:this["data"],data1:this["data1"]}}static get["TYPE"](){return r["getPacketType"](r["TYPES"]["NUMBER"],r["TYPES"]["NUMBER"])}static get["DESCRIPTOR_NAME"](){return"NumberNumberPacketDataMessage"}static get["DESCRIPTOR"](){return{fields:{data:{type:"uint32",id:1},data1:{type:"uint32",id:2}}}}static["fromJSON"](t){return new s(t["data"],t["data1"])}static["create"](t,e){return new s(t,e)}}t["exports"]=s},2851:function(t,e,n){var i=n("568d"),r=n("7297"),s=n("9121"),o=n("d838"),a=n("40de"),c=n("34eb")("socket.io-client:socket"),l=n("4f2a"),u=n("58b1");t.exports=f;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=r.prototype.emit;function f(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(f.prototype),f.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[o(t,"open",a(this,"onopen")),o(t,"packet",a(this,"onpacket")),o(t,"close",a(this,"onclose"))]}},f.prototype.open=f.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},f.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},f.prototype.emit=function(t){if(h.hasOwnProperty(t))return d.apply(this,arguments),this;var e=s(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:u(e))?i.BINARY_EVENT:i.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"===typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},f.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},f.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"===typeof this.query?l.encode(this.query):this.query;c("sending connect packet with query %s",t),this.packet({type:i.CONNECT,query:t})}else this.packet({type:i.CONNECT})},f.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},f.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===i.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(t);break;case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:this.onack(t);break;case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data);break}},f.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?d.apply(this,e):this.receiveBuffer.push(e)},f.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=s(arguments);c("sending ack %j",r),e.packet({type:u(r)?i.BINARY_ACK:i.ACK,id:t,data:r})}}},f.prototype.onack=function(t){var e=this.acks[t.id];"function"===typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},f.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},f.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)d.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},f.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},f.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},f.prototype.close=f.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},f.prototype.compress=function(t){return this.flags.compress=t,this},f.prototype.binary=function(t){return this.flags.binary=t,this}},2877:function(t,e,n){"use strict";function i(t,e,n,i,r,s,o,a){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=c):r&&(c=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},"290f":function(t,e,n){"use strict";var i=n("109b"),r=n("35ad"),s=n("652f");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o extends s["a"]{execute(){const t=this.editor.model,e=t.document;t.change(n=>{a(this.editor.model,n,e.selection,t.schema),this.fire("afterExecute",{writer:n})})}}function a(t,e,n,i){const r=n.isCollapsed,s=n.getFirstRange(),o=s.start.parent,a=s.end.parent;if(i.isLimit(o)||i.isLimit(a))r||o!=a||t.deleteContent(n);else if(r)c(e,s.start);else{const i=!(s.start.isAtStart&&s.end.isAtEnd),r=o==a;t.deleteContent(n,{leaveUnmerged:i}),i&&(r?c(e,n.focus):e.setSelection(a,0))}}function c(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}var l=n("edea"),u=n("6896"),h=n("84c3");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class d extends l["a"]{constructor(t){super(t);const e=this.document;e.on("keydown",(t,n)=>{if(this.isEnabled&&n.keyCode==h["c"].enter){let i;e.once("enter",t=>i=t,{priority:"highest"}),e.fire("enter",new u["a"](e,n.domEvent,{isSoft:n.shiftKey})),i&&i.stop.called&&t.stop()}})}observe(){}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends i["a"]{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(d),t.commands.add("enter",new o(t)),this.listenTo(n,"enter",(n,i)=>{i.preventDefault(),i.isSoft||(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class p extends s["a"]{execute(){const t=this.editor.model,e=t.document;t.change(n=>{g(t,n,e.selection),this.fire("afterExecute",{writer:n})})}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=m(t.schema,e.selection)}}function m(t,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;const i=e.getFirstRange(),r=i.start.parent,s=i.end.parent;return!v(r,t)&&!v(s,t)||r===s}function g(t,e,n){const i=n.isCollapsed,r=n.getFirstRange(),s=r.start.parent,o=r.end.parent,a=s==o;if(i)b(e,r.end);else{const i=!(r.start.isAtStart&&r.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:i}),a?b(e,n.focus):i&&e.setSelection(o,0)}}function b(t,e){const n=t.createElement("softBreak");t.insert(n,e),t.setSelection(n,"after")}function v(t,e){return!t.is("rootElement")&&(e.isLimit(t)||v(t.parent,e))}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class w extends i["a"]{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.model.schema,n=t.conversion,i=t.editing.view,r=i.document;e.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(t,e)=>e.createEmptyElement("br")}),i.addObserver(d),t.commands.add("shiftEnter",new p(t)),this.listenTo(r,"enter",(e,n)=>{n.preventDefault(),n.isSoft&&(t.execute("shiftEnter"),i.scrollToTheSelection())},{priority:"low"})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class y{constructor(t,e=20){this.model=t,this.size=0,this.limit=e,this.isLocked=!1,this._changeCallback=((t,e)=>{"transparent"!=e.type&&e!==this._batch&&this._reset(!0)}),this._selectionChangeCallback=(()=>{this._reset()}),this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch()),this._batch}input(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t){this.isLocked&&!t||(this._batch=null,this.size=0)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class x extends s["a"]{constructor(t,e){super(t),this._buffer=new y(t.model,e)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,i=t.text||"",r=i.length,s=t.range||n.selection.getFirstRange(),o=t.resultRange;e.enqueueChange(this._buffer.batch,t=>{const a=s.isCollapsed;this._buffer.lock(),a||e.deleteContent(e.createSelection(s)),i&&t.insertText(i,n.selection.getAttributes(),s.start),o?t.setSelection(o):a&&t.setSelection(s.start.getShiftedBy(r)),this._buffer.unlock(),this._buffer.input(r)})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function _(t){let e=null;const n=t.model,i=t.editing.view,r=t.commands.get("input");function s(t){const s=n.document,o=i.document.isComposing,c=e&&e.isEqual(s.selection);e=null,r.isEnabled&&(C(t)||s.selection.isCollapsed||o&&229===t.keyCode||!o&&229===t.keyCode&&c||a())}function o(){const t=n.document,e=1!==t.selection.rangeCount||t.selection.getFirstRange().isFlat;t.selection.isCollapsed||e||a()}function a(){const t=r.buffer;t.lock(),n.enqueueChange(t.batch,()=>{n.deleteContent(n.document.selection)}),t.unlock()}i.document.on("keydown",(t,e)=>s(e),{priority:"lowest"}),i.document.on("compositionstart",o,{priority:"lowest"}),i.document.on("compositionend",()=>{e=n.createSelection(n.document.selection)},{priority:"lowest"})}const k=[Object(h["a"])("arrowUp"),Object(h["a"])("arrowRight"),Object(h["a"])("arrowDown"),Object(h["a"])("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let Y=112;Y<=135;Y++)k.push(Y);function C(t){return!!t.ctrlKey||k.includes(t.keyCode)}var A=n("2fd7"),T=n("c3df");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function O(t,e){const n=[];let i,r=0;return t.forEach(t=>{"equal"==t?(s(),r++):"insert"==t?(o("insert")?i.values.push(e[r]):(s(),i={type:"insert",index:r,values:[e[r]]}),r++):o("delete")?i.howMany++:(s(),i={type:"delete",index:r,howMany:1})}),s(),n;function s(){i&&(n.push(i),i=null)}function o(t){return i&&i.type==t}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function E(t){if(0==t.length)return!1;for(const e of t)if("children"===e.type&&!P(e))return!0;return!1}function P(t){if(t.newChildren.length-t.oldChildren.length!=1)return;const e=Object(A["a"])(t.oldChildren,t.newChildren,S),n=O(e,t.newChildren);if(n.length>1)return;const i=n[0];return i.values[0]&&i.values[0].is("text")?i:void 0}function S(t,e){return t&&t.is("text")&&e&&e.is("text")?t.data===e.data:t===e}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function R(t){t.editing.view.document.on("mutations",(e,n,i)=>{new I(t).handle(n,i)})}class I{constructor(t){this.editor=t,this.editing=this.editor.editing}handle(t,e){if(E(t))this._handleContainerChildrenMutations(t,e);else for(const n of t)this._handleTextMutation(n,e),this._handleTextNodeInsertion(n)}_handleContainerChildrenMutations(t,e){const n=N(t);if(!n)return;const i=this.editor.editing.view.domConverter,r=i.mapViewToDom(n),s=new T["a"],o=this.editor.data.toModel(s.domToView(r)).getChild(0),a=this.editor.editing.mapper.toModelElement(n);if(!a)return;const c=Array.from(o.getChildren()),l=Array.from(a.getChildren()),u=c[c.length-1],h=l[l.length-1];u&&u.is("softBreak")&&h&&!h.is("softBreak")&&c.pop();const d=this.editor.model.schema;if(!j(c,d)||!j(l,d))return;const f=c.map(t=>t.is("text")?t.data:"@").join("").replace(/\u00A0/g," "),p=l.map(t=>t.is("text")?t.data:"@").join("").replace(/\u00A0/g," ");if(p===f)return;const m=Object(A["a"])(p,f),{firstChangeAt:g,insertions:b,deletions:v}=M(m);let w=null;e&&(w=this.editing.mapper.toModelRange(e.getFirstRange()));const y=f.substr(g,b),x=this.editor.model.createRange(this.editor.model.createPositionAt(a,g),this.editor.model.createPositionAt(a,g+v));this.editor.execute("input",{text:y,range:x,resultRange:w})}_handleTextMutation(t,e){if("text"!=t.type)return;const n=t.newText.replace(/\u00A0/g," "),i=t.oldText.replace(/\u00A0/g," ");if(i===n)return;const r=Object(A["a"])(i,n),{firstChangeAt:s,insertions:o,deletions:a}=M(r);let c=null;e&&(c=this.editing.mapper.toModelRange(e.getFirstRange()));const l=this.editing.view.createPositionAt(t.node,s),u=this.editing.mapper.toModelPosition(l),h=this.editor.model.createRange(u,u.getShiftedBy(a)),d=n.substr(s,o);this.editor.execute("input",{text:d,range:h,resultRange:c})}_handleTextNodeInsertion(t){if("children"!=t.type)return;const e=P(t),n=this.editing.view.createPositionAt(t.node,e.index),i=this.editing.mapper.toModelPosition(n),r=e.values[0].data;this.editor.execute("input",{text:r.replace(/\u00A0/g," "),range:this.editor.model.createRange(i)})}}function N(t){const e=t.map(t=>t.node).reduce((t,e)=>{return t.getCommonAncestor(e,{includeSelf:!0})});if(e)return e.getAncestors({includeSelf:!0,parentFirst:!0}).find(t=>t.is("containerElement")||t.is("rootElement"))}function j(t,e){return t.every(t=>e.isInline(t))}function M(t){let e=null,n=null;for(let s=0;s<t.length;s++){const i=t[s];"equal"!=i&&(e=null===e?s:e,n=s)}let i=0,r=0;for(let s=e;s<=n;s++)"insert"!=t[s]&&i++,"delete"!=t[s]&&r++;return{insertions:r,deletions:i,firstChangeAt:e}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class B extends i["a"]{static get pluginName(){return"Input"}init(){const t=this.editor,e=new x(t,t.config.get("typing.undoStep")||20);t.commands.add("input",e),_(t),R(t)}}var D=n("e561");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class V extends s["a"]{constructor(t,e){super(t),this.direction=e,this._buffer=new y(t.model,t.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,i=>{this._buffer.lock();const r=i.createSelection(n.selection),s=r.isCollapsed;if(r.isCollapsed&&e.modifySelection(r,{direction:this.direction,unit:t.unit}),this._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))return void this._replaceEntireContentWithParagraph(i);if(r.isCollapsed)return;let o=0;r.getFirstRange().getMinimalFlatRanges().forEach(t=>{o+=Object(D["a"])(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),e.deleteContent(r,{doNotResetEntireContent:s}),this._buffer.input(o),i.setSelection(r),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document,i=n.selection,r=e.schema.getLimitElement(i),s=i.isCollapsed&&i.containsEntireContent(r);if(!s)return!1;if(!e.schema.checkChild(r,"paragraph"))return!1;const o=r.getChild(0);return!o||"paragraph"!==o.name}_replaceEntireContentWithParagraph(t){const e=this.editor.model,n=e.document,i=n.selection,r=e.schema.getLimitElement(i),s=t.createElement("paragraph");t.remove(t.createRangeIn(r)),t.insert(s,r),t.setSelection(s,0)}}var F=n("59a6");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class L extends l["a"]{constructor(t){super(t);const e=t.document;let n=0;e.on("keyup",(t,e)=>{e.keyCode!=h["c"].delete&&e.keyCode!=h["c"].backspace||(n=0)}),e.on("keydown",(t,i)=>{const r={};if(i.keyCode==h["c"].delete)r.direction="forward",r.unit="character";else{if(i.keyCode!=h["c"].backspace)return;r.direction="backward",r.unit="codePoint"}const s=F["a"].isMac?i.altKey:i.ctrlKey;let o;r.unit=s?"word":r.unit,r.sequence=++n,e.once("delete",t=>o=t,{priority:Number.POSITIVE_INFINITY});const a=new u["a"](e,i.domEvent,r);e.fire("delete",a),o&&o.stop.called&&t.stop()})}observe(){}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function U(t){const e=t.model,n=t.editing.view,i=200;let r=null,s=e.createSelection(e.document.selection),o=Date.now();function a(t){const n=e.createSelection(t.source);s.isEqual(n)||(r=s,s=n,o=Date.now())}function c(t,e){E(e)&&$(e)&&(l(),t.stop())}function l(){u()&&e.enqueueChange(t=>{t.setSelection(r)}),t.execute("delete")}function u(){return Date.now()-o<i&&r&&!r.isCollapsed&&s.isCollapsed&&s.getLastPosition().isEqual(r.getLastPosition())}e.document.selection.on("change",a),n.document.on("mutations",c,{priority:"highest"})}function $(t){for(const e of t){if("children"!==e.type)continue;const t=e.oldChildren,n=e.newChildren;if(!z(t))continue;const i=Object(A["a"])(t,n),r=i.some(t=>"delete"===t),s=i.some(t=>"insert"===t);if(r&&!s)return!0}return!1}function z(t){return t.every(t=>t.is("containerElement"))}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class q extends i["a"]{static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(L),t.commands.add("forwardDelete",new V(t,"forward")),t.commands.add("delete",new V(t,"backward")),this.listenTo(n,"delete",(n,i)=>{t.execute("forward"==i.direction?"forwardDelete":"delete",{unit:i.unit,sequence:i.sequence}),i.preventDefault(),e.scrollToTheSelection()}),U(t)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class H extends i["a"]{static get requires(){return[B,q]}static get pluginName(){return"Typing"}}var W=n("8b59");n.d(e,"a",function(){return J});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class J extends i["a"]{static get requires(){return[r["a"],f,w,H,W["a"]]}static get pluginName(){return"Essentials"}}},"29da":function(t,e,n){"use strict";var i=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r{constructor(t){this.editor=t,this._components=new Map}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){if(this.has(t))throw new i["b"]("componentfactory-item-exists: The item already exists in the component factory.",{name:t});this._components.set(s(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new i["b"]("componentfactory-item-missing: The required component is not registered in the factory.",{name:t});return this._components.get(s(t)).callback(this.editor.locale)}has(t){return this._components.has(s(t))}}function s(t){return String(t).toLowerCase()}var o=n("768b"),a=n("da0d"),c=n("644e");n.d(e,"a",function(){return l});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class l{constructor(t){this.editor=t,this.componentFactory=new r(t),this.focusTracker=new o["a"],this._editableElements=new Map,this.listenTo(t.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this._editableElements=new Map}getEditableElement(t="main"){return this._editableElements.get(t)}getEditableElementsNames(){return this._editableElements.keys()}}Object(c["a"])(l,a["c"])},"2a21":function(t,e,n){},"2a57":function(t,e,n){"use strict";t.exports=c;var i=n("bd11"),r=n("cbd3");function s(t,e){return t.name+": "+e+(t.repeated&&"array"!==e?"[]":t.map&&"object"!==e?"{k:"+t.keyType+"}":"")+" expected"}function o(t,e,n,r){if(e.resolvedType)if(e.resolvedType instanceof i){t("switch(%s){",r)("default:")("return%j",s(e,"enum value"));for(var o=Object.keys(e.resolvedType.values),a=0;a<o.length;++a)t("case %i:",e.resolvedType.values[o[a]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",n,r)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",r)("return%j",s(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",s(e,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',r)("return%j",s(e,"number"));break;case"bool":t('if(typeof %s!=="boolean")',r)("return%j",s(e,"boolean"));break;case"string":t("if(!util.isString(%s))",r)("return%j",s(e,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",s(e,"buffer"));break}return t}function a(t,e,n){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",n)("return%j",s(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",n)("return%j",s(e,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",n)("return%j",s(e,"boolean key"));break}return t}function c(t){var e=r.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=t.oneofsArray,i={};n.length&&e("var p={}");for(var c=0;c<t.fieldsArray.length;++c){var l=t._fieldsArray[c].resolve(),u="m"+r.safeProp(l.name);if(l.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",u,l.name),l.map)e("if(!util.isObject(%s))",u)("return%j",s(l,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){"),a(e,l,"k[i]"),o(e,l,c,u+"[k[i]]")("}");else if(l.repeated)e("if(!Array.isArray(%s))",u)("return%j",s(l,"array"))("for(var i=0;i<%s.length;++i){",u),o(e,l,c,u+"[i]")("}");else{if(l.partOf){var h=r.safeProp(l.partOf.name);1===i[l.partOf.name]&&e("if(p%s===1)",h)("return%j",l.partOf.name+": multiple values"),i[l.partOf.name]=1,e("p%s=1",h)}o(e,l,c,u)}l.optional&&e("}")}return e("return null")}},"2b01":function(t,e,n){"use strict";function i(t){return"undefined"!==typeof Float32Array?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),i=128===n[3];function r(t,i,r){e[0]=t,i[r]=n[0],i[r+1]=n[1],i[r+2]=n[2],i[r+3]=n[3]}function s(t,i,r){e[0]=t,i[r]=n[3],i[r+1]=n[2],i[r+2]=n[1],i[r+3]=n[0]}function o(t,i){return n[0]=t[i],n[1]=t[i+1],n[2]=t[i+2],n[3]=t[i+3],e[0]}function a(t,i){return n[3]=t[i],n[2]=t[i+1],n[1]=t[i+2],n[0]=t[i+3],e[0]}t.writeFloatLE=i?r:s,t.writeFloatBE=i?s:r,t.readFloatLE=i?o:a,t.readFloatBE=i?a:o}():function(){function e(t,e,n,i){var r=e<0?1:0;if(r&&(e=-e),0===e)t(1/e>0?0:2147483648,n,i);else if(isNaN(e))t(2143289344,n,i);else if(e>3.4028234663852886e38)t((r<<31|2139095040)>>>0,n,i);else if(e<1.1754943508222875e-38)t((r<<31|Math.round(e/1.401298464324817e-45))>>>0,n,i);else{var s=Math.floor(Math.log(e)/Math.LN2),o=8388607&Math.round(e*Math.pow(2,-s)*8388608);t((r<<31|s+127<<23|o)>>>0,n,i)}}function n(t,e,n){var i=t(e,n),r=2*(i>>31)+1,s=i>>>23&255,o=8388607&i;return 255===s?o?NaN:r*(1/0):0===s?1.401298464324817e-45*r*o:r*Math.pow(2,s-150)*(o+8388608)}t.writeFloatLE=e.bind(null,r),t.writeFloatBE=e.bind(null,s),t.readFloatLE=n.bind(null,o),t.readFloatBE=n.bind(null,a)}(),"undefined"!==typeof Float64Array?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),i=128===n[7];function r(t,i,r){e[0]=t,i[r]=n[0],i[r+1]=n[1],i[r+2]=n[2],i[r+3]=n[3],i[r+4]=n[4],i[r+5]=n[5],i[r+6]=n[6],i[r+7]=n[7]}function s(t,i,r){e[0]=t,i[r]=n[7],i[r+1]=n[6],i[r+2]=n[5],i[r+3]=n[4],i[r+4]=n[3],i[r+5]=n[2],i[r+6]=n[1],i[r+7]=n[0]}function o(t,i){return n[0]=t[i],n[1]=t[i+1],n[2]=t[i+2],n[3]=t[i+3],n[4]=t[i+4],n[5]=t[i+5],n[6]=t[i+6],n[7]=t[i+7],e[0]}function a(t,i){return n[7]=t[i],n[6]=t[i+1],n[5]=t[i+2],n[4]=t[i+3],n[3]=t[i+4],n[2]=t[i+5],n[1]=t[i+6],n[0]=t[i+7],e[0]}t.writeDoubleLE=i?r:s,t.writeDoubleBE=i?s:r,t.readDoubleLE=i?o:a,t.readDoubleBE=i?a:o}():function(){function e(t,e,n,i,r,s){var o=i<0?1:0;if(o&&(i=-i),0===i)t(0,r,s+e),t(1/i>0?0:2147483648,r,s+n);else if(isNaN(i))t(0,r,s+e),t(2146959360,r,s+n);else if(i>1.7976931348623157e308)t(0,r,s+e),t((o<<31|2146435072)>>>0,r,s+n);else{var a;if(i<2.2250738585072014e-308)a=i/5e-324,t(a>>>0,r,s+e),t((o<<31|a/4294967296)>>>0,r,s+n);else{var c=Math.floor(Math.log(i)/Math.LN2);1024===c&&(c=1023),a=i*Math.pow(2,-c),t(4503599627370496*a>>>0,r,s+e),t((o<<31|c+1023<<20|1048576*a&1048575)>>>0,r,s+n)}}}function n(t,e,n,i,r){var s=t(i,r+e),o=t(i,r+n),a=2*(o>>31)+1,c=o>>>20&2047,l=4294967296*(1048575&o)+s;return 2047===c?l?NaN:a*(1/0):0===c?5e-324*a*l:a*Math.pow(2,c-1075)*(l+4503599627370496)}t.writeDoubleLE=e.bind(null,r,0,4),t.writeDoubleBE=e.bind(null,s,4,0),t.readDoubleLE=n.bind(null,o,0,4),t.readDoubleBE=n.bind(null,a,4,0)}(),t}function r(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function s(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function o(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function a(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=i(i)},"2b0e":function(t,e,n){"use strict";(function(t){
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function i(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function s(t){return!0===t}function o(t){return!1===t}function a(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function c(t){return null!==t&&"object"===typeof t}var l=Object.prototype.toString;function u(t){return"[object Object]"===l.call(t)}function h(t){return"[object RegExp]"===l.call(t)}function d(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return r(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}g("slot,component",!0);var b=g("key,ref,slot,slot-scope,is");function v(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var w=Object.prototype.hasOwnProperty;function y(t,e){return w.call(t,e)}function x(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var _=/-(\w)/g,k=x(function(t){return t.replace(_,function(t,e){return e?e.toUpperCase():""})}),C=x(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),A=/\B([A-Z])/g,T=x(function(t){return t.replace(A,"-$1").toLowerCase()});function O(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function E(t,e){return t.bind(e)}var P=Function.prototype.bind?E:O;function S(t,e){e=e||0;var n=t.length-e,i=new Array(n);while(n--)i[n]=t[n+e];return i}function R(t,e){for(var n in e)t[n]=e[n];return t}function I(t){for(var e={},n=0;n<t.length;n++)t[n]&&R(e,t[n]);return e}function N(t,e,n){}var j=function(t,e,n){return!1},M=function(t){return t};function B(t,e){if(t===e)return!0;var n=c(t),i=c(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),s=Array.isArray(e);if(r&&s)return t.length===e.length&&t.every(function(t,n){return B(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||s)return!1;var o=Object.keys(t),a=Object.keys(e);return o.length===a.length&&o.every(function(n){return B(t[n],e[n])})}catch(l){return!1}}function D(t,e){for(var n=0;n<t.length;n++)if(B(t[n],e))return n;return-1}function V(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var F="data-server-rendered",L=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:j,isReservedAttr:j,isUnknownElement:j,getTagNamespace:N,parsePlatformTagName:M,mustUseProp:j,async:!0,_lifecycleHooks:U},z=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function q(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function H(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var W=new RegExp("[^"+z.source+".$_\\d]");function J(t){if(!W.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var Y,G="__proto__"in{},K="undefined"!==typeof window,X="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Q=X&&WXEnvironment.platform.toLowerCase(),Z=K&&window.navigator.userAgent.toLowerCase(),tt=Z&&/msie|trident/.test(Z),et=Z&&Z.indexOf("msie 9.0")>0,nt=Z&&Z.indexOf("edge/")>0,it=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===Q),rt=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),st={}.watch,ot=!1;if(K)try{var at={};Object.defineProperty(at,"passive",{get:function(){ot=!0}}),window.addEventListener("test-passive",null,at)}catch(ko){}var ct=function(){return void 0===Y&&(Y=!K&&!X&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),Y},lt=K&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ut(t){return"function"===typeof t&&/native code/.test(t.toString())}var ht,dt="undefined"!==typeof Symbol&&ut(Symbol)&&"undefined"!==typeof Reflect&&ut(Reflect.ownKeys);ht="undefined"!==typeof Set&&ut(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ft=N,pt=0,mt=function(){this.id=pt++,this.subs=[]};mt.prototype.addSub=function(t){this.subs.push(t)},mt.prototype.removeSub=function(t){v(this.subs,t)},mt.prototype.depend=function(){mt.target&&mt.target.addDep(this)},mt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},mt.target=null;var gt=[];function bt(t){gt.push(t),mt.target=t}function vt(){gt.pop(),mt.target=gt[gt.length-1]}var wt=function(t,e,n,i,r,s,o,a){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},yt={child:{configurable:!0}};yt.child.get=function(){return this.componentInstance},Object.defineProperties(wt.prototype,yt);var xt=function(t){void 0===t&&(t="");var e=new wt;return e.text=t,e.isComment=!0,e};function _t(t){return new wt(void 0,void 0,void 0,String(t))}function kt(t){var e=new wt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Ct=Array.prototype,At=Object.create(Ct),Tt=["push","pop","shift","unshift","splice","sort","reverse"];Tt.forEach(function(t){var e=Ct[t];H(At,t,function(){var n=[],i=arguments.length;while(i--)n[i]=arguments[i];var r,s=e.apply(this,n),o=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2);break}return r&&o.observeArray(r),o.dep.notify(),s})});var Ot=Object.getOwnPropertyNames(At),Et=!0;function Pt(t){Et=t}var St=function(t){this.value=t,this.dep=new mt,this.vmCount=0,H(t,"__ob__",this),Array.isArray(t)?(G?Rt(t,At):It(t,At,Ot),this.observeArray(t)):this.walk(t)};function Rt(t,e){t.__proto__=e}function It(t,e,n){for(var i=0,r=n.length;i<r;i++){var s=n[i];H(t,s,e[s])}}function Nt(t,e){var n;if(c(t)&&!(t instanceof wt))return y(t,"__ob__")&&t.__ob__ instanceof St?n=t.__ob__:Et&&!ct()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new St(t)),e&&n&&n.vmCount++,n}function jt(t,e,n,i,r){var s=new mt,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var a=o&&o.get,c=o&&o.set;a&&!c||2!==arguments.length||(n=t[e]);var l=!r&&Nt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return mt.target&&(s.depend(),l&&(l.dep.depend(),Array.isArray(e)&&Dt(e))),e},set:function(e){var i=a?a.call(t):n;e===i||e!==e&&i!==i||a&&!c||(c?c.call(t,e):n=e,l=!r&&Nt(e),s.notify())}})}}function Mt(t,e,n){if(Array.isArray(t)&&d(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(jt(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function Bt(t,e){if(Array.isArray(t)&&d(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||y(t,e)&&(delete t[e],n&&n.dep.notify())}}function Dt(t){for(var e=void 0,n=0,i=t.length;n<i;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Dt(e)}St.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)jt(t,e[n])},St.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Nt(t[e])};var Vt=$.optionMergeStrategies;function Ft(t,e){if(!e)return t;for(var n,i,r,s=dt?Reflect.ownKeys(e):Object.keys(e),o=0;o<s.length;o++)n=s[o],"__ob__"!==n&&(i=t[n],r=e[n],y(t,n)?i!==r&&u(i)&&u(r)&&Ft(i,r):Mt(t,n,r));return t}function Lt(t,e,n){return n?function(){var i="function"===typeof e?e.call(n,n):e,r="function"===typeof t?t.call(n,n):t;return i?Ft(i,r):r}:e?t?function(){return Ft("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Ut(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?$t(n):n}function $t(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function zt(t,e,n,i){var r=Object.create(t||null);return e?R(r,e):r}Vt.data=function(t,e,n){return n?Lt(t,e,n):e&&"function"!==typeof e?t:Lt(t,e)},U.forEach(function(t){Vt[t]=Ut}),L.forEach(function(t){Vt[t+"s"]=zt}),Vt.watch=function(t,e,n,i){if(t===st&&(t=void 0),e===st&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var s in R(r,t),e){var o=r[s],a=e[s];o&&!Array.isArray(o)&&(o=[o]),r[s]=o?o.concat(a):Array.isArray(a)?a:[a]}return r},Vt.props=Vt.methods=Vt.inject=Vt.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return R(r,t),e&&R(r,e),r},Vt.provide=Lt;var qt=function(t,e){return void 0===e?t:e};function Ht(t,e){var n=t.props;if(n){var i,r,s,o={};if(Array.isArray(n)){i=n.length;while(i--)r=n[i],"string"===typeof r&&(s=k(r),o[s]={type:null})}else if(u(n))for(var a in n)r=n[a],s=k(a),o[s]=u(r)?r:{type:r};else 0;t.props=o}}function Wt(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(u(n))for(var s in n){var o=n[s];i[s]=u(o)?R({from:s},o):{from:o}}else 0}}function Jt(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"===typeof i&&(e[n]={bind:i,update:i})}}function Yt(t,e,n){if("function"===typeof e&&(e=e.options),Ht(e,n),Wt(e,n),Jt(e),!e._base&&(e.extends&&(t=Yt(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=Yt(t,e.mixins[i],n);var s,o={};for(s in t)a(s);for(s in e)y(t,s)||a(s);function a(i){var r=Vt[i]||qt;o[i]=r(t[i],e[i],n,i)}return o}function Gt(t,e,n,i){if("string"===typeof n){var r=t[e];if(y(r,n))return r[n];var s=k(n);if(y(r,s))return r[s];var o=C(s);if(y(r,o))return r[o];var a=r[n]||r[s]||r[o];return a}}function Kt(t,e,n,i){var r=e[t],s=!y(n,t),o=n[t],a=te(Boolean,r.type);if(a>-1)if(s&&!y(r,"default"))o=!1;else if(""===o||o===T(t)){var c=te(String,r.type);(c<0||a<c)&&(o=!0)}if(void 0===o){o=Xt(i,r,t);var l=Et;Pt(!0),Nt(o),Pt(l)}return o}function Xt(t,e,n){if(y(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof i&&"Function"!==Qt(e.type)?i.call(t):i}}function Qt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Zt(t,e){return Qt(t)===Qt(e)}function te(t,e){if(!Array.isArray(e))return Zt(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Zt(e[n],t))return n;return-1}function ee(t,e,n){bt();try{if(e){var i=e;while(i=i.$parent){var r=i.$options.errorCaptured;if(r)for(var s=0;s<r.length;s++)try{var o=!1===r[s].call(i,t,e,n);if(o)return}catch(ko){ie(ko,i,"errorCaptured hook")}}}ie(t,e,n)}finally{vt()}}function ne(t,e,n,i,r){var s;try{s=n?t.apply(e,n):t.call(e),s&&!s._isVue&&f(s)&&!s._handled&&(s.catch(function(t){return ee(t,i,r+" (Promise/async)")}),s._handled=!0)}catch(ko){ee(ko,i,r)}return s}function ie(t,e,n){if($.errorHandler)try{return $.errorHandler.call(null,t,e,n)}catch(ko){ko!==t&&re(ko,null,"config.errorHandler")}re(t,e,n)}function re(t,e,n){if(!K&&!X||"undefined"===typeof console)throw t;console.error(t)}var se,oe=!1,ae=[],ce=!1;function le(){ce=!1;var t=ae.slice(0);ae.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ut(Promise)){var ue=Promise.resolve();se=function(){ue.then(le),it&&setTimeout(N)},oe=!0}else if(tt||"undefined"===typeof MutationObserver||!ut(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())se="undefined"!==typeof setImmediate&&ut(setImmediate)?function(){setImmediate(le)}:function(){setTimeout(le,0)};else{var he=1,de=new MutationObserver(le),fe=document.createTextNode(String(he));de.observe(fe,{characterData:!0}),se=function(){he=(he+1)%2,fe.data=String(he)},oe=!0}function pe(t,e){var n;if(ae.push(function(){if(t)try{t.call(e)}catch(ko){ee(ko,e,"nextTick")}else n&&n(e)}),ce||(ce=!0,se()),!t&&"undefined"!==typeof Promise)return new Promise(function(t){n=t})}var me=new ht;function ge(t){be(t,me),me.clear()}function be(t,e){var n,i,r=Array.isArray(t);if(!(!r&&!c(t)||Object.isFrozen(t)||t instanceof wt)){if(t.__ob__){var s=t.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(r){n=t.length;while(n--)be(t[n],e)}else{i=Object.keys(t),n=i.length;while(n--)be(t[i[n]],e)}}}var ve=x(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var i="!"===t.charAt(0);return t=i?t.slice(1):t,{name:t,once:n,capture:i,passive:e}});function we(t,e){function n(){var t=arguments,i=n.fns;if(!Array.isArray(i))return ne(i,null,arguments,e,"v-on handler");for(var r=i.slice(),s=0;s<r.length;s++)ne(r[s],null,t,e,"v-on handler")}return n.fns=t,n}function ye(t,e,n,r,o,a){var c,l,u,h;for(c in t)l=t[c],u=e[c],h=ve(c),i(l)||(i(u)?(i(l.fns)&&(l=t[c]=we(l,a)),s(h.once)&&(l=t[c]=o(h.name,l,h.capture)),n(h.name,l,h.capture,h.passive,h.params)):l!==u&&(u.fns=l,t[c]=u));for(c in e)i(t[c])&&(h=ve(c),r(h.name,e[c],h.capture))}function xe(t,e,n){var o;t instanceof wt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function c(){n.apply(this,arguments),v(o.fns,c)}i(a)?o=we([c]):r(a.fns)&&s(a.merged)?(o=a,o.fns.push(c)):o=we([a,c]),o.merged=!0,t[e]=o}function _e(t,e,n){var s=e.options.props;if(!i(s)){var o={},a=t.attrs,c=t.props;if(r(a)||r(c))for(var l in s){var u=T(l);ke(o,c,l,u,!0)||ke(o,a,l,u,!1)}return o}}function ke(t,e,n,i,s){if(r(e)){if(y(e,n))return t[n]=e[n],s||delete e[n],!0;if(y(e,i))return t[n]=e[i],s||delete e[i],!0}return!1}function Ce(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Ae(t){return a(t)?[_t(t)]:Array.isArray(t)?Oe(t):void 0}function Te(t){return r(t)&&r(t.text)&&o(t.isComment)}function Oe(t,e){var n,o,c,l,u=[];for(n=0;n<t.length;n++)o=t[n],i(o)||"boolean"===typeof o||(c=u.length-1,l=u[c],Array.isArray(o)?o.length>0&&(o=Oe(o,(e||"")+"_"+n),Te(o[0])&&Te(l)&&(u[c]=_t(l.text+o[0].text),o.shift()),u.push.apply(u,o)):a(o)?Te(l)?u[c]=_t(l.text+o):""!==o&&u.push(_t(o)):Te(o)&&Te(l)?u[c]=_t(l.text+o.text):(s(t._isVList)&&r(o.tag)&&i(o.key)&&r(e)&&(o.key="__vlist"+e+"_"+n+"__"),u.push(o)));return u}function Ee(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Pe(t){var e=Se(t.$options.inject,t);e&&(Pt(!1),Object.keys(e).forEach(function(n){jt(t,n,e[n])}),Pt(!0))}function Se(t,e){if(t){for(var n=Object.create(null),i=dt?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var s=i[r];if("__ob__"!==s){var o=t[s].from,a=e;while(a){if(a._provided&&y(a._provided,o)){n[s]=a._provided[o];break}a=a.$parent}if(!a)if("default"in t[s]){var c=t[s].default;n[s]="function"===typeof c?c.call(e):c}else 0}}return n}}function Re(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var s=t[i],o=s.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,s.context!==e&&s.fnContext!==e||!o||null==o.slot)(n.default||(n.default=[])).push(s);else{var a=o.slot,c=n[a]||(n[a]=[]);"template"===s.tag?c.push.apply(c,s.children||[]):c.push(s)}}for(var l in n)n[l].every(Ie)&&delete n[l];return n}function Ie(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Ne(t,e,i){var r,s=Object.keys(e).length>0,o=t?!!t.$stable:!s,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&i&&i!==n&&a===i.$key&&!s&&!i.$hasNormal)return i;for(var c in r={},t)t[c]&&"$"!==c[0]&&(r[c]=je(e,c,t[c]))}else r={};for(var l in e)l in r||(r[l]=Me(e,l));return t&&Object.isExtensible(t)&&(t._normalized=r),H(r,"$stable",o),H(r,"$key",a),H(r,"$hasNormal",s),r}function je(t,e,n){var i=function(){var t=arguments.length?n.apply(null,arguments):n({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Ae(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function Me(t,e){return function(){return t[e]}}function Be(t,e){var n,i,s,o,a;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),i=0,s=t.length;i<s;i++)n[i]=e(t[i],i);else if("number"===typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(c(t))if(dt&&t[Symbol.iterator]){n=[];var l=t[Symbol.iterator](),u=l.next();while(!u.done)n.push(e(u.value,n.length)),u=l.next()}else for(o=Object.keys(t),n=new Array(o.length),i=0,s=o.length;i<s;i++)a=o[i],n[i]=e(t[a],a,i);return r(n)||(n=[]),n._isVList=!0,n}function De(t,e,n,i){var r,s=this.$scopedSlots[t];s?(n=n||{},i&&(n=R(R({},i),n)),r=s(n)||e):r=this.$slots[t]||e;var o=n&&n.slot;return o?this.$createElement("template",{slot:o},r):r}function Ve(t){return Gt(this.$options,"filters",t,!0)||M}function Fe(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Le(t,e,n,i,r){var s=$.keyCodes[e]||n;return r&&i&&!$.keyCodes[e]?Fe(r,i):s?Fe(s,t):i?T(i)!==e:void 0}function Ue(t,e,n,i,r){if(n)if(c(n)){var s;Array.isArray(n)&&(n=I(n));var o=function(o){if("class"===o||"style"===o||b(o))s=t;else{var a=t.attrs&&t.attrs.type;s=i||$.mustUseProp(e,a,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=k(o),l=T(o);if(!(c in s)&&!(l in s)&&(s[o]=n[o],r)){var u=t.on||(t.on={});u["update:"+o]=function(t){n[o]=t}}};for(var a in n)o(a)}else;return t}function $e(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e?i:(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),qe(i,"__static__"+t,!1),i)}function ze(t,e,n){return qe(t,"__once__"+e+(n?"_"+n:""),!0),t}function qe(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!==typeof t[i]&&He(t[i],e+"_"+i,n);else He(t,e,n)}function He(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function We(t,e){if(e)if(u(e)){var n=t.on=t.on?R({},t.on):{};for(var i in e){var r=n[i],s=e[i];n[i]=r?[].concat(r,s):s}}else;return t}function Je(t,e,n,i){e=e||{$stable:!n};for(var r=0;r<t.length;r++){var s=t[r];Array.isArray(s)?Je(s,e,n):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return i&&(e.$key=i),e}function Ye(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"===typeof i&&i&&(t[e[n]]=e[n+1])}return t}function Ge(t,e){return"string"===typeof t?e+t:t}function Ke(t){t._o=ze,t._n=m,t._s=p,t._l=Be,t._t=De,t._q=B,t._i=D,t._m=$e,t._f=Ve,t._k=Le,t._b=Ue,t._v=_t,t._e=xt,t._u=Je,t._g=We,t._d=Ye,t._p=Ge}function Xe(t,e,i,r,o){var a,c=this,l=o.options;y(r,"_uid")?(a=Object.create(r),a._original=r):(a=r,r=r._original);var u=s(l._compiled),h=!u;this.data=t,this.props=e,this.children=i,this.parent=r,this.listeners=t.on||n,this.injections=Se(l.inject,r),this.slots=function(){return c.$slots||Ne(t.scopedSlots,c.$slots=Re(i,r)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ne(t.scopedSlots,this.slots())}}),u&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Ne(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,n,i){var s=hn(a,t,e,n,i,h);return s&&!Array.isArray(s)&&(s.fnScopeId=l._scopeId,s.fnContext=r),s}:this._c=function(t,e,n,i){return hn(a,t,e,n,i,h)}}function Qe(t,e,i,s,o){var a=t.options,c={},l=a.props;if(r(l))for(var u in l)c[u]=Kt(u,l,e||n);else r(i.attrs)&&tn(c,i.attrs),r(i.props)&&tn(c,i.props);var h=new Xe(i,c,o,s,t),d=a.render.call(null,h._c,h);if(d instanceof wt)return Ze(d,i,h.parent,a,h);if(Array.isArray(d)){for(var f=Ae(d)||[],p=new Array(f.length),m=0;m<f.length;m++)p[m]=Ze(f[m],i,h.parent,a,h);return p}}function Ze(t,e,n,i,r){var s=kt(t);return s.fnContext=n,s.fnOptions=i,e.slot&&((s.data||(s.data={})).slot=e.slot),s}function tn(t,e){for(var n in e)t[k(n)]=e[n]}Ke(Xe.prototype);var en={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;en.prepatch(n,n)}else{var i=t.componentInstance=sn(t,Sn);i.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,i=e.componentInstance=t.componentInstance;Mn(i,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Fn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Qn(n):Dn(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Vn(e,!0):e.$destroy())}},nn=Object.keys(en);function rn(t,e,n,o,a){if(!i(t)){var l=n.$options._base;if(c(t)&&(t=l.extend(t)),"function"===typeof t){var u;if(i(t.cid)&&(u=t,t=xn(u,l),void 0===t))return yn(u,e,n,o,a);e=e||{},xi(t),r(e.model)&&cn(t.options,e);var h=_e(e,t,a);if(s(t.options.functional))return Qe(t,h,e,n,o);var d=e.on;if(e.on=e.nativeOn,s(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}on(e);var p=t.options.name||a,m=new wt("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:d,tag:a,children:o},u);return m}}}function sn(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;return r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(n)}function on(t){for(var e=t.hook||(t.hook={}),n=0;n<nn.length;n++){var i=nn[n],r=e[i],s=en[i];r===s||r&&r._merged||(e[i]=r?an(s,r):s)}}function an(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}function cn(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var s=e.on||(e.on={}),o=s[i],a=e.model.callback;r(o)?(Array.isArray(o)?-1===o.indexOf(a):o!==a)&&(s[i]=[a].concat(o)):s[i]=a}var ln=1,un=2;function hn(t,e,n,i,r,o){return(Array.isArray(n)||a(n))&&(r=i,i=n,n=void 0),s(o)&&(r=un),dn(t,e,n,i,r)}function dn(t,e,n,i,s){if(r(n)&&r(n.__ob__))return xt();if(r(n)&&r(n.is)&&(e=n.is),!e)return xt();var o,a,c;(Array.isArray(i)&&"function"===typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),s===un?i=Ae(i):s===ln&&(i=Ce(i)),"string"===typeof e)?(a=t.$vnode&&t.$vnode.ns||$.getTagNamespace(e),o=$.isReservedTag(e)?new wt($.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!r(c=Gt(t.$options,"components",e))?new wt(e,n,i,void 0,void 0,t):rn(c,n,t,i,e)):o=rn(e,n,t,i);return Array.isArray(o)?o:r(o)?(r(a)&&fn(o,a),r(n)&&pn(n),o):xt()}function fn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),r(t.children))for(var o=0,a=t.children.length;o<a;o++){var c=t.children[o];r(c.tag)&&(i(c.ns)||s(n)&&"svg"!==c.tag)&&fn(c,e,n)}}function pn(t){c(t.style)&&ge(t.style),c(t.class)&&ge(t.class)}function mn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,i=t.$vnode=e._parentVnode,r=i&&i.context;t.$slots=Re(e._renderChildren,r),t.$scopedSlots=n,t._c=function(e,n,i,r){return hn(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return hn(t,e,n,i,r,!0)};var s=i&&i.data;jt(t,"$attrs",s&&s.attrs||n,null,!0),jt(t,"$listeners",e._parentListeners||n,null,!0)}var gn,bn=null;function vn(t){Ke(t.prototype),t.prototype.$nextTick=function(t){return pe(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,i=n.render,r=n._parentVnode;r&&(e.$scopedSlots=Ne(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;try{bn=e,t=i.call(e._renderProxy,e.$createElement)}catch(ko){ee(ko,e,"render"),t=e._vnode}finally{bn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof wt||(t=xt()),t.parent=r,t}}function wn(t,e){return(t.__esModule||dt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?e.extend(t):t}function yn(t,e,n,i,r){var s=xt();return s.asyncFactory=t,s.asyncMeta={data:e,context:n,children:i,tag:r},s}function xn(t,e){if(s(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;var n=bn;if(n&&r(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),s(t.loading)&&r(t.loadingComp))return t.loadingComp;if(n&&!r(t.owners)){var o=t.owners=[n],a=!0,l=null,u=null;n.$on("hook:destroyed",function(){return v(o,n)});var h=function(t){for(var e=0,n=o.length;e<n;e++)o[e].$forceUpdate();t&&(o.length=0,null!==l&&(clearTimeout(l),l=null),null!==u&&(clearTimeout(u),u=null))},d=V(function(n){t.resolved=wn(n,e),a?o.length=0:h(!0)}),p=V(function(e){r(t.errorComp)&&(t.error=!0,h(!0))}),m=t(d,p);return c(m)&&(f(m)?i(t.resolved)&&m.then(d,p):f(m.component)&&(m.component.then(d,p),r(m.error)&&(t.errorComp=wn(m.error,e)),r(m.loading)&&(t.loadingComp=wn(m.loading,e),0===m.delay?t.loading=!0:l=setTimeout(function(){l=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,h(!1))},m.delay||200)),r(m.timeout)&&(u=setTimeout(function(){u=null,i(t.resolved)&&p(null)},m.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}function _n(t){return t.isComment&&t.asyncFactory}function kn(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(r(n)&&(r(n.componentOptions)||_n(n)))return n}}function Cn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&En(t,e)}function An(t,e){gn.$on(t,e)}function Tn(t,e){gn.$off(t,e)}function On(t,e){var n=gn;return function i(){var r=e.apply(null,arguments);null!==r&&n.$off(t,i)}}function En(t,e,n){gn=t,ye(e,n||{},An,Tn,On,t),gn=void 0}function Pn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(Array.isArray(t))for(var r=0,s=t.length;r<s;r++)i.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return n}var s,o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;var a=o.length;while(a--)if(s=o[a],s===e||s.fn===e){o.splice(a,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?S(n):n;for(var i=S(arguments,1),r='event handler for "'+t+'"',s=0,o=n.length;s<o;s++)ne(n[s],e,i,e,r)}return e}}var Sn=null;function Rn(t){var e=Sn;return Sn=t,function(){Sn=e}}function In(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Nn(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,s=Rn(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),s(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Fn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||v(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Fn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function jn(t,e,n){var i;return t.$el=e,t.$options.render||(t.$options.render=xt),Fn(t,"beforeMount"),i=function(){t._update(t._render(),n)},new ni(t,i,N,{before:function(){t._isMounted&&!t._isDestroyed&&Fn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Fn(t,"mounted")),t}function Mn(t,e,i,r,s){var o=r.data.scopedSlots,a=t.$scopedSlots,c=!!(o&&!o.$stable||a!==n&&!a.$stable||o&&t.$scopedSlots.$key!==o.$key),l=!!(s||t.$options._renderChildren||c);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=s,t.$attrs=r.data.attrs||n,t.$listeners=i||n,e&&t.$options.props){Pt(!1);for(var u=t._props,h=t.$options._propKeys||[],d=0;d<h.length;d++){var f=h[d],p=t.$options.props;u[f]=Kt(f,p,e,t)}Pt(!0),t.$options.propsData=e}i=i||n;var m=t.$options._parentListeners;t.$options._parentListeners=i,En(t,i,m),l&&(t.$slots=Re(s,r.context),t.$forceUpdate())}function Bn(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Dn(t,e){if(e){if(t._directInactive=!1,Bn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Dn(t.$children[n]);Fn(t,"activated")}}function Vn(t,e){if((!e||(t._directInactive=!0,!Bn(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Vn(t.$children[n]);Fn(t,"deactivated")}}function Fn(t,e){bt();var n=t.$options[e],i=e+" hook";if(n)for(var r=0,s=n.length;r<s;r++)ne(n[r],t,null,t,i);t._hasHookEvent&&t.$emit("hook:"+e),vt()}var Ln=[],Un=[],$n={},zn=!1,qn=!1,Hn=0;function Wn(){Hn=Ln.length=Un.length=0,$n={},zn=qn=!1}var Jn=0,Yn=Date.now;if(K&&!tt){var Gn=window.performance;Gn&&"function"===typeof Gn.now&&Yn()>document.createEvent("Event").timeStamp&&(Yn=function(){return Gn.now()})}function Kn(){var t,e;for(Jn=Yn(),qn=!0,Ln.sort(function(t,e){return t.id-e.id}),Hn=0;Hn<Ln.length;Hn++)t=Ln[Hn],t.before&&t.before(),e=t.id,$n[e]=null,t.run();var n=Un.slice(),i=Ln.slice();Wn(),Zn(n),Xn(i),lt&&$.devtools&&lt.emit("flush")}function Xn(t){var e=t.length;while(e--){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Fn(i,"updated")}}function Qn(t){t._inactive=!1,Un.push(t)}function Zn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Dn(t[e],!0)}function ti(t){var e=t.id;if(null==$n[e]){if($n[e]=!0,qn){var n=Ln.length-1;while(n>Hn&&Ln[n].id>t.id)n--;Ln.splice(n+1,0,t)}else Ln.push(t);zn||(zn=!0,pe(Kn))}}var ei=0,ni=function(t,e,n,i,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++ei,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ht,this.newDepIds=new ht,this.expression="","function"===typeof e?this.getter=e:(this.getter=J(e),this.getter||(this.getter=N)),this.value=this.lazy?void 0:this.get()};ni.prototype.get=function(){var t;bt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(ko){if(!this.user)throw ko;ee(ko,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ge(t),vt(),this.cleanupDeps()}return t},ni.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},ni.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},ni.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ti(this)},ni.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(ko){ee(ko,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},ni.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ni.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},ni.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var ii={enumerable:!0,configurable:!0,get:N,set:N};function ri(t,e,n){ii.get=function(){return this[e][n]},ii.set=function(t){this[e][n]=t},Object.defineProperty(t,n,ii)}function si(t){t._watchers=[];var e=t.$options;e.props&&oi(t,e.props),e.methods&&pi(t,e.methods),e.data?ai(t):Nt(t._data={},!0),e.computed&&ui(t,e.computed),e.watch&&e.watch!==st&&mi(t,e.watch)}function oi(t,e){var n=t.$options.propsData||{},i=t._props={},r=t.$options._propKeys=[],s=!t.$parent;s||Pt(!1);var o=function(s){r.push(s);var o=Kt(s,e,n,t);jt(i,s,o),s in t||ri(t,"_props",s)};for(var a in e)o(a);Pt(!0)}function ai(t){var e=t.$options.data;e=t._data="function"===typeof e?ci(e,t):e||{},u(e)||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);while(r--){var s=n[r];0,i&&y(i,s)||q(s)||ri(t,"_data",s)}Nt(e,!0)}function ci(t,e){bt();try{return t.call(e,e)}catch(ko){return ee(ko,e,"data()"),{}}finally{vt()}}var li={lazy:!0};function ui(t,e){var n=t._computedWatchers=Object.create(null),i=ct();for(var r in e){var s=e[r],o="function"===typeof s?s:s.get;0,i||(n[r]=new ni(t,o||N,N,li)),r in t||hi(t,r,s)}}function hi(t,e,n){var i=!ct();"function"===typeof n?(ii.get=i?di(e):fi(n),ii.set=N):(ii.get=n.get?i&&!1!==n.cache?di(e):fi(n.get):N,ii.set=n.set||N),Object.defineProperty(t,e,ii)}function di(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),mt.target&&e.depend(),e.value}}function fi(t){return function(){return t.call(this,this)}}function pi(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?N:P(e[n],t)}function mi(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)gi(t,n,i[r]);else gi(t,n,i)}}function gi(t,e,n,i){return u(n)&&(i=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,i)}function bi(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Mt,t.prototype.$delete=Bt,t.prototype.$watch=function(t,e,n){var i=this;if(u(e))return gi(i,t,e,n);n=n||{},n.user=!0;var r=new ni(i,t,e,n);if(n.immediate)try{e.call(i,r.value)}catch(s){ee(s,i,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}var vi=0;function wi(t){t.prototype._init=function(t){var e=this;e._uid=vi++,e._isVue=!0,t&&t._isComponent?yi(e,t):e.$options=Yt(xi(e.constructor),t||{},e),e._renderProxy=e,e._self=e,In(e),Cn(e),mn(e),Fn(e,"beforeCreate"),Pe(e),si(e),Ee(e),Fn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function yi(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function xi(t){var e=t.options;if(t.super){var n=xi(t.super),i=t.superOptions;if(n!==i){t.superOptions=n;var r=_i(t);r&&R(t.extendOptions,r),e=t.options=Yt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function _i(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}function ki(t){this._init(t)}function Ci(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=S(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Ai(t){t.mixin=function(t){return this.options=Yt(this.options,t),this}}function Ti(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var s=t.name||n.options.name;var o=function(t){this._init(t)};return o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.cid=e++,o.options=Yt(n.options,t),o["super"]=n,o.options.props&&Oi(o),o.options.computed&&Ei(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,L.forEach(function(t){o[t]=n[t]}),s&&(o.options.components[s]=o),o.superOptions=n.options,o.extendOptions=t,o.sealedOptions=R({},o.options),r[i]=o,o}}function Oi(t){var e=t.options.props;for(var n in e)ri(t.prototype,"_props",n)}function Ei(t){var e=t.options.computed;for(var n in e)hi(t.prototype,n,e[n])}function Pi(t){L.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function Si(t){return t&&(t.Ctor.options.name||t.tag)}function Ri(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function Ii(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var s in n){var o=n[s];if(o){var a=Si(o.componentOptions);a&&!e(a)&&Ni(n,s,i,r)}}}function Ni(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,v(n,e)}wi(ki),bi(ki),Pn(ki),Nn(ki),vn(ki);var ji=[String,RegExp,Array],Mi={name:"keep-alive",abstract:!0,props:{include:ji,exclude:ji,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Ni(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Ii(t,function(t){return Ri(e,t)})}),this.$watch("exclude",function(e){Ii(t,function(t){return!Ri(e,t)})})},render:function(){var t=this.$slots.default,e=kn(t),n=e&&e.componentOptions;if(n){var i=Si(n),r=this,s=r.include,o=r.exclude;if(s&&(!i||!Ri(s,i))||o&&i&&Ri(o,i))return e;var a=this,c=a.cache,l=a.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;c[u]?(e.componentInstance=c[u].componentInstance,v(l,u),l.push(u)):(c[u]=e,l.push(u),this.max&&l.length>parseInt(this.max)&&Ni(c,l[0],l,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Bi={KeepAlive:Mi};function Di(t){var e={get:function(){return $}};Object.defineProperty(t,"config",e),t.util={warn:ft,extend:R,mergeOptions:Yt,defineReactive:jt},t.set=Mt,t.delete=Bt,t.nextTick=pe,t.observable=function(t){return Nt(t),t},t.options=Object.create(null),L.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,R(t.options.components,Bi),Ci(t),Ai(t),Ti(t),Pi(t)}Di(ki),Object.defineProperty(ki.prototype,"$isServer",{get:ct}),Object.defineProperty(ki.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ki,"FunctionalRenderContext",{value:Xe}),ki.version="2.6.10";var Vi=g("style,class"),Fi=g("input,textarea,option,select,progress"),Li=function(t,e,n){return"value"===n&&Fi(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Ui=g("contenteditable,draggable,spellcheck"),$i=g("events,caret,typing,plaintext-only"),zi=function(t,e){return Yi(e)||"false"===e?"false":"contenteditable"===t&&$i(e)?e:"true"},qi=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Hi="http://www.w3.org/1999/xlink",Wi=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ji=function(t){return Wi(t)?t.slice(6,t.length):""},Yi=function(t){return null==t||!1===t};function Gi(t){var e=t.data,n=t,i=t;while(r(i.componentInstance))i=i.componentInstance._vnode,i&&i.data&&(e=Ki(i.data,e));while(r(n=n.parent))n&&n.data&&(e=Ki(e,n.data));return Xi(e.staticClass,e.class)}function Ki(t,e){return{staticClass:Qi(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Xi(t,e){return r(t)||r(e)?Qi(t,Zi(e)):""}function Qi(t,e){return t?e?t+" "+e:t:e||""}function Zi(t){return Array.isArray(t)?tr(t):c(t)?er(t):"string"===typeof t?t:""}function tr(t){for(var e,n="",i=0,s=t.length;i<s;i++)r(e=Zi(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function er(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var nr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ir=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),rr=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),sr=function(t){return ir(t)||rr(t)};function or(t){return rr(t)?"svg":"math"===t?"math":void 0}var ar=Object.create(null);function cr(t){if(!K)return!0;if(sr(t))return!1;if(t=t.toLowerCase(),null!=ar[t])return ar[t];var e=document.createElement(t);return t.indexOf("-")>-1?ar[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ar[t]=/HTMLUnknownElement/.test(e.toString())}var lr=g("text,number,password,search,email,tel,url");function ur(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function hr(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function dr(t,e){return document.createElementNS(nr[t],e)}function fr(t){return document.createTextNode(t)}function pr(t){return document.createComment(t)}function mr(t,e,n){t.insertBefore(e,n)}function gr(t,e){t.removeChild(e)}function br(t,e){t.appendChild(e)}function vr(t){return t.parentNode}function wr(t){return t.nextSibling}function yr(t){return t.tagName}function xr(t,e){t.textContent=e}function _r(t,e){t.setAttribute(e,"")}var kr=Object.freeze({createElement:hr,createElementNS:dr,createTextNode:fr,createComment:pr,insertBefore:mr,removeChild:gr,appendChild:br,parentNode:vr,nextSibling:wr,tagName:yr,setTextContent:xr,setStyleScope:_r}),Cr={create:function(t,e){Ar(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Ar(t,!0),Ar(e))},destroy:function(t){Ar(t,!0)}};function Ar(t,e){var n=t.data.ref;if(r(n)){var i=t.context,s=t.componentInstance||t.elm,o=i.$refs;e?Array.isArray(o[n])?v(o[n],s):o[n]===s&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(s)<0&&o[n].push(s):o[n]=[s]:o[n]=s}}var Tr=new wt("",{},[]),Or=["create","activate","update","remove","destroy"];function Er(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&Pr(t,e)||s(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function Pr(t,e){if("input"!==t.tag)return!0;var n,i=r(n=t.data)&&r(n=n.attrs)&&n.type,s=r(n=e.data)&&r(n=n.attrs)&&n.type;return i===s||lr(i)&&lr(s)}function Sr(t,e,n){var i,s,o={};for(i=e;i<=n;++i)s=t[i].key,r(s)&&(o[s]=i);return o}function Rr(t){var e,n,o={},c=t.modules,l=t.nodeOps;for(e=0;e<Or.length;++e)for(o[Or[e]]=[],n=0;n<c.length;++n)r(c[n][Or[e]])&&o[Or[e]].push(c[n][Or[e]]);function u(t){return new wt(l.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function n(){0===--n.listeners&&d(t)}return n.listeners=e,n}function d(t){var e=l.parentNode(t);r(e)&&l.removeChild(e,t)}function f(t,e,n,i,o,a,c){if(r(t.elm)&&r(a)&&(t=a[c]=kt(t)),t.isRootInsert=!o,!p(t,e,n,i)){var u=t.data,h=t.children,d=t.tag;r(d)?(t.elm=t.ns?l.createElementNS(t.ns,d):l.createElement(d,t),_(t),w(t,h,e),r(u)&&x(t,e),v(n,t.elm,i)):s(t.isComment)?(t.elm=l.createComment(t.text),v(n,t.elm,i)):(t.elm=l.createTextNode(t.text),v(n,t.elm,i))}}function p(t,e,n,i){var o=t.data;if(r(o)){var a=r(t.componentInstance)&&o.keepAlive;if(r(o=o.hook)&&r(o=o.init)&&o(t,!1),r(t.componentInstance))return m(t,e),v(n,t.elm,i),s(a)&&b(t,e,n,i),!0}}function m(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,y(t)?(x(t,e),_(t)):(Ar(t),e.push(t))}function b(t,e,n,i){var s,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,r(s=a.data)&&r(s=s.transition)){for(s=0;s<o.activate.length;++s)o.activate[s](Tr,a);e.push(a);break}v(n,t.elm,i)}function v(t,e,n){r(t)&&(r(n)?l.parentNode(n)===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function w(t,e,n){if(Array.isArray(e)){0;for(var i=0;i<e.length;++i)f(e[i],n,t.elm,null,!0,e,i)}else a(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function y(t){while(t.componentInstance)t=t.componentInstance._vnode;return r(t.tag)}function x(t,n){for(var i=0;i<o.create.length;++i)o.create[i](Tr,t);e=t.data.hook,r(e)&&(r(e.create)&&e.create(Tr,t),r(e.insert)&&n.push(t))}function _(t){var e;if(r(e=t.fnScopeId))l.setStyleScope(t.elm,e);else{var n=t;while(n)r(e=n.context)&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent}r(e=Sn)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function k(t,e,n,i,r,s){for(;i<=r;++i)f(n[i],s,t,e,!1,n,i)}function C(t){var e,n,i=t.data;if(r(i))for(r(e=i.hook)&&r(e=e.destroy)&&e(t),e=0;e<o.destroy.length;++e)o.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)C(t.children[n])}function A(t,e,n,i){for(;n<=i;++n){var s=e[n];r(s)&&(r(s.tag)?(T(s),C(s)):d(s.elm))}}function T(t,e){if(r(e)||r(t.data)){var n,i=o.remove.length+1;for(r(e)?e.listeners+=i:e=h(t.elm,i),r(n=t.componentInstance)&&r(n=n._vnode)&&r(n.data)&&T(n,e),n=0;n<o.remove.length;++n)o.remove[n](t,e);r(n=t.data.hook)&&r(n=n.remove)?n(t,e):e()}else d(t.elm)}function O(t,e,n,s,o){var a,c,u,h,d=0,p=0,m=e.length-1,g=e[0],b=e[m],v=n.length-1,w=n[0],y=n[v],x=!o;while(d<=m&&p<=v)i(g)?g=e[++d]:i(b)?b=e[--m]:Er(g,w)?(P(g,w,s,n,p),g=e[++d],w=n[++p]):Er(b,y)?(P(b,y,s,n,v),b=e[--m],y=n[--v]):Er(g,y)?(P(g,y,s,n,v),x&&l.insertBefore(t,g.elm,l.nextSibling(b.elm)),g=e[++d],y=n[--v]):Er(b,w)?(P(b,w,s,n,p),x&&l.insertBefore(t,b.elm,g.elm),b=e[--m],w=n[++p]):(i(a)&&(a=Sr(e,d,m)),c=r(w.key)?a[w.key]:E(w,e,d,m),i(c)?f(w,s,t,g.elm,!1,n,p):(u=e[c],Er(u,w)?(P(u,w,s,n,p),e[c]=void 0,x&&l.insertBefore(t,u.elm,g.elm)):f(w,s,t,g.elm,!1,n,p)),w=n[++p]);d>m?(h=i(n[v+1])?null:n[v+1].elm,k(t,h,n,p,v,s)):p>v&&A(t,e,d,m)}function E(t,e,n,i){for(var s=n;s<i;s++){var o=e[s];if(r(o)&&Er(t,o))return s}}function P(t,e,n,a,c,u){if(t!==e){r(e.elm)&&r(a)&&(e=a[c]=kt(e));var h=e.elm=t.elm;if(s(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?I(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,f=e.data;r(f)&&r(d=f.hook)&&r(d=d.prepatch)&&d(t,e);var p=t.children,m=e.children;if(r(f)&&y(e)){for(d=0;d<o.update.length;++d)o.update[d](t,e);r(d=f.hook)&&r(d=d.update)&&d(t,e)}i(e.text)?r(p)&&r(m)?p!==m&&O(h,p,m,n,u):r(m)?(r(t.text)&&l.setTextContent(h,""),k(h,null,m,0,m.length-1,n)):r(p)?A(h,p,0,p.length-1):r(t.text)&&l.setTextContent(h,""):t.text!==e.text&&l.setTextContent(h,e.text),r(f)&&r(d=f.hook)&&r(d=d.postpatch)&&d(t,e)}}}function S(t,e,n){if(s(n)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var R=g("attrs,class,staticClass,staticStyle,key");function I(t,e,n,i){var o,a=e.tag,c=e.data,l=e.children;if(i=i||c&&c.pre,e.elm=t,s(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(c)&&(r(o=c.hook)&&r(o=o.init)&&o(e,!0),r(o=e.componentInstance)))return m(e,n),!0;if(r(a)){if(r(l))if(t.hasChildNodes())if(r(o=c)&&r(o=o.domProps)&&r(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,d=0;d<l.length;d++){if(!h||!I(h,l[d],n,i)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else w(e,l,n);if(r(c)){var f=!1;for(var p in c)if(!R(p)){f=!0,x(e,n);break}!f&&c["class"]&&ge(c["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!i(e)){var c=!1,h=[];if(i(t))c=!0,f(e,h);else{var d=r(t.nodeType);if(!d&&Er(t,e))P(t,e,h,null,null,a);else{if(d){if(1===t.nodeType&&t.hasAttribute(F)&&(t.removeAttribute(F),n=!0),s(n)&&I(t,e,h))return S(e,h,!0),t;t=u(t)}var p=t.elm,m=l.parentNode(p);if(f(e,h,p._leaveCb?null:m,l.nextSibling(p)),r(e.parent)){var g=e.parent,b=y(e);while(g){for(var v=0;v<o.destroy.length;++v)o.destroy[v](g);if(g.elm=e.elm,b){for(var w=0;w<o.create.length;++w)o.create[w](Tr,g);var x=g.data.hook.insert;if(x.merged)for(var _=1;_<x.fns.length;_++)x.fns[_]()}else Ar(g);g=g.parent}}r(m)?A(m,[t],0,0):r(t.tag)&&C(t)}}return S(e,h,c),e.elm}r(t)&&C(t)}}var Ir={create:Nr,update:Nr,destroy:function(t){Nr(t,Tr)}};function Nr(t,e){(t.data.directives||e.data.directives)&&jr(t,e)}function jr(t,e){var n,i,r,s=t===Tr,o=e===Tr,a=Br(t.data.directives,t.context),c=Br(e.data.directives,e.context),l=[],u=[];for(n in c)i=a[n],r=c[n],i?(r.oldValue=i.value,r.oldArg=i.arg,Vr(r,"update",e,t),r.def&&r.def.componentUpdated&&u.push(r)):(Vr(r,"bind",e,t),r.def&&r.def.inserted&&l.push(r));if(l.length){var h=function(){for(var n=0;n<l.length;n++)Vr(l[n],"inserted",e,t)};s?xe(e,"insert",h):h()}if(u.length&&xe(e,"postpatch",function(){for(var n=0;n<u.length;n++)Vr(u[n],"componentUpdated",e,t)}),!s)for(n in a)c[n]||Vr(a[n],"unbind",t,t,o)}var Mr=Object.create(null);function Br(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++)i=t[n],i.modifiers||(i.modifiers=Mr),r[Dr(i)]=i,i.def=Gt(e.$options,"directives",i.name,!0);return r}function Dr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Vr(t,e,n,i,r){var s=t.def&&t.def[e];if(s)try{s(n.elm,t,n,i,r)}catch(ko){ee(ko,n.context,"directive "+t.name+" "+e+" hook")}}var Fr=[Cr,Ir];function Lr(t,e){var n=e.componentOptions;if((!r(n)||!1!==n.Ctor.options.inheritAttrs)&&(!i(t.data.attrs)||!i(e.data.attrs))){var s,o,a,c=e.elm,l=t.data.attrs||{},u=e.data.attrs||{};for(s in r(u.__ob__)&&(u=e.data.attrs=R({},u)),u)o=u[s],a=l[s],a!==o&&Ur(c,s,o);for(s in(tt||nt)&&u.value!==l.value&&Ur(c,"value",u.value),l)i(u[s])&&(Wi(s)?c.removeAttributeNS(Hi,Ji(s)):Ui(s)||c.removeAttribute(s))}}function Ur(t,e,n){t.tagName.indexOf("-")>-1?$r(t,e,n):qi(e)?Yi(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Ui(e)?t.setAttribute(e,zi(e,n)):Wi(e)?Yi(n)?t.removeAttributeNS(Hi,Ji(e)):t.setAttributeNS(Hi,e,n):$r(t,e,n)}function $r(t,e,n){if(Yi(n))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var zr={create:Lr,update:Lr};function qr(t,e){var n=e.elm,s=e.data,o=t.data;if(!(i(s.staticClass)&&i(s.class)&&(i(o)||i(o.staticClass)&&i(o.class)))){var a=Gi(e),c=n._transitionClasses;r(c)&&(a=Qi(a,Zi(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var Hr,Wr={create:qr,update:qr},Jr="__r",Yr="__c";function Gr(t){if(r(t[Jr])){var e=tt?"change":"input";t[e]=[].concat(t[Jr],t[e]||[]),delete t[Jr]}r(t[Yr])&&(t.change=[].concat(t[Yr],t.change||[]),delete t[Yr])}function Kr(t,e,n){var i=Hr;return function r(){var s=e.apply(null,arguments);null!==s&&Zr(t,r,n,i)}}var Xr=oe&&!(rt&&Number(rt[1])<=53);function Qr(t,e,n,i){if(Xr){var r=Jn,s=e;e=s._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return s.apply(this,arguments)}}Hr.addEventListener(t,e,ot?{capture:n,passive:i}:n)}function Zr(t,e,n,i){(i||Hr).removeEventListener(t,e._wrapper||e,n)}function ts(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Hr=e.elm,Gr(n),ye(n,r,Qr,Zr,Kr,e.context),Hr=void 0}}var es,ns={create:ts,update:ts};function is(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,s,o=e.elm,a=t.data.domProps||{},c=e.data.domProps||{};for(n in r(c.__ob__)&&(c=e.data.domProps=R({},c)),a)n in c||(o[n]="");for(n in c){if(s=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),s===a[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=s;var l=i(s)?"":String(s);rs(o,l)&&(o.value=l)}else if("innerHTML"===n&&rr(o.tagName)&&i(o.innerHTML)){es=es||document.createElement("div"),es.innerHTML="<svg>"+s+"</svg>";var u=es.firstChild;while(o.firstChild)o.removeChild(o.firstChild);while(u.firstChild)o.appendChild(u.firstChild)}else if(s!==a[n])try{o[n]=s}catch(ko){}}}}function rs(t,e){return!t.composing&&("OPTION"===t.tagName||ss(t,e)||os(t,e))}function ss(t,e){var n=!0;try{n=document.activeElement!==t}catch(ko){}return n&&t.value!==e}function os(t,e){var n=t.value,i=t._vModifiers;if(r(i)){if(i.number)return m(n)!==m(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}var as={create:is,update:is},cs=x(function(t){var e={},n=/;(?![^(]*\))/g,i=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e});function ls(t){var e=us(t.style);return t.staticStyle?R(t.staticStyle,e):e}function us(t){return Array.isArray(t)?I(t):"string"===typeof t?cs(t):t}function hs(t,e){var n,i={};if(e){var r=t;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(n=ls(r.data))&&R(i,n)}(n=ls(t.data))&&R(i,n);var s=t;while(s=s.parent)s.data&&(n=ls(s.data))&&R(i,n);return i}var ds,fs=/^--/,ps=/\s*!important$/,ms=function(t,e,n){if(fs.test(e))t.style.setProperty(e,n);else if(ps.test(n))t.style.setProperty(T(e),n.replace(ps,""),"important");else{var i=bs(e);if(Array.isArray(n))for(var r=0,s=n.length;r<s;r++)t.style[i]=n[r];else t.style[i]=n}},gs=["Webkit","Moz","ms"],bs=x(function(t){if(ds=ds||document.createElement("div").style,t=k(t),"filter"!==t&&t in ds)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<gs.length;n++){var i=gs[n]+e;if(i in ds)return i}});function vs(t,e){var n=e.data,s=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(s.staticStyle)&&i(s.style))){var o,a,c=e.elm,l=s.staticStyle,u=s.normalizedStyle||s.style||{},h=l||u,d=us(e.data.style)||{};e.data.normalizedStyle=r(d.__ob__)?R({},d):d;var f=hs(e,!0);for(a in h)i(f[a])&&ms(c,a,"");for(a in f)o=f[a],o!==h[a]&&ms(c,a,null==o?"":o)}}var ws={create:vs,update:vs},ys=/\s+/;function xs(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ys).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function _s(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ys).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";while(n.indexOf(i)>=0)n=n.replace(i," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function ks(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&R(e,Cs(t.name||"v")),R(e,t),e}return"string"===typeof t?Cs(t):void 0}}var Cs=x(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),As=K&&!et,Ts="transition",Os="animation",Es="transition",Ps="transitionend",Ss="animation",Rs="animationend";As&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Es="WebkitTransition",Ps="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ss="WebkitAnimation",Rs="webkitAnimationEnd"));var Is=K?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Ns(t){Is(function(){Is(t)})}function js(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),xs(t,e))}function Ms(t,e){t._transitionClasses&&v(t._transitionClasses,e),_s(t,e)}function Bs(t,e,n){var i=Vs(t,e),r=i.type,s=i.timeout,o=i.propCount;if(!r)return n();var a=r===Ts?Ps:Rs,c=0,l=function(){t.removeEventListener(a,u),n()},u=function(e){e.target===t&&++c>=o&&l()};setTimeout(function(){c<o&&l()},s+1),t.addEventListener(a,u)}var Ds=/\b(transform|all)(,|$)/;function Vs(t,e){var n,i=window.getComputedStyle(t),r=(i[Es+"Delay"]||"").split(", "),s=(i[Es+"Duration"]||"").split(", "),o=Fs(r,s),a=(i[Ss+"Delay"]||"").split(", "),c=(i[Ss+"Duration"]||"").split(", "),l=Fs(a,c),u=0,h=0;e===Ts?o>0&&(n=Ts,u=o,h=s.length):e===Os?l>0&&(n=Os,u=l,h=c.length):(u=Math.max(o,l),n=u>0?o>l?Ts:Os:null,h=n?n===Ts?s.length:c.length:0);var d=n===Ts&&Ds.test(i[Es+"Property"]);return{type:n,timeout:u,propCount:h,hasTransform:d}}function Fs(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return Ls(e)+Ls(t[n])}))}function Ls(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Us(t,e){var n=t.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var s=ks(t.data.transition);if(!i(s)&&!r(n._enterCb)&&1===n.nodeType){var o=s.css,a=s.type,l=s.enterClass,u=s.enterToClass,h=s.enterActiveClass,d=s.appearClass,f=s.appearToClass,p=s.appearActiveClass,g=s.beforeEnter,b=s.enter,v=s.afterEnter,w=s.enterCancelled,y=s.beforeAppear,x=s.appear,_=s.afterAppear,k=s.appearCancelled,C=s.duration,A=Sn,T=Sn.$vnode;while(T&&T.parent)A=T.context,T=T.parent;var O=!A._isMounted||!t.isRootInsert;if(!O||x||""===x){var E=O&&d?d:l,P=O&&p?p:h,S=O&&f?f:u,R=O&&y||g,I=O&&"function"===typeof x?x:b,N=O&&_||v,j=O&&k||w,M=m(c(C)?C.enter:C);0;var B=!1!==o&&!et,D=qs(I),F=n._enterCb=V(function(){B&&(Ms(n,S),Ms(n,P)),F.cancelled?(B&&Ms(n,E),j&&j(n)):N&&N(n),n._enterCb=null});t.data.show||xe(t,"insert",function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),I&&I(n,F)}),R&&R(n),B&&(js(n,E),js(n,P),Ns(function(){Ms(n,E),F.cancelled||(js(n,S),D||(zs(M)?setTimeout(F,M):Bs(n,a,F)))})),t.data.show&&(e&&e(),I&&I(n,F)),B||D||F()}}}function $s(t,e){var n=t.elm;r(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var s=ks(t.data.transition);if(i(s)||1!==n.nodeType)return e();if(!r(n._leaveCb)){var o=s.css,a=s.type,l=s.leaveClass,u=s.leaveToClass,h=s.leaveActiveClass,d=s.beforeLeave,f=s.leave,p=s.afterLeave,g=s.leaveCancelled,b=s.delayLeave,v=s.duration,w=!1!==o&&!et,y=qs(f),x=m(c(v)?v.leave:v);0;var _=n._leaveCb=V(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),w&&(Ms(n,u),Ms(n,h)),_.cancelled?(w&&Ms(n,l),g&&g(n)):(e(),p&&p(n)),n._leaveCb=null});b?b(k):k()}function k(){_.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),w&&(js(n,l),js(n,h),Ns(function(){Ms(n,l),_.cancelled||(js(n,u),y||(zs(x)?setTimeout(_,x):Bs(n,a,_)))})),f&&f(n,_),w||y||_())}}function zs(t){return"number"===typeof t&&!isNaN(t)}function qs(t){if(i(t))return!1;var e=t.fns;return r(e)?qs(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Hs(t,e){!0!==e.data.show&&Us(e)}var Ws=K?{create:Hs,activate:Hs,remove:function(t,e){!0!==t.data.show?$s(t,e):e()}}:{},Js=[zr,Wr,ns,as,ws,Ws],Ys=Js.concat(Fr),Gs=Rr({nodeOps:kr,modules:Ys});et&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&io(t,"input")});var Ks={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?xe(n,"postpatch",function(){Ks.componentUpdated(t,e,n)}):Xs(t,e,n.context),t._vOptions=[].map.call(t.options,to)):("textarea"===n.tag||lr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",eo),t.addEventListener("compositionend",no),t.addEventListener("change",no),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Xs(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,to);if(r.some(function(t,e){return!B(t,i[e])})){var s=t.multiple?e.value.some(function(t){return Zs(t,r)}):e.value!==e.oldValue&&Zs(e.value,r);s&&io(t,"change")}}}};function Xs(t,e,n){Qs(t,e,n),(tt||nt)&&setTimeout(function(){Qs(t,e,n)},0)}function Qs(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var s,o,a=0,c=t.options.length;a<c;a++)if(o=t.options[a],r)s=D(i,to(o))>-1,o.selected!==s&&(o.selected=s);else if(B(to(o),i))return void(t.selectedIndex!==a&&(t.selectedIndex=a));r||(t.selectedIndex=-1)}}function Zs(t,e){return e.every(function(e){return!B(e,t)})}function to(t){return"_value"in t?t._value:t.value}function eo(t){t.target.composing=!0}function no(t){t.target.composing&&(t.target.composing=!1,io(t.target,"input"))}function io(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function ro(t){return!t.componentInstance||t.data&&t.data.transition?t:ro(t.componentInstance._vnode)}var so={bind:function(t,e,n){var i=e.value;n=ro(n);var r=n.data&&n.data.transition,s=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,Us(n,function(){t.style.display=s})):t.style.display=i?s:"none"},update:function(t,e,n){var i=e.value,r=e.oldValue;if(!i!==!r){n=ro(n);var s=n.data&&n.data.transition;s?(n.data.show=!0,i?Us(n,function(){t.style.display=t.__vOriginalDisplay}):$s(n,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}},oo={model:Ks,show:so},ao={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function co(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?co(kn(e.children)):t}function lo(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var s in r)e[k(s)]=r[s];return e}function uo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function ho(t){while(t=t.parent)if(t.data.transition)return!0}function fo(t,e){return e.key===t.key&&e.tag===t.tag}var po=function(t){return t.tag||_n(t)},mo=function(t){return"show"===t.name},go={name:"transition",props:ao,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(po),n.length)){0;var i=this.mode;0;var r=n[0];if(ho(this.$vnode))return r;var s=co(r);if(!s)return r;if(this._leaving)return uo(t,r);var o="__transition-"+this._uid+"-";s.key=null==s.key?s.isComment?o+"comment":o+s.tag:a(s.key)?0===String(s.key).indexOf(o)?s.key:o+s.key:s.key;var c=(s.data||(s.data={})).transition=lo(this),l=this._vnode,u=co(l);if(s.data.directives&&s.data.directives.some(mo)&&(s.data.show=!0),u&&u.data&&!fo(s,u)&&!_n(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=R({},c);if("out-in"===i)return this._leaving=!0,xe(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),uo(t,r);if("in-out"===i){if(_n(s))return l;var d,f=function(){d()};xe(c,"afterEnter",f),xe(c,"enterCancelled",f),xe(h,"delayLeave",function(t){d=t})}}return r}}},bo=R({tag:String,moveClass:String},ao);delete bo.mode;var vo={props:bo,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=Rn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],s=this.children=[],o=lo(this),a=0;a<r.length;a++){var c=r[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))s.push(c),n[c.key]=c,(c.data||(c.data={})).transition=o;else;}if(i){for(var l=[],u=[],h=0;h<i.length;h++){var d=i[h];d.data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?l.push(d):u.push(d)}this.kept=t(e,null,l),this.removed=u}return t(e,null,s)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(wo),t.forEach(yo),t.forEach(xo),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,i=n.style;js(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Ps,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(Ps,t),n._moveCb=null,Ms(n,e))})}}))},methods:{hasMove:function(t,e){if(!As)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){_s(n,t)}),xs(n,e),n.style.display="none",this.$el.appendChild(n);var i=Vs(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function wo(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function yo(t){t.data.newPos=t.elm.getBoundingClientRect()}function xo(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var s=t.elm.style;s.transform=s.WebkitTransform="translate("+i+"px,"+r+"px)",s.transitionDuration="0s"}}var _o={Transition:go,TransitionGroup:vo};ki.config.mustUseProp=Li,ki.config.isReservedTag=sr,ki.config.isReservedAttr=Vi,ki.config.getTagNamespace=or,ki.config.isUnknownElement=cr,R(ki.options.directives,oo),R(ki.options.components,_o),ki.prototype.__patch__=K?Gs:N,ki.prototype.$mount=function(t,e){return t=t&&K?ur(t):void 0,jn(this,t,e)},K&&setTimeout(function(){$.devtools&&lt&&lt.emit("init",ki)},0),e["a"]=ki}).call(this,n("c8ba"))},"2b10":function(t,e,n){"use strict";var i=n("109b"),r=n("35ad"),s=n("c3df"),o=n("5b14");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function a(t){return l(l(t)).replace(/(<span style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/>(\s*[\r\n]\s*)</g,"><")}function c(t){t.querySelectorAll("span[style*=spacerun]").forEach(t=>{const e=t.childNodes[0].data.length;t.innerHTML=Array(e+1).join("  ").substr(0,e)})}function l(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>{return 1===e.length?" ":Array(e.length+1).join("  ").substr(0,e.length)})}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function u(t){const e=new DOMParser;t=t.replace(/<!--\[if gte vml 1]>/g,"");const n=a(f(t)),i=e.parseFromString(n,"text/html");c(i);const r=i.body.innerHTML,s=h(i),o=d(i);return{body:s,bodyString:r,styles:o.styles,stylesString:o.stylesString}}function h(t){const e=new s["a"]({blockFiller:o["d"]}),n=t.createDocumentFragment(),i=t.body.childNodes;while(i.length>0)n.appendChild(i[0]);return e.domToView(n)}function d(t){const e=[],n=[],i=Array.from(t.getElementsByTagName("style"));for(const r of i)r.sheet&&r.sheet.cssRules&&r.sheet.cssRules.length&&(e.push(r.sheet),n.push(r.innerHTML));return{styles:e,stylesString:n.join(" ")}}function f(t){const e=/<\/body>(.*?)(<\/html>|$)/,n=t.match(e);return n&&n[1]&&(t=t.slice(0,n.index)+t.slice(n.index).replace(n[1],"")),t}var p=n("2c4d"),m=n("e755"),g=n("bae8");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function b(t,e){if(!t.childCount)return;const n=new g["a"],i=v(t,n);if(!i.length)return;let r=null;i.forEach((t,s)=>{if(!r||C(i[s-1],t)){const i=w(t,e);r=y(i,t.element,n)}const o=x(t.element,n);n.appendChild(o,r)})}function v(t,e){const n=e.createRangeIn(t),i=new m["a"]({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),r=[];for(const s of n)if("elementStart"===s.type&&i.match(s.item)){const t=_(s.item);r.push({element:s.item,id:t.id,order:t.order,indent:t.indent})}return r}function w(t,e){const n=new RegExp(`@list l${t.id}:level${t.indent}\\s*({[^}]*)`,"gi"),i=/mso-level-number-format:([^;]*);/gi,r=n.exec(e);let s="decimal";if(r&&r[1]){const t=i.exec(r[1]);t&&t[1]&&(s=t[1].trim())}return{type:"bullet"!==s&&"image"!==s?"ol":"ul",style:s}}function y(t,e,n){const i=new p["a"](t.type),r=e.parent.getChildIndex(e);return n.insertChild(r,i,e.parent),i}function x(t,e){return k(t,e),e.rename("li",t)}function _(t){const e={},n=t.getStyle("mso-list");return n&&(e.id=parseInt(n.match(/(^|\s+)l(\d+)/i)[2]),e.order=parseInt(n.match(/\s*lfo(\d+)/i)[1]),e.indent=parseInt(n.match(/\s*level(\d+)/i)[1])),e}function k(t,e){const n=new m["a"]({name:"span",styles:{"mso-list":"Ignore"}}),i=e.createRangeIn(t);for(const r of i)"elementStart"===r.type&&n.match(r.item)&&e.remove(r.item)}function C(t,e){if(t.id!==e.id)return!0;const n=e.element.previousSibling;return!n||!n.is("ul")&&!n.is("ol")}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function A(t,e){if(!t.childCount)return;const n=new g["a"],i=O(t,n);E(i,t,n),P(t,n);const r=S(t,n);r.length&&I(r,R(e),n)}function T(t){return btoa(t.match(/\w{2}/g).map(t=>{return String.fromCharCode(parseInt(t,16))}).join(""))}function O(t,e){const n=e.createRangeIn(t),i=new m["a"]({name:/v:(.+)/}),r=[];for(const s of n){const t=s.item,e=t.previousSibling&&t.previousSibling.name||null;i.match(t)&&t.getAttribute("o:gfxdata")&&"v:shapetype"!==e&&r.push(s.item.getAttribute("id"))}return r}function E(t,e,n){const i=n.createRangeIn(e),r=new m["a"]({name:"img"}),s=[];for(const o of i)if(r.match(o.item)){const e=o.item,n=e.getAttribute("v:shapes")?e.getAttribute("v:shapes").split(" "):[];n.length&&n.every(e=>t.indexOf(e)>-1)?s.push(e):e.getAttribute("src")||s.push(e)}for(const o of s)n.remove(o)}function P(t,e){const n=e.createRangeIn(t),i=new m["a"]({name:/v:(.+)/}),r=[];for(const s of n)i.match(s.item)&&r.push(s.item);for(const s of r)e.remove(s)}function S(t,e){const n=e.createRangeIn(t),i=new m["a"]({name:"img"}),r=[];for(const s of n)i.match(s.item)&&s.item.getAttribute("src").startsWith("file://")&&r.push(s.item);return r}function R(t){if(!t)return[];const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),i=t.match(n),r=[];if(i)for(const s of i){let t=!1;s.includes("\\pngblip")?t="image/png":s.includes("\\jpegblip")&&(t="image/jpeg"),t&&r.push({hex:s.replace(e,"").replace(/[^\da-fA-F]/g,""),type:t})}return r}function I(t,e,n){if(t.length===e.length)for(let i=0;i<t.length;i++){const r=`data:${e[i].type};base64,${T(e[i].hex)}`;n.setAttribute("src",r,t[i])}}n.d(e,"a",function(){return N});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class N extends i["a"]{static get pluginName(){return"PasteFromOffice"}init(){const t=this.editor;this.listenTo(t.plugins.get(r["a"]),"inputTransformation",(t,e)=>{const n=e.dataTransfer.getData("text/html");!0!==e.pasteFromOfficeProcessed&&j(n)&&(e.content=this._normalizeWordInput(n,e.dataTransfer),e.pasteFromOfficeProcessed=!0)},{priority:"high"})}_normalizeWordInput(t,e){const{body:n,stylesString:i}=u(t);return b(n,i),A(n,e.getData("text/rtf")),n}}function j(t){return!(!t||!t.match(/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/gi)&&!t.match(/xmlns:o="urn:schemas-microsoft-com/gi))}},"2bd2":function(t,e,n){"use strict";class i{static get["DESCRIPTOR_NAME"](){throw new Error("Must be implemented in child class!")}static get["DESCRIPTOR"](){throw new Error("Must be implemented in child class!")}}t["exports"]=i},"2beb":function(t,e,n){"use strict";var i=n("da0d"),r=n("644e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s{constructor(){this._stack=[]}add(t,e){const n=this._stack,i=n[0];this._insertDescriptor(t);const r=n[0];i===r||o(i,r)||this.fire("change:top",{oldDescriptor:i,newDescriptor:r,writer:e})}remove(t,e){const n=this._stack,i=n[0];this._removeDescriptor(t);const r=n[0];i===r||o(i,r)||this.fire("change:top",{oldDescriptor:i,newDescriptor:r,writer:e})}_insertDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t.id);if(o(t,e[n]))return;n>-1&&e.splice(n,1);let i=0;while(e[i]&&a(e[i],t))i++;e.splice(i,0,t)}_removeDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t);n>-1&&e.splice(n,1)}}function o(t,e){return t&&e&&t.priority==e.priority&&c(t.classes)==c(e.classes)}function a(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&c(t.classes)>c(e.classes)}function c(t){return Array.isArray(t)?t.sort().join(","):t}Object(r["a"])(s,i["c"]);var l=n("631f"),u=n("59a6"),h='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';n.d(e,"a",function(){return f}),n.d(e,"d",function(){return p}),n.d(e,"e",function(){return m}),n.d(e,"c",function(){return v}),n.d(e,"f",function(){return w}),n.d(e,"b",function(){return y});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const d="ck-widget",f="ck-widget_selected";function p(t){return!!t.is("element")&&!!t.getCustomProperty("widget")}function m(t,e,n={}){return u["a"].isEdge||e.setAttribute("contenteditable","false",t),e.addClass(d,t),e.setCustomProperty("widget",!0,t),t.getFillerOffset=x,n.label&&b(t,n.label,e),n.hasSelectionHandler&&_(t,e),g(t,e,(t,e,n)=>n.addClass(i(e.classes),t),(t,e,n)=>n.removeClass(i(e.classes),t)),t;function i(t){return Array.isArray(t)?t:[t]}}function g(t,e,n,i){const r=new s;r.on("change:top",(e,r)=>{r.oldDescriptor&&i(t,r.oldDescriptor,r.writer),r.newDescriptor&&n(t,r.newDescriptor,r.writer)}),e.setCustomProperty("addHighlight",(t,e,n)=>r.add(e,n),t),e.setCustomProperty("removeHighlight",(t,e,n)=>r.remove(e,n),t)}function b(t,e,n){n.setCustomProperty("widgetLabel",e,t)}function v(t){const e=t.getCustomProperty("widgetLabel");return e?"function"==typeof e?e():e:""}function w(t,e){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),u["a"].isEdge||(e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",(n,i,r)=>{e.setAttribute("contenteditable",r?"false":"true",t)})),t.on("change:isFocused",(n,i,r)=>{r?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t)}),t}function y(t,e){const n=t.getSelectedElement();if(n&&e.schema.isBlock(n))return e.createPositionAfter(n);const i=t.getSelectedBlocks().next().value;if(i){if(i.isEmpty)return e.createPositionAt(i,0);const n=e.createPositionAfter(i);return t.focus.isTouching(n)?n:e.createPositionBefore(i)}return t.focus}function x(){return null}function _(t,e){const n=e.createUIElement("div",{class:"ck ck-widget__selection-handler"},function(t){const e=this.toDomElement(t),n=new l["a"];return n.set("content",h),n.render(),e.appendChild(n.element),e});e.insert(e.createPositionAt(t,0),n),e.addClass(["ck-widget_with-selection-handler"],t)}},"2c4c":function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(t,e){let n=e.parent;while(n){if(n.name===t)return n;n=n.parent}}function r(t,e,n,i,r=1){e>r?i.setAttribute(t,e,n):i.removeAttribute(t,n)}function s(t,e,n={}){const i=t.createElement("tableCell",n);t.insertElement("paragraph",i),t.insert(i,e)}n.d(e,"b",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"a",function(){return s})},"2c4d":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("ff8c"),r=n("b199"),s=n("44f2"),o=n("799c"),a=n("e907"),c=n("e755"),l=n("e8b2");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class u extends i["a"]{constructor(t,e,n){if(super(),this.name=t,this._attrs=h(e),this._children=[],n&&this._insertChild(0,n),this._classes=new Set,this._attrs.has("class")){const t=this._attrs.get("class");f(this._classes,t),this._attrs.delete("class")}this._styles=new Map,this._attrs.has("style")&&(d(this._styles,this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(t,e=null){return e?"element"==t&&e==this.name:"element"==t||t==this.name||super.is(t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.size>0&&(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.size>0&&(yield["style",this.getAttribute("style")])}getAttribute(t){if("class"==t)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"!=t)return this._attrs.get(t);if(this._styles.size>0){let t="";for(const[e,n]of this._styles)t+=`${e}:${n};`;return t}}hasAttribute(t){return"class"==t?this._classes.size>0:"style"==t?this._styles.size>0:this._attrs.has(t)}isSimilar(t){if(!(t instanceof u))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const[e,n]of this._styles)if(!t._styles.has(e)||t._styles.get(e)!==n)return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.get(t)}getStyleNames(){return this._styles.keys()}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new c["a"](...t);let n=this.parent;while(n){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=Array.from(this._styles).map(t=>`${t[0]}:${t[1]}`).sort().join(";"),n=Array.from(this._attrs).map(t=>`${t[0]}="${t[1]}"`).sort().join(" ");return this.name+(""==t?"":` class="${t}"`)+(""==e?"":` style="${e}"`)+(""==n?"":` ${n}`)}_clone(t=!1){const e=[];if(t)for(const i of this.getChildren())e.push(i._clone(t));const n=new this.constructor(this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles=new Map(this._styles),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=p(e);for(const r of i)null!==r.parent&&r._remove(),r.parent=this,this._children.splice(t,0,r),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){e=String(e),this._fireChange("attributes",this),"class"==t?f(this._classes,e):"style"==t?d(this._styles,e):this._attrs.set(t,e)}_removeAttribute(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?this._styles.size>0&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this),t=Array.isArray(t)?t:[t],t.forEach(t=>this._classes.add(t))}_removeClass(t){this._fireChange("attributes",this),t=Array.isArray(t)?t:[t],t.forEach(t=>this._classes.delete(t))}_setStyle(t,e){if(this._fireChange("attributes",this),Object(l["a"])(t)){const e=Object.keys(t);for(const n of e)this._styles.set(n,t[n])}else this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this),t=Array.isArray(t)?t:[t],t.forEach(t=>this._styles.delete(t))}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function h(t){t=Object(l["a"])(t)?Object(o["a"])(t):new Map(t);for(const[e,n]of t)null===n?t.delete(e):"string"!=typeof n&&t.set(e,String(n));return t}function d(t,e){let n=null,i=0,r=0,s=null;if(t.clear(),""!==e){";"!=e.charAt(e.length-1)&&(e+=";");for(let o=0;o<e.length;o++){const a=e.charAt(o);if(null===n)switch(a){case":":s||(s=e.substr(i,o-i),r=o+1);break;case'"':case"'":n=a;break;case";":{const n=e.substr(r,o-r);s&&t.set(s.trim(),n.trim()),s=null,i=o+1;break}}else a===n&&(n=null)}}}function f(t,e){const n=e.split(/\s+/);t.clear(),n.forEach(e=>t.add(e))}function p(t){return"string"==typeof t?[new r["a"](t)]:(Object(a["a"])(t)||(t=[t]),Array.from(t).map(t=>{return"string"==typeof t?new r["a"](t):t instanceof s["a"]?new r["a"](t.data):t}))}},"2d79":function(t,e,n){"use strict";var i=n("109b"),r=n("cb3e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const s="bold";class o extends i["a"]{init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:s}),t.model.schema.setAttributeProperties(s,{isFormatting:!0}),t.conversion.attributeToElement({model:s,view:"strong",upcastAlso:["b",{styles:{"font-weight":"bold"}}]}),t.commands.add(s,new r["a"](t,s)),t.keystrokes.set("CTRL+B",s)}}var a=n("3707"),c='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const l="bold";class u extends i["a"]{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(l,n=>{const i=t.commands.get(l),r=new a["a"](n);return r.set({label:e("Bold"),icon:c,keystroke:"CTRL+B",tooltip:!0}),r.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(r,"execute",()=>t.execute(l)),r})}}n.d(e,"a",function(){return h});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class h extends i["a"]{static get requires(){return[o,u]}static get pluginName(){return"Bold"}}},"2d96":function(t,e){function n(){var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function e(e,n,i){var r;return i=i||{},r="string"===typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),i.addSuffix?i.comparison>0?"in "+r:r+" ago":r}return{localize:e}}t.exports=n},"2d9a":function(t,e,n){"use strict";var i=e,r=i.isAbsolute=function(t){return/^(?:\/|\w+:)/.test(t)},s=i.normalize=function(t){t=t.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var e=t.split("/"),n=r(t),i="";n&&(i=e.shift()+"/");for(var s=0;s<e.length;)".."===e[s]?s>0&&".."!==e[s-1]?e.splice(--s,2):n?e.splice(s,1):++s:"."===e[s]?e.splice(s,1):++s;return i+e.join("/")};i.resolve=function(t,e,n){return n||(e=s(e)),r(e)?e:(n||(t=s(t)),(t=t.replace(/(?:\/|^)[^\/]+$/,"")).length?s(t+"/"+e):e)}},"2f74":function(t,e,n){"use strict";function i(){return!1}e["a"]=i},"2fb8":function(t,e,n){"use strict";t.exports=n("071f")},"2fd7":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("da3c");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function r(t,e,n){n=n||function(t,e){return t===e};const i=t.length,s=e.length;if(i>200||s>200||i+s>300)return r.fastDiff(t,e,n,!0);let o,a;if(s<i){const n=t;t=e,e=n,o="delete",a="insert"}else o="insert",a="delete";const c=t.length,l=e.length,u=l-c,h={},d={};function f(i){const r=(void 0!==d[i-1]?d[i-1]:-1)+1,s=void 0!==d[i+1]?d[i+1]:-1,u=r>s?-1:1;h[i+u]&&(h[i]=h[i+u].slice(0)),h[i]||(h[i]=[]),h[i].push(r>s?o:a);let f=Math.max(r,s),p=f-i;while(p<c&&f<l&&n(t[p],e[f]))p++,f++,h[i].push("equal");return f}let p,m=0;do{for(p=-m;p<u;p++)d[p]=f(p);for(p=u+m;p>u;p--)d[p]=f(p);d[u]=f(u),m++}while(d[u]!==l);return h[u].slice(1)}r.fastDiff=i["a"]},"305b":function(t,e,n){"use strict";function i(t,e){var n=new Array(arguments.length-1),i=0,r=2,s=!0;while(r<arguments.length)n[i++]=arguments[r++];return new Promise(function(r,o){n[i]=function(t){if(s)if(s=!1,t)o(t);else{var e=new Array(arguments.length-1),n=0;while(n<e.length)e[n++]=arguments[n];r.apply(null,e)}};try{t.apply(e||null,n)}catch(a){s&&(s=!1,o(a))}})}t.exports=i},"30b7":function(t,e,n){},"31af":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("652f");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r extends i["a"]{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute(this.attributeKey),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document,i=n.selection,r=t.value;e.change(t=>{if(i.isCollapsed)r?t.setSelectionAttribute(this.attributeKey,r):t.removeSelectionAttribute(this.attributeKey);else{const n=e.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const e of n)r?t.setAttribute(this.attributeKey,r,e):t.removeAttribute(this.attributeKey,e)}})}}},"32e8":function(t,e,n){"use strict";var i=n("12a1");function r(t,e){return Object(i["a"])(t,e)}e["a"]=r},"32ea":function(t,e,n){"use strict";var i=n("109b"),r=n("d82e"),s=n("f2ea"),o=n("d4e1"),a=n("67b9"),c=n("644e"),l=n("cd4b");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class u{constructor(){const t=new window.FileReader;this._reader=t,this.set("loaded",0),t.onprogress=(t=>{this.loaded=t.loaded})}get error(){return this._reader.error}read(t){const e=this._reader;return this.total=t.size,new Promise((n,i)=>{e.onload=(()=>{n(e.result)}),e.onerror=(()=>{i("error")}),e.onabort=(()=>{i("aborted")}),this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}Object(c["a"])(u,o["a"]);var h=n("ed4a");n.d(e,"a",function(){return d});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class d extends i["a"]{static get pluginName(){return"FileRepository"}static get requires(){return[r["a"]]}init(){this.loaders=new a["a"],this.loaders.on("add",()=>this._updatePendingAction()),this.loaders.on("remove",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>{return e?t/e*100:0})}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return l["a"].error("filerepository-no-upload-adapter: Upload adapter is not defined."),null;const e=new f(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then(t=>{this._loadersMap.set(t,e)}),e.file.catch(()=>{}),e.on("change:uploaded",()=>{let t=0;for(const e of this.loaders)t+=e.uploaded;this.uploaded=t}),e.on("change:uploadTotal",()=>{let t=0;for(const e of this.loaders)e.uploadTotal&&(t+=e.uploadTotal);this.uploadTotal=t}),e}destroyLoader(t){const e=t instanceof f?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach((t,n)=>{t===e&&this._loadersMap.delete(n)})}_updatePendingAction(){const t=this.editor.plugins.get(r["a"]);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,n=t=>`${e("Upload in progress")} ${parseInt(t)}%.`;this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}Object(c["a"])(d,o["a"]);class f{constructor(t,e){this.id=Object(h["a"])(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new u,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>{return e?t/e*100:0}),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null):Promise.resolve(null)}read(){if("idle"!=this.status)throw new s["b"]("filerepository-read-wrong-status: You cannot call read if the status is different than idle.");return this.status="reading",this._filePromiseWrapper.promise.then(t=>this._reader.read(t)).then(t=>{return this.status="idle",t}).catch(t=>{if("aborted"===t)throw this.status="aborted","aborted";throw this.status="error",this._reader.error?this._reader.error:t})}upload(){if("idle"!=this.status)throw new s["b"]("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.");return this.status="uploading",this._filePromiseWrapper.promise.then(()=>this._adapter.upload()).then(t=>{return this.uploadResponse=t,this.status="idle",t}).catch(t=>{if("aborted"===this.status)throw"aborted";throw this.status="error",t})}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==t?this._reader.abort():"uploading"==t&&this._adapter.abort&&this._adapter.abort():this._filePromiseWrapper.rejecter("aborted"),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.data=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const e={};return e.promise=new Promise((n,i)=>{e.resolver=n,e.rejecter=i,e.isFulfilled=!1,t.then(t=>{e.isFulfilled=!0,n(t)}).catch(t=>{e.isFulfilled=!0,i(t)})}),e}}Object(c["a"])(f,o["a"])},3493:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("f2ea"),r=n("d4e1"),s=n("67b9"),o=n("644e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class a extends s["a"]{constructor(t){super({idProperty:"viewUid"}),this.on("add",(t,e,n)=>{e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[n])}),this.on("remove",(t,e)=>{e.element&&this._parentElement&&e.element.remove()}),this.locale=t,this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t}delegate(...t){if(!t.length||!c(t))throw new i["b"]("ui-viewcollection-delegate-wrong-events: All event names must be strings.");return{to:e=>{for(const n of this)for(const i of t)n.delegate(i).to(e);this.on("add",(n,i)=>{for(const r of t)i.delegate(r).to(e)}),this.on("remove",(n,i)=>{for(const r of t)i.stopDelegating(r,e)})}}}}function c(t){return t.every(t=>"string"==typeof t)}Object(o["a"])(s["a"],r["a"])},"34b2":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("b286"),r=n("f2ea"),s=n("e47a");n("e800");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o{constructor(t){this.parent=null,this._attrs=Object(i["a"])(t)}get index(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new r["b"]("model-node-not-found-in-parent: The node's parent does not contain this node.");return t}get startOffset(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new r["b"]("model-node-not-found-in-parent: The node's parent does not contain this node.");return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;while(t.parent)t=t.parent;return t}get document(){return this.root==this?null:this.root.document||null}getPath(){const t=[];let e=this;while(e.parent)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;while(n)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let r=0;while(n[r]==i[r]&&n[r])r++;return 0===r?null:n[r-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=Object(s["a"])(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((t,e)=>{return t[e[0]]=e[1],t},{})),t}_clone(){return new o(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=Object(i["a"])(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}is(t){return"node"==t}}},"34eb":function(t,e,n){(function(i){function r(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function s(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(s=r))}),t.splice(s,0,i)}}function o(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(n){}}function c(){var t;try{t=e.storage.debug}catch(n){}return!t&&"undefined"!==typeof i&&"env"in i&&(t=Object({NODE_ENV:"production",BASE_URL:""}).DEBUG),t}function l(){try{return window.localStorage}catch(t){}}e=t.exports=n("96fe"),e.log=o,e.formatArgs=s,e.save=a,e.load=c,e.useColors=r,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(c())}).call(this,n("4362"))},"356b":function(t,e,n){},"35ad":function(t,e,n){"use strict";var i=n("109b"),r=n("51d0"),s=n("d21d");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o{constructor(t){this.files=a(t),this._native=t}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}}function a(t){const e=t.files?Array.from(t.files):[],n=t.items?Array.from(t.items):[];return e.length?e:n.filter(t=>"file"===t.kind).map(t=>t.getAsFile())}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class c extends r["a"]{constructor(t){super(t);const e=this.document;function n(t,n){n.preventDefault();const i=n.dropRange?[n.dropRange]:Array.from(e.selection.getRanges()),r=new s["a"](e,"clipboardInput");e.fire(r,{dataTransfer:n.dataTransfer,targetRanges:i}),r.stop.called&&n.stopPropagation()}this.domEventType=["paste","copy","cut","drop","dragover"],this.listenTo(e,"paste",n,{priority:"low"}),this.listenTo(e,"drop",n,{priority:"low"})}onDomEvent(t){const e={dataTransfer:new o(t.clipboardData?t.clipboardData:t.dataTransfer)};"drop"==t.type&&(e.dropRange=l(this.view,t)),this.fire(t.type,t,e)}}function l(t,e){const n=e.target.ownerDocument,i=e.clientX,r=e.clientY;let s;return n.caretRangeFromPoint&&n.caretRangeFromPoint(i,r)?s=n.caretRangeFromPoint(i,r):e.rangeParent&&(s=n.createRange(),s.setStart(e.rangeParent,e.rangeOffset),s.collapse(!0)),s?t.domConverter.domRangeToView(s):t.document.selection.getFirstRange()}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function u(t){return t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),t.indexOf("</p><p>")>-1&&(t=`<p>${t}</p>`),t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function h(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>{return 1==e.length?" ":e})}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const d=["figcaption","li"];function f(t){let e="";if(t.is("text")||t.is("textProxy"))e=t.data;else if(t.is("img")&&t.hasAttribute("alt"))e=t.getAttribute("alt");else{let n=null;for(const i of t.getChildren()){const t=f(i);n&&(n.is("containerElement")||i.is("containerElement"))&&(d.includes(n.name)||d.includes(i.name)?e+="\n":e+="\n\n"),e+=t,n=i}}return e}var p=n("1339");n.d(e,"a",function(){return m});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class m extends i["a"]{static get pluginName(){return"Clipboard"}init(){const t=this.editor,e=t.model.document,n=t.editing.view,i=n.document;function r(n,r){const s=r.dataTransfer;r.preventDefault();const o=t.data.toView(t.model.getSelectedContent(e.selection));i.fire("clipboardOutput",{dataTransfer:s,content:o,method:n.name})}this._htmlDataProcessor=new p["a"],n.addObserver(c),this.listenTo(i,"clipboardInput",e=>{t.isReadOnly&&e.stop()},{priority:"highest"}),this.listenTo(i,"clipboardInput",(t,e)=>{const i=e.dataTransfer;let r="";i.getData("text/html")?r=h(i.getData("text/html")):i.getData("text/plain")&&(r=u(i.getData("text/plain"))),r=this._htmlDataProcessor.toView(r),this.fire("inputTransformation",{content:r,dataTransfer:i}),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(t,e)=>{if(!e.content.isEmpty){const t=this.editor.data,n=this.editor.model,i=t.toModel(e.content,"$clipboardHolder");if(0==i.childCount)return;n.insertContent(i)}},{priority:"low"}),this.listenTo(i,"copy",r,{priority:"low"}),this.listenTo(i,"cut",(e,n)=>{t.isReadOnly?n.preventDefault():r(e,n)},{priority:"low"}),this.listenTo(i,"clipboardOutput",(n,i)=>{i.content.isEmpty||(i.dataTransfer.setData("text/html",this._htmlDataProcessor.toData(i.content)),i.dataTransfer.setData("text/plain",f(i.content))),"cut"==i.method&&t.model.deleteContent(e.selection)},{priority:"low"})}}},"368c":function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t,e,n){super(),this["flags"]=t,this["rooms"]=e||[],this["expect"]=n||[]}["toJSON"](){return{flags:this["flags"]?JSON["stringify"](this["flags"]):void 0,rooms:this["rooms"]&&this["rooms"]["length"]?this["rooms"]:void 0,expect:this["expect"]&&this["expect"]["length"]?this["expect"]:void 0}}static get["TYPE"](){return 11}static get["DESCRIPTOR_NAME"](){return"PacketOptionsMessage"}static get["DESCRIPTOR"](){return{fields:{flags:{type:"string",id:1},rooms:{type:"string",id:2,rule:"repeated"},expect:{type:"string",id:3,rule:"repeated"}}}}static["fromJSON"](t){return new r(t["flags"]&&JSON["parse"](t["flags"]),t["rooms"],t["except"])}}t["exports"]=r},3707:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("940e"),r=n("631f"),s=n("a16b"),o=n("ed4a"),a=n("84c3");n("43ae");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class c extends i["a"]{constructor(t){super(t);const e=this.bindTemplate,n=Object(o["a"])();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(n),this.iconView=new r["a"],this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",t=>!t),e.if("isVisible","ck-hidden",t=>!t),e.to("isOn",t=>t?"ck-on":"ck-off"),e.if("withText","ck-button_with-text")],type:e.to("type",t=>t||"button"),tabindex:e.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${n}`,"aria-disabled":e.if("isEnabled",!0,t=>!t),"aria-pressed":e.if("isOn",!0)},children:this.children,on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(t=>{this.isEnabled?this.fire("execute"):t.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView)}focus(){this.element.focus()}_createTooltipView(){const t=new s["a"];return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}_createLabelView(t){const e=new i["a"],n=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:`ck-editor__aria-label_${t}`},children:[{text:this.bindTemplate.to("label")}]}),e}_getTooltipString(t,e,n){return t?"string"==typeof t?t:(n&&(n=Object(a["b"])(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}},3730:function(t,e,n){
/*!
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
!function(e,n){t.exports=n()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(1))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var i=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},r=n(0),s="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||s||Function("return this")(),a=function(){return o.Date.now()},c=o.Symbol,l=Object.prototype,u=l.hasOwnProperty,h=l.toString,d=c?c.toStringTag:void 0,f=function(t){var e=u.call(t,d),n=t[d];try{t[d]=void 0;var i=!0}catch(t){}var r=h.call(t);return i&&(e?t[d]=n:delete t[d]),r},p=Object.prototype.toString,m=function(t){return p.call(t)},g="[object Null]",b="[object Undefined]",v=c?c.toStringTag:void 0,w=function(t){return null==t?void 0===t?b:g:v&&v in Object(t)?f(t):m(t)},y=function(t){return null!=t&&"object"==typeof t},x="[object Symbol]",_=function(t){return"symbol"==typeof t||y(t)&&w(t)==x},k=NaN,C=/^\s+|\s+$/g,A=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,O=/^0o[0-7]+$/i,E=parseInt,P=function(t){if("number"==typeof t)return t;if(_(t))return k;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(C,"");var n=T.test(t);return n||O.test(t)?E(t.slice(2),n?2:8):A.test(t)?k:+t},S="Expected a function",R=Math.max,I=Math.min,N=function(t,e,n){var r,s,o,c,l,u,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError(S);function m(e){var n=r,i=s;return r=s=void 0,h=e,c=t.apply(i,n)}function g(t){var n=t-u;return void 0===u||n>=e||n<0||f&&t-h>=o}function b(){var t=a();if(g(t))return v(t);l=setTimeout(b,function(t){var n=e-(t-u);return f?I(n,o-(t-h)):n}(t))}function v(t){return l=void 0,p&&r?m(t):(r=s=void 0,c)}function w(){var t=a(),n=g(t);if(r=arguments,s=this,u=t,n){if(void 0===l)return function(t){return h=t,l=setTimeout(b,e),d?m(t):c}(u);if(f)return l=setTimeout(b,e),m(u)}return void 0===l&&(l=setTimeout(b,e)),c}return e=P(e)||0,i(n)&&(d=!!n.leading,o=(f="maxWait"in n)?R(P(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),w.cancel=function(){void 0!==l&&clearTimeout(l),h=0,r=u=s=l=void 0},w.flush=function(){return void 0===l?c:v(a())},w},j={name:"ckeditor",render(t){return t(this.tagName,{domProps:{innerHTML:this.value||""}})},props:{editor:{type:Function,default:null},value:{type:String,default:""},config:{type:Object,default:()=>({})},tagName:{type:String,default:"div"},disabled:{type:Boolean,default:!1}},data:()=>({instance:null,$_lastEditorData:{type:String,default:""}}),mounted(){this.editor.create(this.$el,this.config).then(t=>{this.instance=t,t.isReadOnly=this.disabled,this.$_setUpEditorEvents(),this.$emit("ready",t)}).catch(t=>{console.error(t)})},beforeDestroy(){this.instance&&(this.instance.destroy(),this.instance=null),this.$emit("destroy",this.instance)},watch:{value(t,e){t!==e&&t!==this.$_lastEditorData&&this.instance.setData(t)},disabled(t){this.instance.isReadOnly=t}},methods:{$_setUpEditorEvents(){const t=this.instance;t.model.document.on("change:data",N(e=>{const n=this.$_lastEditorData=t.getData();this.$emit("input",n,e,t)},300)),t.editing.view.document.on("focus",e=>{this.$emit("focus",e,t)}),t.editing.view.document.on("blur",e=>{this.$emit("blur",e,t)})}}};const M={install(t){t.component("ckeditor",j)},component:j};e.default=M}]).default})},"39a0":function(t,e,n){"use strict";var i=n("109b"),r=n("edea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s extends r["a"]{constructor(t){super(t),this._observedElements=new Set}observe(t,e){const n=this.document.getRoot(e);n.on("change:children",(e,n)=>{this.view.once("render",()=>this._updateObservedElements(t,n))})}_updateObservedElements(t,e){if(!e.is("element")||e.is("attributeElement"))return;const n=this.view.domConverter.mapViewToDom(e);if(n){for(const t of n.querySelectorAll("img"))this._observedElements.has(t)||(this.listenTo(t,"load",(t,e)=>this._fireEvents(e)),this._observedElements.add(t));for(const e of this._observedElements)t.contains(e)||(this.stopListening(e),this._observedElements.delete(e))}}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}destroy(){this._observedElements.clear(),super.destroy()}}var o=n("0b65");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function a(){return e=>{e.on("element:figure",t)};function t(t,e,n){if(!n.consumable.test(e.viewItem,{name:!0,classes:"image"}))return;const i=Array.from(e.viewItem.getChildren()).find(t=>t.is("img"));if(!i||!i.hasAttribute("src")||!n.consumable.test(i,{name:!0}))return;const r=n.convertItem(i,e.modelCursor),s=Object(o["a"])(r.modelRange.getItems());s&&(n.convertChildren(e.viewItem,n.writer.createPositionAt(s,0)),e.modelRange=r.modelRange,e.modelCursor=r.modelCursor)}}function c(){return e=>{e.on("attribute:srcset:image",t)};function t(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,r=n.mapper.toViewElement(e.item),s=r.getChild(0);if(null===e.attributeNewValue){const t=e.attributeOldValue;t.data&&(i.removeAttribute("srcset",s),i.removeAttribute("sizes",s),t.width&&i.removeAttribute("width",s))}else{const t=e.attributeNewValue;t.data&&(i.setAttribute("srcset",t.data,s),i.setAttribute("sizes","100vw",s),t.width&&i.setAttribute("width",t.width,s))}}}function l(t){return n=>{n.on(`attribute:${t}:image`,e)};function e(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,r=n.mapper.toViewElement(e.item),s=r.getChild(0);null!==e.attributeNewValue?i.setAttribute(e.attributeKey,e.attributeNewValue,s):i.removeAttribute(e.attributeKey,s)}}var u=n("beb5"),h=n("652f");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class d extends h["a"]{refresh(){this.isEnabled=Object(u["d"])(this.editor.model)}execute(t){const e=this.editor.model;e.change(n=>{const i=Array.isArray(t.source)?t.source:[t.source];for(const t of i)Object(u["b"])(n,e,{src:t})})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends i["a"]{init(){const t=this.editor,e=t.model.schema,n=t.t,i=t.conversion;t.editing.view.addObserver(s),e.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),i.for("dataDowncast").elementToElement({model:"image",view:(t,e)=>p(e)}),i.for("editingDowncast").elementToElement({model:"image",view:(t,e)=>Object(u["e"])(p(e),e,n("image widget"))}),i.for("downcast").add(l("src")).add(l("alt")).add(c()),i.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:(t,e)=>e.createElement("image",{src:t.getAttribute("src")})}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:t=>{const e={data:t.getAttribute("srcset")};return t.hasAttribute("width")&&(e.width=t.getAttribute("width")),e}}}).add(a()),t.commands.add("imageInsert",new d(t))}}function p(t){const e=t.createEmptyElement("img"),n=t.createContainerElement("figure",{class:"image"});return t.insert(t.createPositionAt(n,0),e),n}var m=n("bf50");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class g extends h["a"]{refresh(){const t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Object(u["c"])(t),Object(u["c"])(t)&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}execute(t){const e=this.editor.model,n=e.document.selection.getSelectedElement();e.change(e=>{e.setAttribute("alt",t.newValue,n)})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class b extends i["a"]{init(){this.editor.commands.add("imageTextAlternative",new g(this.editor))}}var v=n("3707"),w=n("901d"),y=n("940e"),x=n("3493"),_=n("9374"),k=n("fdf0"),C=n("ab1f"),A=n("91db"),T=n("768b"),O=n("0d02"),E=n("18ce"),P=n("8ef8");n("6649");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class S extends y["a"]{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new T["a"],this.keystrokes=new A["a"],this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e("Save"),E["a"],"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("Cancel"),P["a"],"ck-button-cancel","cancel"),this._focusables=new x["a"],this._focusCycler=new O["a"]({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Object(C["a"])({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}_createButton(t,e,n,i){const r=new v["a"](this.locale);return r.set({label:t,icon:e,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),i&&r.delegate("execute").to(this,i),r}_createLabeledInputView(){const t=this.locale.t,e=new _["a"](this.locale,k["a"]);return e.label=t("Text alternative"),e.inputView.placeholder=t("Text alternative"),e}}var R=n("164f"),I='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',N=n("ec02");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function j(t){const e=t.plugins.get("ContextualBalloon");if(Object(u["a"])(t.editing.view.document.selection)){const n=M(t);e.updatePosition(n)}}function M(t){const e=t.editing.view,n=N["a"].defaultPositions;return{target:e.domConverter.viewToDom(e.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class B extends i["a"]{static get requires(){return[R["a"]]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",n=>{const i=t.commands.get("imageTextAlternative"),r=new v["a"](n);return r.set({label:e("Change image text alternative"),icon:I,tooltip:!0}),r.bind("isEnabled").to(i,"isEnabled"),this.listenTo(r,"execute",()=>this._showForm()),r})}_createForm(){const t=this.editor,e=t.editing.view,n=e.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new S(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.inputView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(t,e)=>{this._hideForm(!0),e()}),this.listenTo(t.ui,"update",()=>{Object(u["a"])(n.selection)?this._isVisible&&j(t):this._hideForm(!0)}),Object(w["a"])({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._form.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._balloon.hasView(this._form)||this._balloon.add({view:this._form,position:M(t)}),n.value=n.inputView.element.value=e.value||"",this._form.labeledInput.select()}_hideForm(t){this._isVisible&&(this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView==this._form}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class D extends i["a"]{static get requires(){return[b,B]}static get pluginName(){return"ImageTextAlternative"}}n("92bd");n.d(e,"a",function(){return V});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class V extends i["a"]{static get requires(){return[f,m["a"],D]}static get pluginName(){return"Image"}}},"3a7f":function(t,e,n){},"3b42":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("d65e"),r=n("086b");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s{constructor(t,e=null){this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new r["a"]({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(o,{direction:"backward"}),e=this.end.getLastMatchingPosition(o);return t.parent.is("text")&&t.isAtStart&&(t=i["a"]._createBefore(t.parent)),e.parent.is("text")&&e.isAtEnd&&(e=i["a"]._createAfter(e.parent)),new s(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(o);if(t.isAfter(this.end)||t.isEqual(this.end))return new s(t,t);let e=this.end.getLastMatchingPosition(o,{direction:"backward"});const n=t.nodeAfter,r=e.nodeBefore;return n&&n.is("text")&&(t=new i["a"](n,0)),r&&r.is("text")&&(e=new i["a"](r,r.data.length)),new s(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new s(this.start,t.start)),this.containsPosition(t.end)&&e.push(new s(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new s(e,n)}return null}getWalker(t={}){return t.boundaries=this,new r["a"](t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}clone(){return new s(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new r["a"](t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new r["a"](t);yield e.position;for(const n of e)yield n.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,n,r){return new this(new i["a"](t,e),new i["a"](n,r))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(i["a"]._createBefore(t),e)}}function o(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}},"3d1d":function(t,e,n){},"3d55":function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t,e=[],n=[]){super(),this["version"]=t,this["buffers"]=e,this["types"]=n}get["wereChangesApplied"](){return!(this["types"]&&this["types"]["length"])}get["data"](){return{buffers:this["buffers"],types:this["types"],baseVersion:this["version"]-this["types"]["length"]}}["toJSON"](){return{version:this["version"],buffers:this["buffers"],types:this["types"]}}static get["DESCRIPTOR_NAME"](){return"CollaborativeEditingResponse"}static get["DESCRIPTOR"](){return{fields:{version:{type:"uint32",id:1},buffers:{rule:"repeated",type:"bytes",id:2},types:{rule:"repeated",type:"uint32",id:3}}}}static["fromJSON"](t){return new r(t["version"],t["buffers"],t["types"])}}t["exports"]=r},"3e91":function(t,e,n){},"3f33":function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t){super(),this["id"]=t}["toJSON"](){return{id:this["id"]}}static get["TYPE"](){return 3}static get["DESCRIPTOR_NAME"](){return"ExistsMessage"}static get["DESCRIPTOR"](){return{fields:{id:{type:"string",id:1}}}}static["fromJSON"](t){return new r(t["id"])}}t["exports"]=r},"40de":function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}},"41ae":function(t,e,n){"use strict";var i=n("109b"),r=n("3707"),s='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o extends i["a"]{static get pluginName(){return"CKFinderUI"}init(){const t=this.editor,e=t.ui.componentFactory,n=t.t;e.add("ckfinder",e=>{const i=t.commands.get("ckfinder"),o=new r["a"](e);return o.set({label:n("Insert image or file"),icon:s,tooltip:!0}),o.bind("isEnabled").to(i),o.on("execute",()=>{t.execute("ckfinder"),t.editing.view.focus()}),o})}}var a=n("aaa8"),c=n("652f"),l=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class u extends c["a"]{constructor(t){super(t),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const t=this.editor.commands.get("imageUpload"),e=this.editor.commands.get("link");this.isEnabled=t&&e&&(t.isEnabled||e.isEnabled)}execute(){const t=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=e&&"modal"!=e)throw new l["b"]('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".');const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const i=n.onInit;n.language||(n.language=t.locale.language),n.onInit=(e=>{i&&i(),e.on("files:choose",n=>{const i=n.data.files.toArray(),r=i.filter(t=>!t.isImage()),s=i.filter(t=>t.isImage());for(const e of r)t.execute("link",e.getUrl());const o=[];for(const t of s){const n=t.getUrl();o.push(n||e.request("file:getProxyUrl",{file:t}))}o.length&&h(t,o)}),e.on("file:choose:resizedImage",e=>{const n=e.data.resizedUrl;if(n)h(t,[n]);else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("Could not obtain resized image URL."),{title:n("Selecting resized image failed"),namespace:"ckfinder"})}})}),window.CKFinder[e](n)}}function h(t,e){const n=t.commands.get("imageUpload");if(n.isEnabled)t.execute("imageInsert",{source:e});else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class d extends i["a"]{static get pluginName(){return"CKFinderEditing"}static get requires(){return[a["a"]]}init(){const t=this.editor;t.commands.add("ckfinder",new u(t))}}var f=n("e25f");n.d(e,"a",function(){return p});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class p extends i["a"]{static get pluginName(){return"CKFinder"}static get requires(){return[d,o,f["a"]]}}},4230:function(t,e,n){},4362:function(t,e,n){e.nextTick=function(t){setTimeout(t,0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,i="/";e.cwd=function(){return i},e.chdir=function(e){t||(t=n("df7c")),i=t.resolve(e,i)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"43ae":function(t,e,n){},"440d":function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],t=+t,!t)return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},4497:function(t,e,n){var i=n("8964"),r=n("b4c7");function s(t){var e=i(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var s=r(n);return s}t.exports=s},"44f2":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r{constructor(t,e,n){if(this.textNode=t,e<0||e>t.data.length)throw new i["b"]("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.");if(n<0||e+n>t.data.length)throw new i["b"]("view-textproxy-wrong-length: Given length value is incorrect.");this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return"textProxy"==t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this.textNode:this.parent;while(null!==n)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}},4801:function(t,e,n){"use strict";var i=n("652f"),r=n("0b65");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s extends i["a"]{constructor(t,e){super(t),this.type="bulleted"==e?"bulleted":"numbered"}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document,n=Array.from(e.selection.getSelectedBlocks()).filter(e=>a(e,t.schema)),i=!0===this.value;t.change(t=>{if(i){let e=n[n.length-1].nextSibling,i=Number.POSITIVE_INFINITY,r=[];while(e&&"listItem"==e.name&&0!==e.getAttribute("listIndent")){const t=e.getAttribute("listIndent");t<i&&(i=t);const n=t-i;r.push({element:e,listIndent:n}),e=e.nextSibling}r=r.reverse();for(const n of r)t.setAttribute("listIndent",n.listIndent,n.element)}if(!i){let t=Number.POSITIVE_INFINITY;for(const e of n)e.is("listItem")&&e.getAttribute("listIndent")<t&&(t=e.getAttribute("listIndent"));t=0===t?1:t,o(n,!0,t),o(n,!1,t)}for(const e of n.reverse())i&&"listItem"==e.name?t.rename(e,"paragraph"):i||"listItem"==e.name?i||"listItem"!=e.name||e.getAttribute("listType")==this.type||t.setAttribute("listType",this.type,e):(t.setAttributes({listType:this.type,listIndent:0},e),t.rename(e,"listItem"))})}_getValue(){const t=Object(r["a"])(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=Object(r["a"])(t.getSelectedBlocks());return!!n&&a(n,e)}}function o(t,e,n){const i=e?t[0]:t[t.length-1];if(i.is("listItem")){let r=i[e?"previousSibling":"nextSibling"],s=i.getAttribute("listIndent");while(r&&r.is("listItem")&&r.getAttribute("listIndent")>=n)s>r.getAttribute("listIndent")&&(s=r.getAttribute("listIndent")),r.getAttribute("listIndent")==s&&t[e?"unshift":"push"](r),r=r[e?"previousSibling":"nextSibling"]}}function a(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class c extends i["a"]{constructor(t,e){super(t),this._indentBy="forward"==e?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document;let n=Array.from(e.selection.getSelectedBlocks());t.change(t=>{const e=n[n.length-1];let i=e.nextSibling;while(i&&"listItem"==i.name&&i.getAttribute("listIndent")>e.getAttribute("listIndent"))n.push(i),i=i.nextSibling;this._indentBy<0&&(n=n.reverse());for(const r of n){const e=r.getAttribute("listIndent")+this._indentBy;e<0?t.rename(r,"paragraph"):t.setAttribute("listIndent",e,r)}})}_checkEnabled(){const t=Object(r["a"])(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("listItem"))return!1;if(this._indentBy>0){const e=t.getAttribute("listIndent"),n=t.getAttribute("listType");let i=t.previousSibling;while(i&&i.is("listItem")&&i.getAttribute("listIndent")>=e){if(i.getAttribute("listIndent")==e)return i.getAttribute("listType")==n;i=i.previousSibling}return!1}return!0}}var l=n("109b"),u=n("f61b"),h=n("a4b7");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function d(t){const e=t.createContainerElement("li");return e.getFillerOffset=f,e}function f(){const t=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||t?0:h["b"].call(this)}var p=n("82af");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function m(t){return(e,n,i)=>{const r=i.consumable;if(!r.test(n.item,"insert")||!r.test(n.item,"attribute:listType")||!r.test(n.item,"attribute:listIndent"))return;r.consume(n.item,"insert"),r.consume(n.item,"attribute:listType"),r.consume(n.item,"attribute:listIndent");const s=n.item,o=E(s,i);N(s,o,i,t)}}function g(t){return(e,n,i)=>{const r=i.mapper.toViewPosition(n.position).getLastMatchingPosition(t=>!t.item.is("li")),s=r.nodeAfter,o=i.writer;o.breakContainer(o.createPositionBefore(s)),o.breakContainer(o.createPositionAfter(s));const a=s.parent,c=a.previousSibling,l=o.createRangeOn(a),u=o.remove(l);c&&c.nextSibling&&I(o,c,c.nextSibling);const h=i.mapper.toModelElement(s);j(h.getAttribute("listIndent")+1,n.position,l.start,s,i,t);for(const t of o.createRangeIn(u).getItems())i.mapper.unbindViewElement(t);e.stop()}}function b(t,e,n){if(!n.consumable.consume(e.item,"attribute:listType"))return;const i=n.mapper.toViewElement(e.item),r=n.writer;r.breakContainer(r.createPositionBefore(i)),r.breakContainer(r.createPositionAfter(i));let s=i.parent;const o="numbered"==e.attributeNewValue?"ol":"ul";s=r.rename(o,s),I(r,s,s.nextSibling),I(r,s.previousSibling,s);for(const a of e.item.getChildren())n.consumable.consume(a,"insert")}function v(t){return(e,n,i)=>{if(!i.consumable.consume(n.item,"attribute:listIndent"))return;const r=i.mapper.toViewElement(n.item),s=i.writer;s.breakContainer(s.createPositionBefore(r)),s.breakContainer(s.createPositionAfter(r));const o=r.parent,a=o.previousSibling,c=s.createRangeOn(o);s.remove(c),a&&a.nextSibling&&I(s,a,a.nextSibling),j(n.attributeOldValue+1,n.range.start,c.start,r,i,t),N(n.item,r,i,t);for(const t of n.item.getChildren())i.consumable.consume(t,"insert")}}function w(t,e,n){if("listItem"!=e.item.name){let t=n.mapper.toViewPosition(e.range.start);const i=n.writer,r=[];while("ul"==t.parent.name||"ol"==t.parent.name){if(t=i.breakContainer(t),"li"!=t.parent.name)break;const e=t,n=i.createPositionAt(t.parent,"end");if(!e.isEqual(n)){const t=i.remove(i.createRange(e,n));r.push(t)}t=i.createPositionAfter(t.parent)}if(r.length>0){for(let e=0;e<r.length;e++){const n=t.nodeBefore,s=i.insert(t,r[e]);if(t=s.end,e>0){const e=I(i,n,n.nextSibling);e&&e.parent==n&&t.offset--}}I(i,t.nodeBefore,t.nodeAfter)}}}function y(t,e,n){const i=n.mapper.toViewPosition(e.position),r=i.nodeBefore,s=i.nodeAfter;I(n.writer,r,s)}function x(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0})){const t=n.writer,i=this.conversionApi.store,r=t.createElement("listItem");i.indent=i.indent||0,t.setAttribute("listIndent",i.indent,r);const s=e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted";t.setAttribute("listType",s,r),i.indent++;const o=n.splitToAllowedParent(r,e.modelCursor);if(!o)return;t.insert(r,o.position);const a=P(r,e.viewItem.getChildren(),n);i.indent--,e.modelRange=t.createRange(e.modelCursor,a),o.cursorParent?e.modelCursor=t.createPositionAt(o.cursorParent,0):e.modelCursor=e.modelRange.end}}function _(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){const t=Array.from(e.viewItem.getChildren());for(const e of t)e.is("li")||e._remove()}}function k(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;const t=[...e.viewItem.getChildren()];let n=!1,i=!0;for(const e of t)!n||e.is("ul")||e.is("ol")||e._remove(),e.is("text")?(i&&(e._data=e.data.replace(/^\s+/,"")),(!e.nextSibling||e.nextSibling.is("ul")||e.nextSibling.is("ol"))&&(e._data=e.data.replace(/\s+$/,""))):(e.is("ul")||e.is("ol"))&&(n=!0),i=!1}}function C(t){return(e,n)=>{if(n.isPhantom)return;const i=n.modelPosition.nodeBefore;if(i&&i.is("listItem")){const e=n.mapper.toViewElement(i),r=e.getAncestors().find(t=>t.is("ul")||t.is("ol")),s=t.createPositionAt(e,0).getWalker();for(const t of s){if("elementStart"==t.type&&t.item.is("li")){n.viewPosition=t.previousPosition;break}if("elementEnd"==t.type&&t.item==r){n.viewPosition=t.nextPosition;break}}}}}function A(t){return(e,n)=>{const i=n.viewPosition,r=i.parent,s=n.mapper;if("ul"==r.name||"ol"==r.name){if(i.isAtEnd){const e=s.toModelElement(i.nodeBefore),r=s.getModelLength(i.nodeBefore);n.modelPosition=t.createPositionBefore(e).getShiftedBy(r)}else{const e=s.toModelElement(i.nodeAfter);n.modelPosition=t.createPositionBefore(e)}e.stop()}else if("li"==r.name&&i.nodeBefore&&("ul"==i.nodeBefore.name||"ol"==i.nodeBefore.name)){const o=s.toModelElement(r);let a=1,c=i.nodeBefore;while(c&&(c.is("ul")||c.is("ol")))a+=s.getModelLength(c),c=c.previousSibling;n.modelPosition=t.createPositionBefore(o).getShiftedBy(a),e.stop()}}}function T(t,e){const n=t.document.differ.getChanges(),i=new Map;let r=!1;for(const c of n)if("insert"==c.type&&"listItem"==c.name)s(c.position);else if("insert"==c.type&&"listItem"!=c.name){if("$text"!=c.name){const t=c.position.nodeAfter;t.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",t),r=!0),t.hasAttribute("listType")&&(e.removeAttribute("listType",t),r=!0)}const t=c.position.getShiftedBy(c.length);s(t)}else"remove"==c.type&&"listItem"==c.name?s(c.position):"attribute"==c.type&&"listIndent"==c.attributeKey?s(c.range.start):"attribute"==c.type&&"listType"==c.attributeKey&&s(c.range.start);for(const c of i.values())o(c),a(c);return r;function s(t){const e=t.nodeBefore;if(e&&e.is("listItem")){let n=e;if(i.has(n))return;while(n.previousSibling&&n.previousSibling.is("listItem"))if(n=n.previousSibling,i.has(n))return;i.set(t.nodeBefore,n)}else{const e=t.nodeAfter;e&&e.is("listItem")&&i.set(e,e)}}function o(t){let n=0,i=null;while(t&&t.is("listItem")){const s=t.getAttribute("listIndent");if(s>n){let o;null===i?(i=s-n,o=n):(i>s&&(i=s),o=s-i),e.setAttribute("listIndent",o,t),r=!0}else i=null,n=t.getAttribute("listIndent")+1;t=t.nextSibling}}function a(t){let n=[],i=null;while(t&&t.is("listItem")){const s=t.getAttribute("listIndent");if(i&&i.getAttribute("listIndent")>s&&(n=n.slice(0,s+1)),0!=s)if(n[s]){const i=n[s];t.getAttribute("listType")!=i&&(e.setAttribute("listType",i,t),r=!0)}else n[s]=t.getAttribute("listType");i=t,t=t.nextSibling}}}function O(t,[e,n]){let i,r=e.is("documentFragment")?e.getChild(0):e;if(i=n?this.createSelection(n):this.document.selection,r&&r.is("listItem")){const t=i.getFirstPosition();let e=null;if(t.parent.is("listItem")?e=t.parent:t.nodeBefore&&t.nodeBefore.is("listItem")&&(e=t.nodeBefore),e){const t=e.getAttribute("listIndent");if(t>0)while(r&&r.is("listItem"))r._setAttribute("listIndent",r.getAttribute("listIndent")+t),r=r.nextSibling}}}function E(t,e){const n=e.mapper,i=e.writer,r="numbered"==t.getAttribute("listType")?"ol":"ul",s=d(i),o=i.createContainerElement(r,null);return i.insert(i.createPositionAt(o,0),s),n.bindElements(t,s),s}function P(t,e,n){const{writer:i,schema:r}=n;let s=i.createPositionAfter(t);for(const o of e)if("ul"==o.name||"ol"==o.name)s=n.convertItem(o,s).modelCursor;else{const e=n.convertItem(o,i.createPositionAt(t,"end")),a=e.modelRange.start.nodeAfter,c=a&&a.is("element")&&!r.checkChild(t,a.name);c&&(t=e.modelCursor.parent.is("listItem")?e.modelCursor.parent:S(e.modelCursor),s=i.createPositionAfter(t))}return s}function S(t){const e=new p["a"]({startPosition:t});let n;do{n=e.next()}while(!n.value.item.is("listItem"));return n.value.item}function R(t,e){const n=!!e.sameIndent,i=!!e.smallerIndent,r=e.listIndent;let s=t;while(s&&"listItem"==s.name){const t=s.getAttribute("listIndent");if(n&&r==t||i&&r>t)return s;s=s.previousSibling}return null}function I(t,e,n){return e&&n&&("ul"==e.name||"ol"==e.name)&&e.name==n.name?t.mergeContainers(t.createPositionAfter(e)):null}function N(t,e,n,i){const r=e.parent,s=n.mapper,o=n.writer;let a=s.toViewPosition(i.createPositionBefore(t));const c=R(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),l=t.previousSibling;if(c&&c.getAttribute("listIndent")==t.getAttribute("listIndent")){const t=s.toViewElement(c);a=o.breakContainer(o.createPositionAfter(t))}else a=l&&"listItem"==l.name?s.toViewPosition(i.createPositionAt(l,"end")):s.toViewPosition(i.createPositionBefore(t));if(a=M(a),o.insert(a,r),l&&"listItem"==l.name){const t=s.toViewElement(l),n=o.createRange(o.createPositionAt(t,0),a),i=n.getWalker({ignoreElementEnd:!0});for(const r of i)if(r.item.is("li")){const t=o.breakContainer(o.createPositionBefore(r.item)),n=r.item.parent,s=o.createPositionAt(e,"end");I(o,s.nodeBefore,s.nodeAfter),o.move(o.createRangeOn(n),s),i.position=t}}else{const n=r.nextSibling;if(n&&(n.is("ul")||n.is("ol"))){let i=null;for(const e of n.getChildren()){const n=s.toModelElement(e);if(!(n&&n.getAttribute("listIndent")>t.getAttribute("listIndent")))break;i=e}i&&(o.breakContainer(o.createPositionAfter(i)),o.move(o.createRangeOn(i.parent),o.createPositionAt(e,"end")))}}I(o,r,r.nextSibling),I(o,r.previousSibling,r)}function j(t,e,n,i,r,s){const o=R(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:t,foo:"b"}),a=r.mapper,c=r.writer,l=o?o.getAttribute("listIndent"):null;let u;if(o)if(l==t){const t=a.toViewElement(o).parent;u=c.createPositionAfter(t)}else{const t=s.createPositionAt(o,"end");u=a.toViewPosition(t)}else u=n;u=M(u);for(const h of[...i.getChildren()])(h.is("ul")||h.is("ol"))&&(u=c.move(c.createRangeOn(h),u).end,I(c,h,h.nextSibling),I(c,h.previousSibling,h))}function M(t){return t.getLastMatchingPosition(t=>t.item.is("uiElement"))}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class B extends l["a"]{static get requires(){return[u["a"]]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const e=t.data,n=t.editing;t.model.document.registerPostFixer(e=>T(t.model,e)),n.mapper.registerViewToModelLength("li",D),e.mapper.registerViewToModelLength("li",D),n.mapper.on("modelToViewPosition",C(n.view)),n.mapper.on("viewToModelPosition",A(t.model)),e.mapper.on("modelToViewPosition",C(n.view)),n.downcastDispatcher.on("insert",w,{priority:"high"}),n.downcastDispatcher.on("insert:listItem",m(t.model)),e.downcastDispatcher.on("insert",w,{priority:"high"}),e.downcastDispatcher.on("insert:listItem",m(t.model)),n.downcastDispatcher.on("attribute:listType:listItem",b),e.downcastDispatcher.on("attribute:listType:listItem",b),n.downcastDispatcher.on("attribute:listIndent:listItem",v(t.model)),e.downcastDispatcher.on("attribute:listIndent:listItem",v(t.model)),n.downcastDispatcher.on("remove:listItem",g(t.model)),n.downcastDispatcher.on("remove",y,{priority:"low"}),e.downcastDispatcher.on("remove:listItem",g(t.model)),e.downcastDispatcher.on("remove",y,{priority:"low"}),e.upcastDispatcher.on("element:ul",_,{priority:"high"}),e.upcastDispatcher.on("element:ol",_,{priority:"high"}),e.upcastDispatcher.on("element:li",k,{priority:"high"}),e.upcastDispatcher.on("element:li",x),t.model.on("insertContent",O,{priority:"high"}),t.commands.add("numberedList",new s(t,"numbered")),t.commands.add("bulletedList",new s(t,"bulleted")),t.commands.add("indentList",new c(t,"forward")),t.commands.add("outdentList",new c(t,"backward"));const i=this.editor.editing.view.document;this.listenTo(i,"enter",(t,e)=>{const n=this.editor.model.document,i=n.selection.getLastPosition().parent;n.selection.isCollapsed&&"listItem"==i.name&&i.isEmpty&&(this.editor.execute("outdentList"),e.preventDefault(),t.stop())}),this.listenTo(i,"delete",(t,e)=>{if("backward"!==e.direction)return;const n=this.editor.model.document.selection;if(!n.isCollapsed)return;const i=n.getFirstPosition();if(!i.isAtStart)return;const r=i.parent;if("listItem"!==r.name)return;const s=r.previousSibling&&"listItem"===r.previousSibling.name;s||(this.editor.execute("outdentList"),e.preventDefault(),t.stop())},{priority:"high"});const r=t=>{return(e,n)=>{const i=this.editor.commands.get(t);i.isEnabled&&(this.editor.execute(t),n())}};this.editor.keystrokes.set("Tab",r("indentList")),this.editor.keystrokes.set("Shift+Tab",r("outdentList"))}}function D(t){let e=1;for(const n of t.getChildren())if("ul"==n.name||"ol"==n.name)for(const t of n.getChildren())e+=D(t);return e}var V='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',F='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',L=n("3707");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class U extends l["a"]{init(){const t=this.editor.t;this._addButton("numberedList",t("Numbered List"),V),this._addButton("bulletedList",t("Bulleted List"),F)}_addButton(t,e,n){const i=this.editor;i.ui.componentFactory.add(t,r=>{const s=i.commands.get(t),o=new L["a"](r);return o.set({label:e,icon:n,tooltip:!0}),o.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(o,"execute",()=>i.execute(t)),o})}}n.d(e,"a",function(){return $});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class $ extends l["a"]{static get requires(){return[B,U]}static get pluginName(){return"List"}}},4816:function(t,e,n){"use strict";const i=n("193c"),r=n("1f55");class s extends i{constructor(t,e){super(),this["data"]=t,this["data1"]=e}["toJSON"](){return{data:this["data"],data1:this["data1"]}}static get["TYPE"](){return r["getPacketType"](r["TYPES"]["STRING"],r["TYPES"]["NUMBER"])}static get["DESCRIPTOR_NAME"](){return"StringNumberPacketDataMessage"}static get["DESCRIPTOR"](){return{fields:{data:{type:"string",id:1},data1:{type:"uint32",id:2}}}}static["fromJSON"](t){return new s(t["data"],t["data1"])}static["create"](t,e){return new s(t,e)}}t["exports"]=s},4836:function(t,e,n){"use strict";const i=n("193c"),r=n("1f55");class s extends i{constructor(t,e){super(),this["data"]=t,this["data1"]=e}["toJSON"](){return{data:this["data"],data1:this["data1"]}}static get["TYPE"](){return r["getPacketType"](r["TYPES"]["STRING"],r["TYPES"]["STRING"])}static get["DESCRIPTOR_NAME"](){return"StringStringPacketDataMessage"}static get["DESCRIPTOR"](){return{fields:{data:{type:"string",id:1},data1:{type:"string",id:2}}}}static["fromJSON"](t){return new s(t["data"],t["data1"])}static["create"](t,e){return new s(t,e)}}t["exports"]=s},4886:function(t,e,n){},"4c21":function(t,e,n){},"4c5c":function(t,e,n){"use strict";var i=n("db97"),r=n("8cdf"),s=n("9a4b");function o(t){return Object(i["a"])(t,s["a"],r["a"])}e["a"]=o},"4c7b":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("a07d");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function r(t){while(t&&"html"!=t.tagName.toLowerCase()){if("static"!=i["a"].window.getComputedStyle(t).position)return t;t=t.parentElement}return null}},"4ca4":function(t,e,n){"use strict";e["a"]='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>'},"4f2a":function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),i=0,r=n.length;i<r;i++){var s=n[i].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}},"4fb5":function(t,e,n){},"507e":function(t,e,n){},"511a":function(t,e,n){"use strict";var i=n("940e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r extends i["a"]{constructor(t,e,n){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"]}}),this.name=null,this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const t=this._editingView;function e(e){t.change(n=>{const i=t.document.getRoot(e.name);n.addClass(e.isFocused?"ck-focused":"ck-blurred",i),n.removeClass(e.isFocused?"ck-blurred":"ck-focused",i)})}function n(i){t.once("change:isRenderingInProgress",(t,r,s)=>{s?n(i):e(i)})}t.isRenderingInProgress?n(this):e(this)}}n.d(e,"a",function(){return s});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s extends r{constructor(t,e,n){super(t,e,n),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const t=this._editingView,e=this.t;t.change(n=>{const i=t.document.getRoot(this.name);n.setAttribute("aria-label",e("Rich Text Editor, %0",[this.name]),i)})}}},5122:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("34b2");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r extends i["a"]{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}is(t){return"text"==t||super.is(t)}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new r(this.data,this.getAttributes())}static fromJSON(t){return new r(t.data,t.attributes)}}},"51d0":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("edea"),r=n("6896");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s extends i["a"]{constructor(t){super(t),this.useCapture=!1}observe(t){const e="string"==typeof this.domEventType?[this.domEventType]:this.domEventType;e.forEach(e=>{this.listenTo(t,e,(t,e)=>{this.isEnabled&&this.onDomEvent(e)},{useCapture:this.useCapture})})}fire(t,e,n){this.isEnabled&&this.document.fire(t,new r["a"](this.view,e,n))}}},"51f5":function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}n.d(e,"a",function(){return i})},5207:function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t,e,n){super(),this["commentThreadId"]=t,this["commentId"]=e,this["createdAt"]=new Date(n)}["toJSON"](){return{commentThreadId:this["commentThreadId"],commentId:this["commentId"],createdAt:this["createdAt"]["toISOString"]()}}static get["DESCRIPTOR_NAME"](){return"CommentsV2AddCommentResponse"}static get["DESCRIPTOR"](){return{fields:{commentThreadId:{type:"string",id:1},commentId:{type:"string",id:2},createdAt:{type:"string",id:3}}}}static["fromJSON"](t){return new r(t["commentThreadId"],t["commentId"],t["createdAt"])}}t["exports"]=r},"52cf":function(t,e,n){var i=n("2d96"),r=n("e830");t.exports={distanceInWords:i(),format:r()}},"52e7":function(t,e,n){"use strict";var i=n("53a2"),r=Object(i["a"])(Object.getPrototypeOf,Object);e["a"]=r},5317:function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,r=t.indexOf("["),s=t.indexOf("]");-1!=r&&-1!=s&&(t=t.substring(0,r)+t.substring(r,s).replace(/:/g,";")+t.substring(s,t.length));var o=n.exec(t||""),a={},c=14;while(c--)a[i[c]]=o[c]||"";return-1!=r&&-1!=s&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},"539d":function(t,e,n){},"53a2":function(t,e,n){"use strict";function i(t,e){return function(n){return t(e(n))}}e["a"]=i},"53dd":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("109b"),r=n("164f"),s=n("1e6e"),o=n("ec02"),a=n("2beb"),c=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class l extends i["a"]{static get requires(){return[r["a"]]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",e=>{d(t.editing.view.document.selection)&&e.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{items:e,getRelatedElement:n,balloonClassName:i="ck-toolbar-container"}){const r=this.editor,o=new s["a"];if(this._toolbarDefinitions.has(t))throw new c["b"]("widget-toolbar-duplicated: Toolbar with the given id was already added.",{toolbarId:t});o.fillFromConfig(e,r.ui.componentFactory),this._toolbarDefinitions.set(t,{view:o,getRelatedElement:n,balloonClassName:i})}_updateToolbarsVisibility(){let t=0,e=null,n=null;for(const i of this._toolbarDefinitions.values()){const r=i.getRelatedElement(this.editor.editing.view.document.selection);if(this.editor.ui.focusTracker.isFocused&&r){const s=r.getAncestors().length;s>t&&(t=s,e=r,n=i)}else this._hideToolbar(i)}n&&this._showToolbar(n,e)}_hideToolbar(t){this._isToolbarVisible(t)&&this._balloon.remove(t.view)}_showToolbar(t,e){this._isToolbarVisible(t)?u(this.editor,e):this._balloon.hasView(t.view)||this._balloon.add({view:t.view,position:h(this.editor,e),balloonClassName:t.balloonClassName})}_isToolbarVisible(t){return this._balloon.visibleView==t.view}}function u(t,e){const n=t.plugins.get("ContextualBalloon"),i=h(t,e);n.updatePosition(i)}function h(t,e){const n=t.editing.view,i=o["a"].defaultPositions;return{target:n.domConverter.viewToDom(e),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast]}}function d(t){const e=t.getSelectedElement();return!(!e||!Object(a["d"])(e))}},5465:function(t,e){var n=6e4;t.exports=function(t){var e=new Date(t.getTime()),i=e.getTimezoneOffset();e.setSeconds(0,0);var r=e.getTime()%n;return i*n+r}},5491:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("940e");n("e8dd");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class r extends i["a"]{constructor(t){super(t),this.set("text"),this.set("for");const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],for:e.to("for")},children:[{text:e.to("text")}]})}}},"568d":function(t,e,n){var i=n("34eb")("socket.io-parser"),r=n("7297"),s=n("703e"),o=n("e3db"),a=n("f922");function c(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=c,e.Decoder=f;var l=e.ERROR+'"encode error"';function u(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var r=h(t.data);if(!1===r)return l;n+=r}return i("encoded %j as %s",t,n),n}function h(t){try{return JSON.stringify(t)}catch(e){return!1}}function d(t,e){function n(t){var n=s.deconstructPacket(t),i=u(n.packet),r=n.buffers;r.unshift(i),e(r)}s.removeBlobs(t,n)}function f(){this.reconstructor=null}function p(t){var n=0,r={type:Number(t.charAt(0))};if(null==e.types[r.type])return b("unknown packet type "+r.type);if(e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type){var s="";while("-"!==t.charAt(++n))if(s+=t.charAt(n),n==t.length)break;if(s!=Number(s)||"-"!==t.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===t.charAt(n+1)){r.nsp="";while(++n){var a=t.charAt(n);if(","===a)break;if(r.nsp+=a,n===t.length)break}}else r.nsp="/";var c=t.charAt(n+1);if(""!==c&&Number(c)==c){r.id="";while(++n){a=t.charAt(n);if(null==a||Number(a)!=a){--n;break}if(r.id+=t.charAt(n),n===t.length)break}r.id=Number(r.id)}if(t.charAt(++n)){var l=m(t.substr(n)),u=!1!==l&&(r.type===e.ERROR||o(l));if(!u)return b("invalid payload");r.data=l}return i("decoded %s as %j",t,r),r}function m(t){try{return JSON.parse(t)}catch(e){return!1}}function g(t){this.reconPack=t,this.buffers=[]}function b(t){return{type:e.ERROR,data:"parser error: "+t}}c.prototype.encode=function(t,n){if(i("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)d(t,n);else{var r=u(t);n([r])}},r(f.prototype),f.prototype.add=function(t){var n;if("string"===typeof t)n=p(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new g(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,this.emit("decoded",n))}},f.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},g.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=s.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},g.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},"56b3":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("109b"),r=n("beb5"),s=n("53dd");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o extends i["a"]{static get requires(){return[s["a"]]}static get pluginName(){return"ImageToolbar"}afterInit(){const t=this.editor,e=t.plugins.get(s["a"]);e.register("image",{items:t.config.get("image.toolbar")||[],getRelatedElement:r["a"]})}}},"580f":function(t,e,n){var i=n("c8d5"),r=n("a4b79"),s=n("d420");function o(t){var e=i(t),n=s(e,r(e)),o=n+1;return o}t.exports=o},"589e":function(t,e,n){"use strict";function i(){return[]}e["a"]=i},"58ae":function(t,e,n){"use strict";const i=n("193c"),r=n("1f55");class s extends i{constructor(t,e){super(),this["data"]=t,this["data1"]=e}["toJSON"](){return{data:this["data"],data1:this["data1"]?JSON["stringify"](this["data1"]):void 0}}static get["TYPE"](){return r["getPacketType"](r["TYPES"]["NUMBER"],r["TYPES"]["OBJECT"])}static get["DESCRIPTOR_NAME"](){return"NumberObjectPacketDataMessage"}static get["DESCRIPTOR"](){return{fields:{data:{type:"uint32",id:1},data1:{type:"string",id:2}}}}static["fromJSON"](t){return new s(t["data"],t["data1"]&&JSON["parse"](t["data1"]))}static["create"](t,e){return new s(t,e)}}t["exports"]=s},"58b1":function(t,e,n){(function(e){var i=n("e3db"),r=Object.prototype.toString,s="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===r.call(Blob),o="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===r.call(File);function a(t){if(!t||"object"!==typeof t)return!1;if(i(t)){for(var n=0,r=t.length;n<r;n++)if(a(t[n]))return!0;return!1}if("function"===typeof e&&e.isBuffer&&e.isBuffer(t)||"function"===typeof ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||o&&t instanceof File)return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return a(t.toJSON(),!0);for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)&&a(t[c]))return!0;return!1}t.exports=a}).call(this,n("b639").Buffer)},"58e0":function(t,e,n){"use strict";(function(t){var i=n("26ee"),r=n("2f74"),s="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=s&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===s,c=a?i["a"].Buffer:void 0,l=c?c.isBuffer:void 0,u=l||r["a"];e["a"]=u}).call(this,n("dd40")(t))},5903:function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const i={setData(t){this.data.set(t)},getData(t){return this.data.get(t)}};e["a"]=i},"59a6":function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const i=navigator.userAgent.toLowerCase(),r={isMac:s(i),isEdge:o(i),isGecko:a(i),isSafari:c(i)};function s(t){return t.indexOf("macintosh")>-1}function o(t){return!!t.match(/edge\/(\d+.?\d*)/)}function a(t){return!!t.match(/gecko\/\d+/)}function c(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}e["a"]=r},"5a6e":function(t,e,n){var i,r=n("764b"),s=n("58b1"),o=n("ca99"),a=n("ccc1"),c=n("a081");"undefined"!==typeof ArrayBuffer&&(i=n("8390"));var l="undefined"!==typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!==typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=l||u;e.protocol=3;var d=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=r(d),p={type:"error",data:"parser error"},m=n("d780");function g(t,n){var i="b"+e.packets[t.type]+t.data.data;return n(i)}function b(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var r=t.data,s=new Uint8Array(r),o=new Uint8Array(1+r.byteLength);o[0]=d[t.type];for(var a=0;a<s.length;a++)o[a+1]=s[a];return i(o.buffer)}function v(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var r=new FileReader;return r.onload=function(){e.encodePacket({type:t.type,data:r.result},n,!0,i)},r.readAsArrayBuffer(t.data)}function w(t,n,i){if(!n)return e.encodeBase64Packet(t,i);if(h)return v(t,n,i);var r=new Uint8Array(1);r[0]=d[t.type];var s=new m([r.buffer,t.data]);return i(s)}function y(t){try{t=c.decode(t,{strict:!1})}catch(e){return!1}return t}function x(t,e,n){for(var i=new Array(t.length),r=a(t.length,n),s=function(t,n,r){e(n,function(e,n){i[t]=n,r(e,i)})},o=0;o<t.length;o++)s(o,t[o],r)}e.encodePacket=function(t,e,n,i){"function"===typeof e&&(i=e,e=!1),"function"===typeof n&&(i=n,n=null);var r=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!==typeof ArrayBuffer&&r instanceof ArrayBuffer)return b(t,e,i);if("undefined"!==typeof m&&r instanceof m)return w(t,e,i);if(r&&r.base64)return g(t,i);var s=d[t.type];return void 0!==t.data&&(s+=n?c.encode(String(t.data),{strict:!1}):String(t.data)),i(""+s)},e.encodeBase64Packet=function(t,n){var i,r="b"+e.packets[t.type];if("undefined"!==typeof m&&t.data instanceof m){var s=new FileReader;return s.onload=function(){var t=s.result.split(",")[1];n(r+t)},s.readAsDataURL(t.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(l){for(var o=new Uint8Array(t.data),a=new Array(o.length),c=0;c<o.length;c++)a[c]=o[c];i=String.fromCharCode.apply(null,a)}return r+=btoa(i),n(r)},e.decodePacket=function(t,n,i){if(void 0===t)return p;if("string"===typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(i&&(t=y(t),!1===t))return p;var r=t.charAt(0);return Number(r)==r&&f[r]?t.length>1?{type:f[r],data:t.substring(1)}:{type:f[r]}:p}var s=new Uint8Array(t),a=(r=s[0],o(t,1));return m&&"blob"===n&&(a=new m([a])),{type:f[r],data:a}},e.decodeBase64Packet=function(t,e){var n=f[t.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:t.substr(1)}};var r=i.decode(t.substr(1));return"blob"===e&&m&&(r=new m([r])),{type:n,data:r}},e.encodePayload=function(t,n,i){"function"===typeof n&&(i=n,n=null);var r=s(t);if(n&&r)return m&&!h?e.encodePayloadAsBlob(t,i):e.encodePayloadAsArrayBuffer(t,i);if(!t.length)return i("0:");function o(t){return t.length+":"+t}function a(t,i){e.encodePacket(t,!!r&&n,!1,function(t){i(null,o(t))})}x(t,a,function(t,e){return i(e.join(""))})},e.decodePayload=function(t,n,i){if("string"!==typeof t)return e.decodePayloadAsBinary(t,n,i);var r;if("function"===typeof n&&(i=n,n=null),""===t)return i(p,0,1);for(var s,o,a="",c=0,l=t.length;c<l;c++){var u=t.charAt(c);if(":"===u){if(""===a||a!=(s=Number(a)))return i(p,0,1);if(o=t.substr(c+1,s),a!=o.length)return i(p,0,1);if(o.length){if(r=e.decodePacket(o,n,!1),p.type===r.type&&p.data===r.data)return i(p,0,1);var h=i(r,c+s,l);if(!1===h)return}c+=s,a=""}else a+=u}return""!==a?i(p,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));function i(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})}x(t,i,function(t,e){var i=e.reduce(function(t,e){var n;return n="string"===typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),r=new Uint8Array(i),s=0;return e.forEach(function(t){var e="string"===typeof t,n=t;if(e){for(var i=new Uint8Array(t.length),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);n=i.buffer}r[s++]=e?0:1;var a=n.byteLength.toString();for(o=0;o<a.length;o++)r[s++]=parseInt(a[o]);r[s++]=255;for(i=new Uint8Array(n),o=0;o<i.length;o++)r[s++]=i[o]}),n(r.buffer)})},e.encodePayloadAsBlob=function(t,n){function i(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"===typeof t){for(var i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);t=i.buffer,e[0]=0}var s=t instanceof ArrayBuffer?t.byteLength:t.size,o=s.toString(),a=new Uint8Array(o.length+1);for(r=0;r<o.length;r++)a[r]=parseInt(o[r]);if(a[o.length]=255,m){var c=new m([e.buffer,a.buffer,t]);n(null,c)}})}x(t,i,function(t,e){return n(new m(e))})},e.decodePayloadAsBinary=function(t,n,i){"function"===typeof n&&(i=n,n=null);var r=t,s=[];while(r.byteLength>0){for(var a=new Uint8Array(r),c=0===a[0],l="",u=1;;u++){if(255===a[u])break;if(l.length>310)return i(p,0,1);l+=a[u]}r=o(r,2+l.length),l=parseInt(l);var h=o(r,0,l);if(c)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(m){var d=new Uint8Array(h);h="";for(u=0;u<d.length;u++)h+=String.fromCharCode(d[u])}s.push(h),r=o(r,l)}var f=s.length;s.forEach(function(t,r){i(e.decodePacket(t,n,!0),r,f)})}},"5b14":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"d",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return c}),n.d(e,"i",function(){return l}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return h}),n.d(e,"g",function(){return f}),n.d(e,"f",function(){return p});var i=n("84c3"),r=n("031c");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const s=t=>{const e=t.createElement("br");return e.dataset.ckeFiller=!0,e},o=t=>t.createTextNode(" "),a=7;let c="";for(let g=0;g<a;g++)c+="​";function l(t){return Object(r["a"])(t)&&t.data.substr(0,a)===c}function u(t){return t.data.length==a&&l(t)}function h(t){return l(t)?t.data.slice(a):t.data}const d=new WeakMap;function f(t,e){let n=d.get(e);return n||(n=e(window.document),d.set(e,n)),t.isEqualNode(n)}function p(t){t.document.on("keydown",m)}function m(t,e){if(e.keyCode==i["c"].arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const e=t.getRangeAt(0).startContainer,n=t.getRangeAt(0).startOffset;l(e)&&n<=a&&t.collapse(e,0)}}}},"5b9e":function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t,e){super(),this["commentThreadId"]=t,this["comments"]=e}["toJSON"](){return{commentThreadId:this["commentThreadId"],comments:this["comments"]["map"](t=>JSON["stringify"](t))}}static get["DESCRIPTOR_NAME"](){return"CommentsV2GetCommentThreadResponse"}static get["DESCRIPTOR"](){return{fields:{commentThreadId:{type:"string",id:1},comments:{type:"string",rule:"repeated",id:2}}}}static["fromJSON"](t){return new r(t["commentThreadId"],t["comments"]["map"](t=>JSON["parse"](t)))}}t["exports"]=r},"5bfb":function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const i={get(t){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};e["a"]=i},"5c8a":function(t,e,n){"use strict";var i=n("09f4"),r=1,s=4;function o(t){return Object(i["a"])(t,r|s)}e["a"]=o},"5e96":function(t,e,n){"use strict";var i=n("109b"),r=n("3707"),s='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const o="removeFormat";class a extends i["a"]{static get pluginName(){return"RemoveFormatUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(o,n=>{const i=t.commands.get(o),a=new r["a"](n);return a.set({label:e("Remove Format"),icon:s,tooltip:!0}),a.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(a,"execute",()=>t.execute(o)),a})}}var c=n("652f"),l=n("0b65");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class u extends c["a"]{refresh(){const t=this.editor.model;this.isEnabled=!!Object(l["a"])(this._getFormattingItems(t.document.selection,t.schema))}execute(){const t=this.editor.model,e=t.schema;t.change(n=>{for(const i of this._getFormattingItems(t.document.selection,e))if(i.is("selection"))for(const t of this._getFormattingAttributes(i,e))n.removeSelectionAttribute(t);else{const t=n.createRangeOn(i);for(const r of this._getFormattingAttributes(i,e))n.removeAttribute(r,t)}})}*_getFormattingItems(t,e){const n=t=>{return!!Object(l["a"])(this._getFormattingAttributes(t,e))};for(const i of t.getRanges())for(const t of i.getItems())n(t)&&(yield t);n(t)&&(yield t)}*_getFormattingAttributes(t,e){for(const[n]of t.getAttributes()){const t=e.getAttributeProperties(n);t&&t.isFormatting&&(yield n)}}}n.d(e,"a",function(){return h});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class h extends i["a"]{static get requires(){return[u,a]}init(){const t=this.editor;t.commands.add("removeFormat",new u(t))}static get pluginName(){return"RemoveFormat"}}},"5ea3":function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e["a"]=n}).call(this,n("c8ba"))},"5f69":function(t,e,n){},6071:function(t,e,n){"use strict";function i(t,e){return t===e||t!==t&&e!==e}e["a"]=i},"60ce":function(t,e,n){"use strict";var i=n("63bc"),r=n("26ee"),s=Object(i["a"])(r["a"],"DataView"),o=s,a=n("ddc9"),c=Object(i["a"])(r["a"],"Promise"),l=c,u=Object(i["a"])(r["a"],"Set"),h=u,d=Object(i["a"])(r["a"],"WeakMap"),f=d,p=n("f0ce"),m=n("74b5"),g="[object Map]",b="[object Object]",v="[object Promise]",w="[object Set]",y="[object WeakMap]",x="[object DataView]",_=Object(m["a"])(o),k=Object(m["a"])(a["a"]),C=Object(m["a"])(l),A=Object(m["a"])(h),T=Object(m["a"])(f),O=p["a"];(o&&O(new o(new ArrayBuffer(1)))!=x||a["a"]&&O(new a["a"])!=g||l&&O(l.resolve())!=v||h&&O(new h)!=w||f&&O(new f)!=y)&&(O=function(t){var e=Object(p["a"])(t),n=e==b?t.constructor:void 0,i=n?Object(m["a"])(n):"";if(i)switch(i){case _:return x;case k:return g;case C:return v;case A:return w;case T:return y}return e});e["a"]=O},6134:function(t,e,n){},"613a":function(t,e,n){"use strict";var i=n("109b"),r=n("cb3e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const s="strikethrough";class o extends i["a"]{init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:s}),t.model.schema.setAttributeProperties(s,{isFormatting:!0}),t.conversion.attributeToElement({model:s,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),t.commands.add(s,new r["a"](t,s)),t.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}var a=n("3707"),c='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9L6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const l="strikethrough";class u extends i["a"]{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(l,n=>{const i=t.commands.get(l),r=new a["a"](n);return r.set({label:e("Strikethrough"),icon:c,keystroke:"CTRL+SHIFT+X",tooltip:!0}),r.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(r,"execute",()=>t.execute(l)),r})}}n.d(e,"a",function(){return h});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class h extends i["a"]{static get requires(){return[o,u]}static get pluginName(){return"Strikethrough"}}},"61f1":function(t,e,n){"use strict";var i=n("f842");function r(t){return t}var s=r;function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var a=o,c=Math.max;function l(t,e,n){return e=c(void 0===e?t.length-1:e,0),function(){var i=arguments,r=-1,s=c(i.length-e,0),o=Array(s);while(++r<s)o[r]=i[e+r];r=-1;var l=Array(e+1);while(++r<e)l[r]=i[r];return l[e]=n(o),a(t,this,l)}}var u=l;function h(t){return function(){return t}}var d=h,f=n("0305"),p=f["a"]?function(t,e){return Object(f["a"])(t,"toString",{configurable:!0,enumerable:!1,value:d(e),writable:!0})}:s,m=p,g=800,b=16,v=Date.now;function w(t){var e=0,n=0;return function(){var i=v(),r=b-(i-n);if(n=i,r>0){if(++e>=g)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var y=w,x=y(m),_=x;function k(t,e){return _(u(t,e,s),t+"")}var C=k,A=n("6071"),T=n("e56b"),O=n("7129"),E=n("2332");function P(t,e,n){if(!Object(E["a"])(n))return!1;var i=typeof e;return!!("number"==i?Object(T["a"])(n)&&Object(O["a"])(e,n.length):"string"==i&&e in n)&&Object(A["a"])(n[e],t)}var S=P;function R(t){return C(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;s=t.length>3&&"function"==typeof s?(r--,s):void 0,o&&S(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),e=Object(e);while(++i<r){var a=n[i];a&&t(e,a,i,s)}return e})}var I=R,N=n("e3fa"),j=I(function(t,e){Object(i["a"])(e,Object(N["a"])(e),t)});e["a"]=j},"62fa":function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},"631f":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("940e");n("ffa0");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class r extends i["a"]{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml"),e=t.querySelector("svg"),n=e.getAttribute("viewBox");n&&(this.viewBox=n),this.element.innerHTML="";while(e.childNodes.length>0)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}},"634d":function(t,e,n){"use strict";var i=n("109b"),r=n("a9a4"),s=n("f2ea"),o=n("67b9"),a=n("901d"),c=n("9a76"),l=n("940e"),u=["ck-presence-list__counter--hidden"," connected users","bindTemplate","set","usersCount","isHidden","setTemplate"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(u,198);var h=function(t,e){t-=0;var n=u[t];return n};class d extends l["a"]{constructor(t){super(t);const e=this[h("0x0")];this[h("0x1")](h("0x2"),0),this[h("0x1")](h("0x3"),!0),this[h("0x4")]({tag:"div",attributes:{class:["ck","ck-presence-list__counter",e["if"](h("0x3"),h("0x5"))]},children:[{text:e["to"](h("0x2"),t=>1===t?"1 connected user (me)":t+h("0x6"))}]})}}var f=["ck-presence-list__list","fire","items","bindTemplate","setTemplate","div"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(f,404);var p=function(t,e){t-=0;var n=f[t];return n};class m extends l["a"]{constructor(t){super(t),this[p("0x0")]=this["createCollection"]();const e=this[p("0x1")];this[p("0x2")]({tag:p("0x3"),attributes:{class:["ck",p("0x4")]},children:this["items"],on:{click:e["to"](()=>this[p("0x5")]("execute"))}})}}n("4c21");var g=["ck-presence-list--collapsed","inlineListView","bindTemplate","set","isCollapsed","locale","div","ck-presence-list","ck-reset"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(g,110);var b=function(t,e){t-=0;var n=g[t];return n};class v extends l["a"]{constructor(t){super(t);const e=this[b("0x0")];this[b("0x1")](b("0x2"),!0),this["counterView"]=new d(this[b("0x3")]),this["inlineListView"]=new m(t),this["setTemplate"]({tag:b("0x4"),attributes:{class:["ck",b("0x5"),b("0x6"),"ck-rounded-corners",e["if"](b("0x2"),b("0x7"))]},children:[this["counterView"],this[b("0x8")]]})}}var w=["ck-presence-list__dropdown-list-wrapper","items","setTemplate","div"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(w,446);var y=function(t,e){t-=0;var n=w[t];return n};class x extends l["a"]{constructor(t){super(t),this["items"]=this["createCollection"](),this[y("0x0")]({tag:y("0x1"),attributes:{class:["ck","ck-presence-list__dropdown-list"]},children:[{tag:"div",attributes:{class:["ck",y("0x2")]},children:this[y("0x3")]}]})}}var _=n("bb6e"),k=["color","getBackgroundColorClass","true","userView","setTemplate","div","span","ck-user__full-name","name"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(k,498);var C=function(t,e){t-=0;var n=k[t];return n};class A extends l["a"]{constructor(t,e){super(t),this[C("0x0")]=new _["a"](t,e),this[C("0x1")]({tag:C("0x2"),attributes:{class:["ck","ck-presence-list__dropdown-list-item"]},children:[this[C("0x0")],{tag:C("0x3"),attributes:{class:["ck",C("0x4")]},children:[{text:e[C("0x5")]}]},{tag:C("0x3"),attributes:{class:["ck","ck-presence-list__marker",e[C("0x6")][C("0x7")](1)],"aria-hidden":C("0x8")}}]})}}var T=n("a16b"),O=["text","bindTemplate","setTemplate","ck-tooltip","ck-tooltip_","span","ck-tooltip__text","ck-tooltip__text__inner"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(O,353);var E=function(t,e){t-=0;var n=O[t];return n};class P extends T["a"]{constructor(t){super(t);const e=this[E("0x0")];this[E("0x1")]({tag:"span",attributes:{class:["ck",E("0x2"),e["to"]("position",t=>E("0x3")+t)]},children:[{tag:E("0x4"),attributes:{class:[E("0x5")]},children:[{tag:E("0x4"),class:[E("0x6")],children:[{text:e["to"](E("0x7"))}]}]}]})}}var S=["text","setTemplate","div","ck-presence-list__list-item","span","ck-presence-list__marker","getBackgroundColorClass","true","userView","markerView","tooltipView"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(S,140);var R=function(t,e){t-=0;var n=S[t];return n};class I extends l["a"]{constructor(t,e){super(t),this[R("0x0")]=new _["a"](t,e),this[R("0x1")]=new N(t,e),this[R("0x2")]=new P(t),this[R("0x2")][R("0x3")]=this[R("0x0")]["name"],this[R("0x4")]({tag:R("0x5"),attributes:{class:["ck",R("0x6")]},children:[this[R("0x0")],this[R("0x1")],this[R("0x2")]]})}}class N extends l["a"]{constructor(t,e){super(t),this[R("0x4")]({tag:R("0x7"),attributes:{class:["ck",R("0x8"),e["color"][R("0x9")]()],"aria-hidden":R("0xa")}})}}var j=n("ec02"),M=["remove","config","presenceList.container","presenceList: Missing container element.","counterView","bind","inlineListView","items","bindTo","using","locale","execute","hideDropdown","isCollapsed","showDropdown","render","isVisible","element","registerChild","length","from","reverse","sessions","getUserSessions","user","content","pin","unpin","destroy","isRendered","requires","init","editor","get","usersCount","lastConnectedUsers","balloonPanelView","class","ck ck-presence-list__balloon","view","presenceDropdownView","connectedUsers","listenTo","add"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(M,118);var B=function(t,e){t-=0;var n=M[t];return n};const D=5;class V extends i["a"]{static get[B("0x0")](){return[r["a"]]}[B("0x1")](){const t=this[B("0x2")];this["i"]=t["plugins"][B("0x3")](r["a"]),this["set"](B("0x4"),0),this[B("0x5")]=new o["a"],this[B("0x6")]=new j["a"],this["balloonPanelView"][B("0x7")]=B("0x8"),this[B("0x9")]=this["e"](),this[B("0xa")]=void 0;for(const e of this["i"][B("0xb")])this["s"](e);this[B("0xc")](this["i"][B("0xb")],B("0xd"),(t,e)=>{this["s"](e)}),this[B("0xc")](this["i"][B("0xb")],B("0xe"),(t,e)=>{this["r"](e)})}["e"](){const t=this[B("0x2")],e=new v(this[B("0x2")]["locale"]),n=this[B("0x6")];if(!Object(c["a"])(t[B("0xf")][B("0x3")](B("0x10"))))throw new s["b"](B("0x11"));return e[B("0x12")][B("0x13")](B("0x4"))["to"](this),e[B("0x13")]("isCollapsed")["to"](this,B("0x4"),t=>{const n=t>D;return e[B("0x12")]["isHidden"]=!(1==t||n),n||this["hideDropdown"](),n}),e[B("0x14")][B("0x15")][B("0x16")](this[B("0x5")])[B("0x17")](e=>new I(t[B("0x18")],e)),this[B("0xc")](e["inlineListView"],B("0x19"),()=>{this["presenceDropdownView"]?this[B("0x1a")]():this["view"][B("0x1b")]&&this[B("0x1c")]()}),e[B("0x1d")](),n[B("0x1d")](),Object(a["a"])({emitter:e,activator:()=>n[B("0x1e")],contextElements:[n["element"],e["inlineListView"][B("0x1f")]],callback:()=>this[B("0x1a")]()}),t[B("0xf")]["get"](B("0x10"))["appendChild"](e["element"]),t["ui"][B("0x9")][B("0x20")](e),this[B("0x2")]["ui"][B("0x9")]["body"]["add"](n),e}["s"](t){this[B("0x4")]++,this[B("0x5")]["length"]==D&&this["lastConnectedUsers"][B("0xe")](0),this["lastConnectedUsers"][B("0xd")](t)}["r"](t){if(this["usersCount"]--,this[B("0x5")][B("0x3")](t["id"])&&(this["lastConnectedUsers"][B("0xe")](t["id"]),this[B("0x5")][B("0x21")]<this[B("0x4")]))for(const e of Array[B("0x22")](this["i"][B("0xb")])[B("0x23")]())if(!this[B("0x5")][B("0x3")](e["id"]))return void this[B("0x5")]["add"](e,0)}[B("0x1c")](){this[B("0xa")]||(this["presenceDropdownView"]=new x,this["presenceDropdownView"]["items"][B("0x16")](this["i"][B("0x24")])[B("0x17")](t=>1==this["i"][B("0x25")](t["user"])[B("0x21")]?new A(this[B("0x2")][B("0x18")],t[B("0x26")]):null),this[B("0x6")][B("0x27")][B("0xd")](this[B("0xa")]),this["balloonPanelView"][B("0x28")]({target:this[B("0x9")]["inlineListView"][B("0x1f")]}))}["hideDropdown"](){this[B("0xa")]&&(this[B("0x6")][B("0x29")](),this[B("0x6")][B("0x27")][B("0xe")](this["presenceDropdownView"]),this[B("0xa")]["destroy"](),this[B("0xa")]=void 0)}[B("0x2a")](){super[B("0x2a")](),this[B("0x9")]&&this[B("0x9")][B("0x2b")]&&this[B("0x9")]["element"][B("0xe")]()}}n.d(e,"a",function(){return U});var F=["requires","pluginName","PresenceList"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(F,447);var L=function(t,e){t-=0;var n=F[t];return n};class U extends i["a"]{static get[L("0x0")](){return[r["a"],V]}static get[L("0x1")](){return L("0x2")}}},"63bc":function(t,e,n){"use strict";var i=n("bc9b"),r=n("26ee"),s=r["a"]["__core-js_shared__"],o=s,a=function(){var t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function c(t){return!!a&&a in t}var l=c,u=n("2332"),h=n("74b5"),d=/[\\^$.*+?()[\]{}|]/g,f=/^\[object .+?Constructor\]$/,p=Function.prototype,m=Object.prototype,g=p.toString,b=m.hasOwnProperty,v=RegExp("^"+g.call(b).replace(d,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function w(t){if(!Object(u["a"])(t)||l(t))return!1;var e=Object(i["a"])(t)?v:f;return e.test(Object(h["a"])(t))}var y=w;function x(t,e){return null==t?void 0:t[e]}var _=x;function k(t,e){var n=_(t,e);return y(n)?n:void 0}e["a"]=k},"63d0":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("6c92"),r=n("9cf5"),s=n("ad6b"),o=n("f2ea"),a=n("e47a"),c=n("dfe0");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class l extends i["a"]{constructor(t,e,n,i){super(i),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(!t||!e)throw new o["b"]("move-operation-position-invalid: Source position or target position is invalid.");if(n+this.howMany>t.maxOffset)throw new o["b"]("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.");if(t===e&&n<i&&i<n+this.howMany)throw new o["b"]("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.");if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Object(a["a"])(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=n&&this.targetPosition.path[t]<n+this.howMany)throw new o["b"]("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.")}}_execute(){Object(c["b"])(s["a"]._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=r["a"].fromJSON(t.sourcePosition,e),i=r["a"].fromJSON(t.targetPosition,e);return new this(n,t.howMany,i,t.baseVersion)}}},"643c":function(t,e,n){"use strict";var i=n("109b"),r=n("2c4c");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function s(){return t=>{t.on("element:table",(t,e,n)=>{const i=e.viewItem;if(!n.consumable.test(i,{name:!0}))return;const{rows:s,headingRows:o,headingColumns:c}=a(i),l={};c&&(l.headingColumns=c),o&&(l.headingRows=o);const u=n.writer.createElement("table",l),h=n.splitToAllowedParent(u,e.modelCursor);if(h){if(n.writer.insert(u,h.position),n.consumable.consume(i,{name:!0}),s.length)s.forEach(t=>n.convertItem(t,n.writer.createPositionAt(u,"end")));else{const t=n.writer.createElement("tableRow");n.writer.insert(t,n.writer.createPositionAt(u,"end")),Object(r["a"])(n.writer,n.writer.createPositionAt(t,"end"))}e.modelRange=n.writer.createRange(n.writer.createPositionBefore(u),n.writer.createPositionAfter(u)),h.cursorParent?e.modelCursor=n.writer.createPositionAt(h.cursorParent,0):e.modelCursor=e.modelRange.end}})}}function o(t){return e=>{e.on(`element:${t}`,(t,e,n)=>{const i=e.viewItem;if(!n.consumable.test(i,{name:!0}))return;const r=n.writer.createElement("tableCell"),s=n.splitToAllowedParent(r,e.modelCursor);if(!s)return;n.writer.insert(r,s.position),n.consumable.consume(i,{name:!0});const o=n.writer.createPositionAt(r,0);n.convertChildren(i,o),r.childCount||n.writer.insertElement("paragraph",o),e.modelRange=n.writer.createRange(n.writer.createPositionBefore(r),n.writer.createPositionAfter(r)),e.modelCursor=e.modelRange.end})}}function a(t){const e={headingRows:0,headingColumns:0},n=[],i=[];let r;for(const s of Array.from(t.getChildren()))if("tbody"===s.name||"thead"===s.name||"tfoot"===s.name){"thead"!==s.name||r||(r=s);const t=Array.from(s.getChildren()).filter(t=>t.is("element","tr"));for(const s of t)if("thead"===s.parent.name&&s.parent===r)e.headingRows++,n.push(s);else{i.push(s);const t=c(s,e,r);t>e.headingColumns&&(e.headingColumns=t)}}return e.rows=[...n,...i],e}function c(t){let e=0,n=0;const i=Array.from(t.getChildren()).filter(t=>"th"===t.name||"td"===t.name);while(n<i.length&&"th"===i[n].name){const t=i[n],r=parseInt(t.getAttribute("colspan")||1);e+=r,n++}return e}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class l{constructor(t,e={}){this.table=t,this.startRow=e.startRow||0,this.endRow="number"==typeof e.endRow?e.endRow:void 0,this.includeSpanned=!!e.includeSpanned,this.column="number"==typeof e.column?e.column:void 0,this._skipRows=new Set,this._row=0,this._column=0,this._cell=0,this._spannedCells=new Map}[Symbol.iterator](){return this}next(){const t=this.table.getChild(this._row);if(!t||this._isOverEndRow())return{done:!0};if(this._isSpanned(this._row,this._column)){const t=this._column,e=this._formatOutValue(void 0,t);this._column++;const n=!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn(t,1);return n?this.next():e}const e=t.getChild(this._cell);if(!e)return this._row++,this._column=0,this._cell=0,this.next();const n=parseInt(e.getAttribute("colspan")||1),i=parseInt(e.getAttribute("rowspan")||1);(n>1||i>1)&&this._recordSpans(this._row,this._column,i,n);const r=this._column,s=this._formatOutValue(e,r,i,n);this._column++,this._cell++;const o=this._shouldSkipRow()||this._shouldSkipColumn(r,n);return o?this.next():s}skipRow(t){this._skipRows.add(t)}_isOverEndRow(){return void 0!==this.endRow&&this._row>this.endRow}_formatOutValue(t,e,n=1,i=1){return{done:!1,value:{cell:t,row:this._row,column:e,rowspan:n,colspan:i,cellIndex:this._cell}}}_shouldSkipRow(){const t=this._row<this.startRow,e=this._skipRows.has(this._row);return t||e}_shouldSkipColumn(t,e){if(void 0===this.column)return!1;const n=t===this.column,i=t<this.column&&t+e>this.column;return!n&&!i}_isSpanned(t,e){if(!this._spannedCells.has(t))return!1;const n=this._spannedCells.get(t);return n.has(e)}_recordSpans(t,e,n,i){for(let r=e+1;r<=e+i-1;r++)this._markSpannedCell(t,r);for(let r=t+1;r<t+n;r++)for(let t=e;t<=e+i-1;t++)this._markSpannedCell(r,t)}_markSpannedCell(t,e){this._spannedCells.has(t)||this._spannedCells.set(t,new Map);const n=this._spannedCells.get(t);n.set(e,!0)}}var u=n("2beb"),h=n("f2d2");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function d(t={}){return e=>e.on("insert:table",(e,n,i)=>{const r=n.item;if(!i.consumable.consume(r,"insert"))return;i.consumable.consume(r,"attribute:headingRows:table"),i.consumable.consume(r,"attribute:headingColumns:table");const s=t&&t.asWidget,o=i.writer.createContainerElement("figure",{class:"table"}),a=i.writer.createContainerElement("table");let c;i.writer.insert(i.writer.createPositionAt(o,0),a),s&&(c=Object(h["c"])(o,i.writer));const u=new l(r),d={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0},f=new Map;for(const l of u){const{row:e,cell:n}=l,s=C(k(e,d),a,i),o=r.getChild(e),c=f.get(e)||x(o,e,s,i);f.set(e,c),i.consumable.consume(n,"insert");const u=i.writer.createPositionAt(c,"end");y(l,d,u,i,t)}const p=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(r,s?c:o),i.writer.insert(p,s?c:o)})}function f(t={}){return e=>e.on("insert:tableRow",(e,n,i)=>{const r=n.item;if(!i.consumable.consume(r,"insert"))return;const s=r.parent,o=i.mapper.toViewElement(s),a=P(o),c=s.getChildIndex(r),u=new l(s,{startRow:c,endRow:c}),h={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0},d=new Map;for(const l of u){const e=C(k(c,h),a,i),n=d.get(c)||x(r,c,e,i);d.set(c,n),i.consumable.consume(l.cell,"insert");const s=i.writer.createPositionAt(n,"end");y(l,h,s,i,t)}})}function p(t={}){return e=>e.on("insert:tableCell",(e,n,i)=>{const r=n.item;if(!i.consumable.consume(r,"insert"))return;const s=r.parent,o=s.parent,a=o.getChildIndex(s),c=new l(o,{startRow:a,endRow:a}),u={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0};for(const l of c)if(l.cell===r){const e=i.mapper.toViewElement(s),n=i.writer.createPositionAt(e,s.getChildIndex(r));return void y(l,u,n,i,t)}})}function m(t={}){const e=!!t.asWidget;return t=>t.on("attribute:headingRows:table",(t,n,i)=>{const r=n.item;if(!i.consumable.consume(n.item,t.name))return;const s=i.mapper.toViewElement(r),o=P(s),a=n.attributeOldValue,c=n.attributeNewValue;if(c>a){const t=Array.from(r.getChildren()).filter(({index:t})=>u(t,a-1,c)),n=C("thead",o,i);E(t,n,i,"end");for(const r of t)for(const t of r.getChildren())v(t,"th",i,e);O("tbody",o,i)}else{const t=Array.from(r.getChildren()).filter(({index:t})=>u(t,c-1,a)).reverse(),n=C("tbody",o,i);E(t,n,i,0);const s=new l(r,{startRow:c?c-1:c,endRow:a-1}),h={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0};for(const r of s)w(r,h,i,e);O("thead",o,i)}function u(t,e,n){return t>e&&t<n}})}function g(t={}){const e=!!t.asWidget;return t=>t.on("attribute:headingColumns:table",(t,n,i)=>{const r=n.item;if(!i.consumable.consume(n.item,t.name))return;const s={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0},o=n.attributeOldValue,a=n.attributeNewValue,c=(o>a?o:a)-1;for(const u of new l(r))u.column>c||w(u,s,i,e)})}function b(){return t=>t.on("remove:tableRow",(t,e,n)=>{t.stop();const i=n.writer,r=n.mapper,s=r.toViewPosition(e.position).getLastMatchingPosition(t=>!t.item.is("tr")),o=s.nodeAfter,a=o.parent,c=i.createRangeOn(o),l=i.remove(c);for(const u of i.createRangeIn(l).getItems())r.unbindViewElement(u);a.childCount||i.remove(i.createRangeOn(a))},{priority:"higher"})}function v(t,e,n,i){const r=n.writer,s=n.mapper.toViewElement(t);if(!s)return;let o;if(i){const t=r.createEditableElement(e,s.getAttributes());o=Object(u["f"])(t,r),r.insert(r.createPositionAfter(s),o),r.move(r.createRangeIn(s),r.createPositionAt(o,0)),r.remove(r.createRangeOn(s))}else o=r.rename(e,s);n.mapper.bindElements(t,o)}function w(t,e,n,i){const{cell:r}=t,s=_(t,e),o=n.mapper.toViewElement(r);o&&o.name!==s&&v(r,s,n,i)}function y(t,e,n,i,r){const s=r&&r.asWidget,o=_(t,e),a=s?Object(u["f"])(i.writer.createEditableElement(o),i.writer):i.writer.createContainerElement(o),c=t.cell,l=c.getChild(0),h=1===c.childCount&&"paragraph"===l.name;if(i.writer.insert(n,a),h&&!S(l)){const t=c.getChild(0),e=i.writer.createPositionAt(a,"end");if(i.consumable.consume(t,"insert"),r.asWidget){const n=i.writer.createContainerElement("span");i.mapper.bindElements(t,n),i.writer.insert(e,n),i.mapper.bindElements(c,a)}else i.mapper.bindElements(c,a),i.mapper.bindElements(t,a)}else i.mapper.bindElements(c,a)}function x(t,e,n,i){i.consumable.consume(t,"insert");const r=i.writer.createContainerElement("tr");i.mapper.bindElements(t,r);const s=t.parent.getAttribute("headingRows")||0,o=s>0&&e>=s?e-s:e,a=i.writer.createPositionAt(n,o);return i.writer.insert(a,r),r}function _(t,e){const{row:n,column:i}=t,{headingColumns:r,headingRows:s}=e,o=s&&s>n;if(o)return"th";const a=r&&r>i;return a?"th":"td"}function k(t,e){return t<e.headingRows?"thead":"tbody"}function C(t,e,n){const i=A(t,e);return i||T(t,e,n)}function A(t,e){for(const n of e.getChildren())if(n.name==t)return n}function T(t,e,n){const i=n.writer.createContainerElement(t),r=n.writer.createPositionAt(e,"tbody"==t?"end":0);return n.writer.insert(r,i),i}function O(t,e,n){const i=A(t,e);i&&0===i.childCount&&n.writer.remove(n.writer.createRangeOn(i))}function E(t,e,n,i){for(const r of t){const t=n.mapper.toViewElement(r);t&&n.writer.move(n.writer.createRangeOn(t),n.writer.createPositionAt(e,i))}}function P(t){for(const e of t.getChildren())if("table"===e.name)return e}function S(t){return!![...t.getAttributeKeys()].length}var R=n("652f");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class I extends R["a"]{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema,i=N(e.getFirstPosition());this.isEnabled=n.checkChild(i,"table")}execute(t={}){const e=this.editor.model,n=e.document.selection,i=this.editor.plugins.get("TableUtils"),r=parseInt(t.rows)||2,s=parseInt(t.columns)||2,o=Object(u["b"])(n,e);e.change(t=>{const n=i.createTable(t,r,s);e.insertContent(n,o),t.setSelection(t.createPositionAt(n.getNodeByPath([0,0,0]),0))})}}function N(t){const e=t.parent;return e===e.root?e:e.parent}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class j extends R["a"]{constructor(t,e={}){super(t),this.order=e.order||"below"}refresh(){const t=this.editor.model.document.selection,e=Object(r["b"])("table",t.getFirstPosition());this.isEnabled=!!e}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i=Object(r["b"])("tableCell",e.getFirstPosition()),s=i.parent,o=s.parent,a=o.getChildIndex(s),c="below"===this.order?a+1:a;n.insertRows(o,{rows:1,at:c})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class M extends R["a"]{constructor(t,e={}){super(t),this.order=e.order||"right"}refresh(){const t=this.editor.model.document.selection,e=Object(r["b"])("table",t.getFirstPosition());this.isEnabled=!!e}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i=e.getFirstPosition(),s=Object(r["b"])("tableCell",i),o=s.parent.parent,{column:a}=n.getCellLocation(s),c="right"===this.order?a+1:a;n.insertColumns(o,{columns:1,at:c})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class B extends R["a"]{constructor(t,e={}){super(t),this.direction=e.direction||"horizontally"}refresh(){const t=this.editor.model,e=t.document,n=Object(r["b"])("tableCell",e.selection.getFirstPosition());this.isEnabled=!!n}execute(){const t=this.editor.model,e=t.document,n=e.selection,i=n.getFirstPosition(),s=Object(r["b"])("tableCell",i),o="horizontally"===this.direction,a=this.editor.plugins.get("TableUtils");o?a.splitCellHorizontally(s,2):a.splitCellVertically(s,2)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class D extends R["a"]{constructor(t,e){super(t),this.direction=e.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const t=this._getMergeableCell();this.isEnabled=!!t,this.value=t}execute(){const t=this.editor.model,e=t.document,n=Object(r["b"])("tableCell",e.selection.getFirstPosition()),i=this.value,s=this.direction;t.change(t=>{const e="right"==s||"down"==s,r=e?n:i,o=e?i:n,a=o.parent;U(o,r,t);const c=this.isHorizontal?"colspan":"rowspan",l=parseInt(n.getAttribute(c)||1),u=parseInt(i.getAttribute(c)||1);t.setAttribute(c,l+u,r),t.setSelection(t.createRangeIn(r)),a.childCount||L(a,t)})}_getMergeableCell(){const t=this.editor.model,e=t.document,n=Object(r["b"])("tableCell",e.selection.getFirstPosition());if(!n)return;const i=this.editor.plugins.get("TableUtils"),s=this.isHorizontal?V(n,this.direction,i):F(n,this.direction);if(!s)return;const o=this.isHorizontal?"rowspan":"colspan",a=parseInt(n.getAttribute(o)||1),c=parseInt(s.getAttribute(o)||1);return c===a?s:void 0}}function V(t,e,n){const i="right"==e?t.nextSibling:t.previousSibling;if(!i)return;const r="right"==e?t:i,s="right"==e?i:t,{column:o}=n.getCellLocation(r),{column:a}=n.getCellLocation(s),c=parseInt(r.getAttribute("colspan")||1),l=o+c===a;return l?i:void 0}function F(t,e){const n=t.parent,i=n.parent,r=i.getChildIndex(n);if("down"==e&&r===i.childCount-1||"up"==e&&0===r)return;const s=parseInt(t.getAttribute("rowspan")||1),o=i.getAttribute("headingRows")||0,a="down"==e&&r+s===o,c="up"==e&&r===o;if(o&&(a||c))return;const u=parseInt(t.getAttribute("rowspan")||1),h="down"==e?r+u:r,d=[...new l(i,{endRow:h})],f=d.find(e=>e.cell===t),p=f.column,m=d.find(({row:t,rowspan:n,column:i})=>{return i===p&&("down"==e?t===h:h===t+n)});return m&&m.cell}function L(t,e){const n=t.parent,i=n.getChildIndex(t);for(const{cell:s,row:o,rowspan:a}of new l(n,{endRow:i})){const t=o+a-1>=i;t&&Object(r["c"])("rowspan",a-1,s,e)}e.remove(t)}function U(t,e,n){$(t)||($(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}function $(t){return 1==t.childCount&&t.getChild(0).is("paragraph")&&t.getChild(0).isEmpty}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class z extends R["a"]{refresh(){const t=this.editor.model,e=t.document,n=Object(r["b"])("tableCell",e.selection.getFirstPosition());this.isEnabled=!!n&&n.parent.parent.childCount>1}execute(){const t=this.editor.model,e=t.document.selection,n=e.getFirstPosition(),i=Object(r["b"])("tableCell",n),s=i.parent,o=s.parent,a=o.getChildIndex(s),c=o.getAttribute("headingRows")||0;t.change(t=>{c&&a<=c&&Object(r["c"])("headingRows",c-1,o,t,0);const e=[...new l(o,{endRow:a})],n=new Map;e.filter(({row:t,rowspan:e})=>t===a&&e>1).forEach(({column:t,cell:e,rowspan:i})=>n.set(t,{cell:e,rowspanToSet:i-1})),e.filter(({row:t,rowspan:e})=>t<=a-1&&t+e>a).forEach(({cell:e,rowspan:n})=>Object(r["c"])("rowspan",n-1,e,t));const i=a+1,u=new l(o,{includeSpanned:!0,startRow:i,endRow:i});let h;for(const{row:s,column:a,cell:c}of[...u])if(n.has(a)){const{cell:e,rowspanToSet:i}=n.get(a),c=h?t.createPositionAfter(h):t.createPositionAt(o.getChild(s),0);t.move(t.createRangeOn(e),c),Object(r["c"])("rowspan",i,e,t),h=e}else h=c;t.remove(s)})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class q extends R["a"]{refresh(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i=Object(r["b"])("tableCell",e.getFirstPosition());this.isEnabled=!!i&&n.getColumns(i.parent.parent)>1}execute(){const t=this.editor.model,e=t.document.selection,n=e.getFirstPosition(),i=Object(r["b"])("tableCell",n),s=i.parent,o=s.parent,a=o.getAttribute("headingColumns")||0,c=o.getChildIndex(s),u=[...new l(o)],h=u.find(t=>t.cell===i),d=h.column;t.change(t=>{a&&c<=a&&t.setAttribute("headingColumns",a-1,o);for(const{cell:e,column:n,colspan:i}of u)n<=d&&i>1&&n+i>d?Object(r["c"])("colspan",i-1,e,t):n===d&&t.remove(e)})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class H extends R["a"]{refresh(){const t=this.editor.model,e=t.document,n=e.selection,i=n.getFirstPosition(),s=Object(r["b"])("tableCell",i),o=!!s;this.isEnabled=o,this.value=o&&this._isInHeading(s,s.parent.parent)}execute(){const t=this.editor.model,e=t.document,n=e.selection,i=n.getFirstPosition(),s=Object(r["b"])("tableCell",i),o=s.parent,a=o.parent,c=a.getAttribute("headingRows")||0,l=o.index,u=c>l?l:l+1;t.change(t=>{if(u){const e=W(a,u,c);for(const n of e)J(n,u,t)}Object(r["c"])("headingRows",u,a,t,0)})}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingRows")||0);return!!n&&t.parent.index<n}}function W(t,e,n){const i=[],r=e>n?n:0,s=e-1,o=new l(t,{startRow:r,endRow:s});for(const{row:a,rowspan:c,cell:l}of o)c>1&&a+c>e&&i.push(l);return i}function J(t,e,n){const i=t.parent,s=i.parent,o=i.index,a=parseInt(t.getAttribute("rowspan")),c=e-o,u={},h=a-c;h>1&&(u.rowspan=h);const d=s.getChildIndex(i),f=d+c,p=[...new l(s,{startRow:d,endRow:f,includeSpanned:!0})];let m;for(const{row:l,column:g,cell:b,colspan:v,cellIndex:w}of p)if(b===t&&(m=g,v>1&&(u.colspan=v)),void 0!==m&&m===g&&l===f){const t=s.getChild(l),e=n.createPositionAt(t,w);Object(r["a"])(n,e,u)}Object(r["c"])("rowspan",c,t,n)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class Y extends R["a"]{refresh(){const t=this.editor.model,e=t.document,n=e.selection,i=n.getFirstPosition(),s=Object(r["b"])("tableCell",i),o=!!s;this.isEnabled=o,this.value=o&&this._isInHeading(s,s.parent.parent)}execute(){const t=this.editor.model,e=t.document,n=e.selection,i=this.editor.plugins.get("TableUtils"),s=n.getFirstPosition(),o=Object(r["b"])("tableCell",s.parent),a=o.parent,c=a.parent,l=parseInt(c.getAttribute("headingColumns")||0),{column:u}=i.getCellLocation(o),h=l>u?u:u+1;t.change(t=>{Object(r["c"])("headingColumns",h,c,t,0)})}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingColumns")||0),i=this.editor.plugins.get("TableUtils"),{column:r}=i.getCellLocation(t);return!!n&&r<n}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class G extends i["a"]{static get pluginName(){return"TableUtils"}getCellLocation(t){const e=t.parent,n=e.parent,i=n.getChildIndex(e),r=new l(n,{startRow:i,endRow:i});for(const{cell:s,row:o,column:a}of r)if(s===t)return{row:o,column:a}}createTable(t,e,n){const i=t.createElement("table");return K(t,i,0,e,n),i}insertRows(t,e={}){const n=this.editor.model,i=e.at||0,r=e.rows||1;n.change(e=>{const n=t.getAttribute("headingRows")||0;if(n>i&&e.setAttribute("headingRows",n+r,t),0===i||i===t.childCount)return void K(e,t,i,r,this.getColumns(t));const s=new l(t,{endRow:i});let o=0;for(const{row:t,rowspan:a,colspan:c,cell:l}of s){const n=t<i,s=t+a>i;n&&s&&e.setAttribute("rowspan",a+r,l),t===i&&(o+=c)}K(e,t,i,r,o)})}insertColumns(t,e={}){const n=this.editor.model,i=e.at||0,r=e.columns||1;n.change(e=>{const n=t.getAttribute("headingColumns");i<n&&e.setAttribute("headingColumns",n+r,t);const s=this.getColumns(t);if(0===i||s===i){for(const n of t.getChildren())X(r,e,e.createPositionAt(n,i?"end":0));return}const o=new l(t,{column:i,includeSpanned:!0});for(const{row:a,column:c,cell:l,colspan:u,rowspan:h,cellIndex:d}of o)if(c!==i){if(e.setAttribute("colspan",u+r,l),o.skipRow(a),h>1)for(let t=a+1;t<a+h;t++)o.skipRow(t)}else{const n=e.createPositionAt(t.getChild(a),d);X(r,e,n)}})}splitCellVertically(t,e=2){const n=this.editor.model,i=t.parent,s=i.parent,o=parseInt(t.getAttribute("rowspan")||1),a=parseInt(t.getAttribute("colspan")||1);n.change(n=>{if(a>1){const{newCellsSpan:i,updatedSpan:s}=Q(a,e);Object(r["c"])("colspan",s,t,n);const c={};i>1&&(c.colspan=i),o>1&&(c.rowspan=o);const l=a>e?e-1:a-1;X(l,n,n.createPositionAfter(t),c)}if(a<e){const i=e-a,c=[...new l(s)],{column:u}=c.find(({cell:e})=>e===t),h=c.filter(({cell:e,colspan:n,column:i})=>{const r=e!==t&&i===u,s=i<u&&i+n>u;return r||s});for(const{cell:t,colspan:e}of h)n.setAttribute("colspan",e+i,t);const d={};o>1&&(d.rowspan=o),X(i,n,n.createPositionAfter(t),d);const f=s.getAttribute("headingColumns")||0;f>u&&Object(r["c"])("headingColumns",f+i,s,n)}})}splitCellHorizontally(t,e=2){const n=this.editor.model,i=t.parent,s=i.parent,o=s.getChildIndex(i),a=parseInt(t.getAttribute("rowspan")||1),c=parseInt(t.getAttribute("colspan")||1);n.change(n=>{if(a>1){const i=[...new l(s,{startRow:o,endRow:o+a-1,includeSpanned:!0})],{newCellsSpan:u,updatedSpan:h}=Q(a,e);Object(r["c"])("rowspan",h,t,n);const{column:d}=i.find(({cell:e})=>e===t),f={};u>1&&(f.rowspan=u),c>1&&(f.colspan=c);for(const{column:t,row:e,cellIndex:r}of i){const i=e>=o+h,a=t===d,c=(e+o+h)%u===0;if(i&&a&&c){const t=n.createPositionAt(s.getChild(e),r);X(1,n,t,f)}}}if(a<e){const i=e-a,u=[...new l(s,{startRow:0,endRow:o})];for(const{cell:e,rowspan:r,row:s}of u)if(e!==t&&s+r>o){const t=r+i;n.setAttribute("rowspan",t,e)}const h={};c>1&&(h.colspan=c),K(n,s,o+1,i,1,h);const d=s.getAttribute("headingRows")||0;d>o&&Object(r["c"])("headingRows",d+i,s,n)}})}getColumns(t){const e=t.getChild(0);return[...e.getChildren()].reduce((t,e)=>{const n=parseInt(e.getAttribute("colspan")||1);return t+n},0)}}function K(t,e,n,i,r,s={}){for(let o=0;o<i;o++){const i=t.createElement("tableRow");t.insert(i,e,n),X(r,t,t.createPositionAt(i,"end"),s)}}function X(t,e,n,i={}){for(let s=0;s<t;s++)Object(r["a"])(e,n,i)}function Q(t,e){if(t<e)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(t/e),i=t-n*e+n;return{newCellsSpan:n,updatedSpan:i}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function Z(t){t.document.registerPostFixer(e=>tt(e,t))}function tt(t,e){const n=e.document.differ.getChanges();let i=!1;const s=new Set;for(const o of n){let e;"table"==o.name&&"insert"==o.type&&(e=o.position.nodeAfter),"tableRow"!=o.name&&"tableCell"!=o.name||(e=Object(r["b"])("table",o.position)),st(o)&&(e=Object(r["b"])("table",o.range.start)),e&&!s.has(e)&&(i=et(e,t)||i,i=nt(e,t)||i,s.add(e))}return i}function et(t,e){let n=!1;const i=it(t);if(i.length){n=!0;for(const t of i)Object(r["c"])("rowspan",t.rowspan,t.cell,e,1)}return n}function nt(t,e){let n=!1;const i=rt(t),s=i[0],o=Object.values(i).every(t=>t===s);if(!o){const s=Object.values(i).reduce((t,e)=>e>t?e:t,0);for(const[o,a]of Object.entries(i)){const i=s-a;if(i){for(let n=0;n<i;n++)Object(r["a"])(e,e.createPositionAt(t.getChild(o),"end"));n=!0}}}return n}function it(t){const e=parseInt(t.getAttribute("headingRows")||0),n=t.childCount,i=[];for(const{row:r,rowspan:s,cell:o}of new l(t)){if(s<2)continue;const t=r<e,a=t?e:n;if(r+s>a){const t=a-r;i.push({cell:o,rowspan:t})}}return i}function rt(t){const e={};for(const{row:n}of new l(t,{includeSpanned:!0}))e[n]||(e[n]=0),e[n]+=1;return e}function st(t){const e="attribute"===t.type,n=t.attributeKey;return e&&("headingRows"===n||"colspan"===n||"rowspan"===n)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function ot(t){t.document.registerPostFixer(e=>at(e,t))}function at(t,e){const n=e.document.differ.getChanges();let i=!1;for(const r of n)"remove"==r.type&&r.position.parent.is("tableCell")&&(i=ut(r.position.parent,t)||i),"insert"==r.type&&("table"==r.name&&(i=ct(r.position.nodeAfter,t)||i),"tableRow"==r.name&&(i=lt(r.position.nodeAfter,t)||i),"tableCell"==r.name&&(i=ut(r.position.nodeAfter,t)||i));return i}function ct(t,e){let n=!1;for(const i of t.getChildren())n=lt(i,e)||n;return n}function lt(t,e){let n=!1;for(const i of t.getChildren())n=ut(i,e)||n;return n}function ut(t,e){if(0==t.childCount)return e.insertElement("paragraph",t),!0;const n=Array.from(t.getChildren()).filter(t=>t.is("text"));for(const i of n)e.wrap(e.createRangeOn(i),"paragraph");return!!n.length}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function ht(t,e){e.view.document.registerPostFixer(n=>dt(n,t,e.mapper,e.view))}function dt(t,e,n,i){let r=!1;const s=ft(i);for(const o of s)r=pt(o,n,t)||r;return r&&vt(e.document.selection,n,t),r}function ft(t){const e=Array.from(t._renderer.markedAttributes).filter(t=>!!t.parent).filter(gt).filter(t=>bt(t.parent)),n=Array.from(t._renderer.markedChildren).filter(t=>!!t.parent).filter(bt).reduce((t,e)=>{const n=Array.from(e.getChildren()).filter(gt);return[...t,...n]},[]);return[...e,...n]}function pt(t,e,n){const i=e.toModelElement(t),r=mt(i.parent,i);if(t.name!==r){e.unbindViewElement(t);const s=n.rename(r,t);return e.bindElements(i,s),!0}return!1}function mt(t,e){const n=t.childCount>1,i=!![...e.getAttributes()].length;return n||i?"p":"span"}function gt(t){return t.is("p")||t.is("span")}function bt(t){return t.is("td")||t.is("th")}function vt(t,e,n){const i=Array.from(t.getRanges()).map(t=>e.toViewRange(t));n.setSelection(i,{backward:t.isBackward})}n("4230");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class wt extends i["a"]{init(){const t=this.editor,e=t.model,n=e.schema,i=t.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0}),n.extend("$block",{allowIn:"tableCell"}),n.addChildCheck((t,e)=>{if("table"==e.name&&Array.from(t.getNames()).includes("table"))return!1}),i.for("upcast").add(s()),i.for("editingDowncast").add(d({asWidget:!0})),i.for("dataDowncast").add(d()),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("editingDowncast").add(f({asWidget:!0})),i.for("dataDowncast").add(f()),i.for("downcast").add(b()),i.for("upcast").add(o("td")),i.for("upcast").add(o("th")),i.for("editingDowncast").add(p({asWidget:!0})),i.for("dataDowncast").add(p()),i.attributeToAttribute({model:"colspan",view:"colspan"}),i.attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("editingDowncast").add(g({asWidget:!0})),i.for("dataDowncast").add(g()),i.for("editingDowncast").add(m({asWidget:!0})),i.for("dataDowncast").add(m()),ht(t.model,t.editing),t.commands.add("insertTable",new I(t)),t.commands.add("insertTableRowAbove",new j(t,{order:"above"})),t.commands.add("insertTableRowBelow",new j(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new M(t,{order:"left"})),t.commands.add("insertTableColumnRight",new M(t,{order:"right"})),t.commands.add("removeTableRow",new z(t)),t.commands.add("removeTableColumn",new q(t)),t.commands.add("splitTableCellVertically",new B(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new B(t,{direction:"horizontally"})),t.commands.add("mergeTableCellRight",new D(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new D(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new D(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new D(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new Y(t)),t.commands.add("setTableRowHeader",new H(t)),Z(e),ot(e),this.editor.keystrokes.set("Tab",(...t)=>this._handleTabOnSelectedTable(...t),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"})}static get requires(){return[G]}_handleTabOnSelectedTable(t,e){const n=this.editor,i=n.model.document.selection;if(!i.isCollapsed&&1===i.rangeCount&&i.getFirstRange().isFlat){const t=i.getSelectedElement();if(!t||!t.is("table"))return;e(),n.model.change(e=>{e.setSelection(e.createRangeIn(t.getChild(0).getChild(0)))})}}_getTabHandler(t){const e=this.editor;return(n,i)=>{const s=e.model.document.selection,o=s.getFirstPosition(),a=Object(r["b"])("tableCell",o);if(!a)return;i();const c=a.parent,l=c.parent,u=l.getChildIndex(c),h=c.getChildIndex(a),d=0===h;if(!t&&d&&0===u)return;const f=h===c.childCount-1,p=u===l.childCount-1;let m;if(t&&p&&f&&e.plugins.get("TableUtils").insertRows(l,{at:l.childCount}),t&&f){const t=l.getChild(u+1);m=t.getChild(0)}else if(!t&&d){const t=l.getChild(u-1);m=t.getChild(t.childCount-1)}else m=c.getChild(h+(t?1:-1));e.model.change(t=>{t.setSelection(t.createRangeIn(m))})}}}var yt=n("ceea"),xt=n("6a40"),_t=n("67b9"),kt=n("940e");n("aeed");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class Ct extends kt["a"]{constructor(t){super(t);const e=this.bindTemplate;this.items=this.createCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(t,e)=>`${e} x ${t}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:e.to("label")}]}],on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(()=>{this.fire("execute")})}});for(let n=0;n<100;n++){const t=new At;t.on("over",()=>{const t=Math.floor(n/10),e=n%10;this.set("rows",t+1),this.set("columns",e+1)}),this.items.add(t)}this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map((n,i)=>{const r=Math.floor(i/10),s=i%10,o=r<t&&s<e;n.set("isOn",o)})}}class At extends kt["a"]{constructor(t){super(t);const e=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",e.if("isOn","ck-on")]},on:{mouseover:e.to("over")}})}}var Tt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',Ot='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',Et='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',Pt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class St extends i["a"]{init(){const t=this.editor,e=this.editor.t;t.ui.componentFactory.add("insertTable",n=>{const i=t.commands.get("insertTable"),r=Object(yt["c"])(n);r.bind("isEnabled").to(i),r.buttonView.set({icon:Tt,label:e("Insert table"),tooltip:!0});const s=new Ct(n);return r.panelView.children.add(s),s.delegate("execute").to(r),r.buttonView.on("open",()=>{s.rows=0,s.columns=0}),r.on("execute",()=>{t.execute("insertTable",{rows:s.rows,columns:s.columns}),t.editing.view.focus()}),r}),t.ui.componentFactory.add("tableColumn",t=>{const n=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableColumnLeft",label:e("Insert column left")}},{type:"button",model:{commandName:"insertTableColumnRight",label:e("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:e("Delete column")}}];return this._prepareDropdown(e("Column"),Ot,n,t)}),t.ui.componentFactory.add("tableRow",t=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowBelow",label:e("Insert row below")}},{type:"button",model:{commandName:"insertTableRowAbove",label:e("Insert row above")}},{type:"button",model:{commandName:"removeTableRow",label:e("Delete row")}}];return this._prepareDropdown(e("Row"),Et,n,t)}),t.ui.componentFactory.add("mergeTableCells",t=>{const n=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("Merge cell up")}},{type:"button",model:{commandName:"mergeTableCellRight",label:e("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("Merge cell down")}},{type:"button",model:{commandName:"mergeTableCellLeft",label:e("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("Split cell horizontally")}}];return this._prepareDropdown(e("Merge cells"),Pt,n,t)})}_prepareDropdown(t,e,n,i){const r=this.editor,s=Object(yt["c"])(i),o=[],a=new _t["a"];for(const c of n)Rt(c,r,o,a);return Object(yt["a"])(s,a),s.buttonView.set({label:t,icon:e,tooltip:!0}),s.bind("isEnabled").toMany(o,"isEnabled",(...t)=>{return t.some(t=>t)}),this.listenTo(s,"execute",t=>{r.execute(t.source.commandName),r.editing.view.focus()}),s}}function Rt(t,e,n,i){const r=t.model=new xt["a"](t.model),{commandName:s,bindIsOn:o}=t.model;if("separator"!==t.type){const t=e.commands.get(s);n.push(t),r.set({commandName:s}),r.bind("isEnabled").to(t),o&&r.bind("isOn").to(t,"value")}r.set({withText:!0}),i.add(t)}var It=n("bf50");n("6aed");n.d(e,"a",function(){return Nt});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class Nt extends i["a"]{static get requires(){return[wt,St,It["a"]]}static get pluginName(){return"Table"}}},"644e":function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(t,...e){e.forEach(e=>{Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(n=>{if(n in t.prototype)return;const i=Object.getOwnPropertyDescriptor(e,n);i.enumerable=!1,Object.defineProperty(t.prototype,n,i)})})}n.d(e,"a",function(){return i})},6472:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("6c92"),r=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s extends i["a"]{constructor(t,e,n,i,r){super(r),this.root=t,this.key=e,this.oldValue=n,this.newValue=i}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new s(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new s(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new r["b"]("rootattribute-operation-not-a-root: The element to change is not a root element.",{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new r["b"]("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new r["b"]("rootattribute-operation-attribute-exists: The attribute with given key already exists.",{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new r["b"]("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",{rootName:t.root});return new s(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}},"652f":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("d4e1"),r=n("644e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s{constructor(t){this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"}),this.listenTo(t,"change:isReadOnly",(t,e,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",o,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",o),this.refresh())}execute(){}destroy(){this.stopListening()}}function o(t){t.return=!1,t.stop()}Object(r["a"])(s,i["a"])},6649:function(t,e,n){},"67b9":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("da0d"),r=n("f2ea"),s=n("ed4a"),o=n("644e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class a{constructor(t={}){this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){let n;const i=this._idProperty;if(i in t){if(n=t[i],"string"!=typeof n)throw new r["b"]("collection-add-invalid-id");if(this.get(n))throw new r["b"]("collection-add-item-already-exists")}else t[i]=n=Object(s["a"])();if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new r["b"]("collection-add-item-invalid-index");return this._items.splice(e,0,t),this._itemMap.set(n,t),this.fire("add",t,e),this}get(t){let e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new r["b"]("collection-get-invalid-arg: Index or id must be given.");e=this._items[t]}return e||null}has(t){if("string"==typeof t)return this._itemMap.has(t);{const e=this._idProperty,n=t[e];return this._itemMap.has(n)}}getIndex(t){let e;return e="string"==typeof t?this._itemMap.get(t):t,this._items.indexOf(e)}remove(t){let e,n,i,s=!1;const o=this._idProperty;if("string"==typeof t?(n=t,i=this._itemMap.get(n),s=!i,i&&(e=this._items.indexOf(i))):"number"==typeof t?(e=t,i=this._items[e],s=!i,i&&(n=i[o])):(i=t,n=i[o],e=this._items.indexOf(i),s=-1==e||!this._itemMap.get(n)),s)throw new r["b"]("collection-remove-404: Item not found.");this._items.splice(e,1),this._itemMap.delete(n);const a=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(a),this.fire("remove",i,e),i}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);while(this.length)this.remove(0)}bindTo(t){if(this._bindToCollection)throw new r["b"]("collection-bind-to-rebind: The collection cannot be bound more than once.");return this._bindToCollection=t,{as:t=>{this._setUpBindToBinding(e=>new t(e))},using:t=>{"function"==typeof t?this._setUpBindToBinding(e=>t(e)):this._setUpBindToBinding(e=>e[t])}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(n,i,r)=>{const s=e._bindToCollection==this,o=e._bindToInternalToExternalMap.get(i);if(s&&o)this._bindToExternalToInternalMap.set(i,o),this._bindToInternalToExternalMap.set(o,i);else{const n=t(i);if(!n)return void this._skippedIndexesFromExternal.push(r);let s=r;for(const t of this._skippedIndexesFromExternal)r>t&&s--;for(const t of e._skippedIndexesFromExternal)s>=t&&s++;this._bindToExternalToInternalMap.set(i,n),this._bindToInternalToExternalMap.set(n,i),this.add(n,s);for(let t=0;t<e._skippedIndexesFromExternal.length;t++)s<=e._skippedIndexesFromExternal[t]&&e._skippedIndexesFromExternal[t]++}};for(const i of e)n(null,i,e.getIndex(i));this.listenTo(e,"add",n),this.listenTo(e,"remove",(t,e,n)=>{const i=this._bindToExternalToInternalMap.get(e);i&&this.remove(i),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((t,e)=>{return n<e&&t.push(e-1),n>e&&t.push(e),t},[])})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}Object(o["a"])(a,i["c"])},6896:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("61f1");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,Object(i["a"])(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}},6897:function(t,e,n){"use strict";function i(){this._listeners={}}t.exports=i,i.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},i.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],i=0;i<n.length;)n[i].fn===e?n.splice(i,1):++i;return this},i.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<e.length;)e[i].fn.apply(e[i++].ctx,n)}return this}},"6a40":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("644e"),r=n("d4e1"),s=n("61f1");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o{constructor(t,e){e&&Object(s["a"])(this,e),t&&this.set(t)}}Object(i["a"])(o,r["a"])},"6a44":function(t,e,n){var i=n("01d3"),r=n("d33e"),s=n("0a5e"),o=n("0882");function a(t){var e,n=!1,o=!1,a=!1!==t.jsonp;if("undefined"!==typeof location){var c="https:"===location.protocol,l=location.port;l||(l=c?443:80),n=t.hostname!==location.hostname||l!==t.port,o=t.secure!==c}if(t.xdomain=n,t.xscheme=o,e=new i(t),"open"in e&&!t.forceJSONP)return new r(t);if(!a)throw new Error("JSONP disabled");return new s(t)}e.polling=a,e.websocket=o},"6aed":function(t,e,n){},"6b6f":function(t,e,n){const i=n("193c");class r extends i{constructor(t){super(),this["exists"]=t}["toJSON"](){return{exists:!!this["exists"]}}static get["DESCRIPTOR_NAME"](){return"ExistsResponse"}static get["DESCRIPTOR"](){return{fields:{exists:{type:"bool",id:1}}}}static["fromJSON"](t){return new r(!!t["exists"])}}t["exports"]=r},"6c30":function(t,e,n){"use strict";var i=e;function r(){i.Reader._configure(i.BufferReader),i.util._configure()}i.build="minimal",i.Writer=n("0c83"),i.BufferWriter=n("dc6f"),i.Reader=n("2110"),i.BufferReader=n("9564"),i.util=n("e938"),i.rpc=n("01b1"),i.roots=n("064a"),i.configure=r,i.Writer._configure(i.BufferWriter),r()},"6c92":function(t,e,n){"use strict";n.d(e,"a",function(){return i});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class i{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t){return new this(t.baseVersion)}}},"6cdf":function(t,e,n){},"6d55":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7d4a"),r=n("644e"),s=n("da0d");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o{constructor(t=null,e,n){this._selection=new i["a"],this._selection.delegate("change").to(this),this._selection.setTo(t,e,n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}is(t){return"selection"==t||"documentSelection"==t}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setFocus(t,e){this._selection.setFocus(t,e)}}Object(r["a"])(o,s["c"])},"6e75":function(t,e,n){"use strict";var i=e;i.length=function(t){var e=t.length;if(!e)return 0;var n=0;while(--e%4>1&&"="===t.charAt(e))++n;return Math.ceil(3*t.length)/4-n};for(var r=new Array(64),s=new Array(123),o=0;o<64;)s[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;i.encode=function(t,e,n){var i,s=null,o=[],a=0,c=0;while(e<n){var l=t[e++];switch(c){case 0:o[a++]=r[l>>2],i=(3&l)<<4,c=1;break;case 1:o[a++]=r[i|l>>4],i=(15&l)<<2,c=2;break;case 2:o[a++]=r[i|l>>6],o[a++]=r[63&l],c=0;break}a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0)}return c&&(o[a++]=r[i],o[a++]=61,1===c&&(o[a++]=61)),s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var a="invalid encoding";i.decode=function(t,e,n){for(var i,r=n,o=0,c=0;c<t.length;){var l=t.charCodeAt(c++);if(61===l&&o>1)break;if(void 0===(l=s[l]))throw Error(a);switch(o){case 0:i=l,o=1;break;case 1:e[n++]=i<<2|(48&l)>>4,i=l,o=2;break;case 2:e[n++]=(15&i)<<4|(60&l)>>2,i=l,o=3;break;case 3:e[n++]=(3&i)<<6|l,o=0;break}}if(1===o)throw Error(a);return n-r},i.test=function(t){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t)}},"6ecf":function(t,e,n){"use strict";t.exports=v;var i=n("7e07");((v.prototype=Object.create(i.prototype)).constructor=v).className="Type";var r=n("bd11"),s=n("77ea"),o=n("a6a3"),a=n("82e8"),c=n("7474"),l=n("1bcb"),u=n("2110"),h=n("0c83"),d=n("cbd3"),f=n("76ab"),p=n("dd7c"),m=n("2a57"),g=n("0568"),b=n("f412");function v(t,e){i.call(this,t,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function w(t){return t._fieldsById=t._fieldsArray=t._oneofsArray=null,delete t.encode,delete t.decode,delete t.verify,t}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var n=this.fields[t[e]],i=n.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=d.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=d.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(t){var e=t.prototype;e instanceof l||((t.prototype=new l).constructor=t,d.merge(t.prototype,e)),t.$type=t.prototype.$type=this,d.merge(t,l,!0),this._ctor=t;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var i={};for(n=0;n<this.oneofsArray.length;++n)i[this._oneofsArray[n].resolve().name]={get:d.oneOfGetter(this._oneofsArray[n].oneof),set:d.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(t.prototype,i)}}}),v.generateConstructor=function(t){for(var e,n=d.codegen(["p"],t.name),i=0;i<t.fieldsArray.length;++i)(e=t._fieldsArray[i]).map?n("this%s={}",d.safeProp(e.name)):e.repeated&&n("this%s=[]",d.safeProp(e.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},v.fromJSON=function(t,e){var n=new v(t,e.options);n.extensions=e.extensions,n.reserved=e.reserved;for(var l=Object.keys(e.fields),u=0;u<l.length;++u)n.add(("undefined"!==typeof e.fields[l[u]].keyType?a.fromJSON:o.fromJSON)(l[u],e.fields[l[u]]));if(e.oneofs)for(l=Object.keys(e.oneofs),u=0;u<l.length;++u)n.add(s.fromJSON(l[u],e.oneofs[l[u]]));if(e.nested)for(l=Object.keys(e.nested),u=0;u<l.length;++u){var h=e.nested[l[u]];n.add((void 0!==h.id?o.fromJSON:void 0!==h.fields?v.fromJSON:void 0!==h.values?r.fromJSON:void 0!==h.methods?c.fromJSON:i.fromJSON)(l[u],h))}return e.extensions&&e.extensions.length&&(n.extensions=e.extensions),e.reserved&&e.reserved.length&&(n.reserved=e.reserved),e.group&&(n.group=!0),e.comment&&(n.comment=e.comment),n},v.prototype.toJSON=function(t){var e=i.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return d.toObject(["options",e&&e.options||void 0,"oneofs",i.arrayToJSON(this.oneofsArray,t),"fields",i.arrayToJSON(this.fieldsArray.filter(function(t){return!t.declaringField}),t)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",e&&e.nested||void 0,"comment",n?this.comment:void 0])},v.prototype.resolveAll=function(){var t=this.fieldsArray,e=0;while(e<t.length)t[e++].resolve();var n=this.oneofsArray;e=0;while(e<n.length)n[e++].resolve();return i.prototype.resolveAll.call(this)},v.prototype.get=function(t){return this.fields[t]||this.oneofs&&this.oneofs[t]||this.nested&&this.nested[t]||null},v.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof o&&void 0===t.extend){if(this._fieldsById?this._fieldsById[t.id]:this.fieldsById[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name '"+t.name+"' is reserved in "+this);return t.parent&&t.parent.remove(t),this.fields[t.name]=t,t.message=this,t.onAdd(this),w(this)}return t instanceof s?(this.oneofs||(this.oneofs={}),this.oneofs[t.name]=t,t.onAdd(this),w(this)):i.prototype.add.call(this,t)},v.prototype.remove=function(t){if(t instanceof o&&void 0===t.extend){if(!this.fields||this.fields[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.fields[t.name],t.parent=null,t.onRemove(this),w(this)}if(t instanceof s){if(!this.oneofs||this.oneofs[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.oneofs[t.name],t.parent=null,t.onRemove(this),w(this)}return i.prototype.remove.call(this,t)},v.prototype.isReservedId=function(t){return i.isReservedId(this.reserved,t)},v.prototype.isReservedName=function(t){return i.isReservedName(this.reserved,t)},v.prototype.create=function(t){return new this.ctor(t)},v.prototype.setup=function(){for(var t=this.fullName,e=[],n=0;n<this.fieldsArray.length;++n)e.push(this._fieldsArray[n].resolve().resolvedType);this.encode=f(this)({Writer:h,types:e,util:d}),this.decode=p(this)({Reader:u,types:e,util:d}),this.verify=m(this)({types:e,util:d}),this.fromObject=g.fromObject(this)({types:e,util:d}),this.toObject=g.toObject(this)({types:e,util:d});var i=b[t];if(i){var r=Object.create(this);r.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(r),r.toObject=this.toObject,this.toObject=i.toObject.bind(r)}return this},v.prototype.encode=function(t,e){return this.setup().encode(t,e)},v.prototype.encodeDelimited=function(t,e){return this.encode(t,e&&e.len?e.fork():e).ldelim()},v.prototype.decode=function(t,e){return this.setup().decode(t,e)},v.prototype.decodeDelimited=function(t){return t instanceof u||(t=u.create(t)),this.decode(t,t.uint32())},v.prototype.verify=function(t){return this.setup().verify(t)},v.prototype.fromObject=function(t){return this.setup().fromObject(t)},v.prototype.toObject=function(t,e){return this.setup().toObject(t,e)},v.d=function(t){return function(e){d.decorateType(e,t)}}},"703e":function(t,e,n){var i=n("e3db"),r=n("f922"),s=Object.prototype.toString,o="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===s.call(Blob),a="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===s.call(File);function c(t,e){if(!t)return t;if(r(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(i(t)){for(var s=new Array(t.length),o=0;o<t.length;o++)s[o]=c(t[o],e);return s}if("object"===typeof t&&!(t instanceof Date)){s={};for(var a in t)s[a]=c(t[a],e);return s}return t}function l(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(i(t))for(var n=0;n<t.length;n++)t[n]=l(t[n],e);else if("object"===typeof t)for(var r in t)t[r]=l(t[r],e);return t}e.deconstructPacket=function(t){var e=[],n=t.data,i=t;return i.data=c(n,e),i.attachments=e.length,{packet:i,buffers:e}},e.reconstructPacket=function(t,e){return t.data=l(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){function n(t,l,u){if(!t)return t;if(o&&t instanceof Blob||a&&t instanceof File){s++;var h=new FileReader;h.onload=function(){u?u[l]=this.result:c=this.result,--s||e(c)},h.readAsArrayBuffer(t)}else if(i(t))for(var d=0;d<t.length;d++)n(t[d],d,t);else if("object"===typeof t&&!r(t))for(var f in t)n(t[f],f,t)}var s=0,c=t;n(c),s||e(c)}},7041:function(t,e,n){"use strict";var i=n("109b"),r=n("cb3e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const s="underline";class o extends i["a"]{init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:s}),t.model.schema.setAttributeProperties(s,{isFormatting:!0}),t.conversion.attributeToElement({model:s,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),t.commands.add(s,new r["a"](t,s)),t.keystrokes.set("CTRL+U","underline")}}var a=n("3707"),c='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zM5.2 10V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const l="underline";class u extends i["a"]{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(l,n=>{const i=t.commands.get(l),r=new a["a"](n);return r.set({label:e("Underline"),icon:c,keystroke:"CTRL+U",tooltip:!0}),r.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(r,"execute",()=>t.execute(l)),r})}}n.d(e,"a",function(){return h});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class h extends i["a"]{static get requires(){return[o,u]}static get pluginName(){return"Underline"}}},"709a":function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t,e=[]){super(),this["channel"]=t,this["sessions"]=e}["toJSON"](){return{channel:this["channel"],sessions:this["sessions"]}}static get["DESCRIPTOR_NAME"](){return"SessionsResponse"}static get["DESCRIPTOR"](){return{fields:{channel:{type:"string",id:1},sessions:{rule:"repeated",type:"SessionDescriptor",id:2}}}}static["fromJSON"](t){return new r(t["channel"],t["sessions"])}}t["exports"]=r},"70f2":function(t,e,n){var i=n("580f"),r=n("81fc"),s=n("8964"),o=n("c8d5"),a=n("7eea"),c=n("52cf");function l(t,e,n){var i=e?String(e):"YYYY-MM-DDTHH:mm:ss.SSSZ",r=n||{},s=r.locale,l=c.format.formatters,u=c.format.formattingTokensRegExp;s&&s.format&&s.format.formatters&&(l=s.format.formatters,s.format.formattingTokensRegExp&&(u=s.format.formattingTokensRegExp));var d=o(t);if(!a(d))return"Invalid Date";var f=h(i,l,u);return f(d)}var u={M:function(t){return t.getMonth()+1},MM:function(t){return p(t.getMonth()+1,2)},Q:function(t){return Math.ceil((t.getMonth()+1)/3)},D:function(t){return t.getDate()},DD:function(t){return p(t.getDate(),2)},DDD:function(t){return i(t)},DDDD:function(t){return p(i(t),3)},d:function(t){return t.getDay()},E:function(t){return t.getDay()||7},W:function(t){return r(t)},WW:function(t){return p(r(t),2)},YY:function(t){return p(t.getFullYear(),4).substr(2)},YYYY:function(t){return p(t.getFullYear(),4)},GG:function(t){return String(s(t)).substr(2)},GGGG:function(t){return s(t)},H:function(t){return t.getHours()},HH:function(t){return p(t.getHours(),2)},h:function(t){var e=t.getHours();return 0===e?12:e>12?e%12:e},hh:function(t){return p(u["h"](t),2)},m:function(t){return t.getMinutes()},mm:function(t){return p(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return p(t.getSeconds(),2)},S:function(t){return Math.floor(t.getMilliseconds()/100)},SS:function(t){return p(Math.floor(t.getMilliseconds()/10),2)},SSS:function(t){return p(t.getMilliseconds(),3)},Z:function(t){return f(t.getTimezoneOffset(),":")},ZZ:function(t){return f(t.getTimezoneOffset())},X:function(t){return Math.floor(t.getTime()/1e3)},x:function(t){return t.getTime()}};function h(t,e,n){var i,r,s=t.match(n),o=s.length;for(i=0;i<o;i++)r=e[s[i]]||u[s[i]],s[i]=r||d(s[i]);return function(t){for(var e="",n=0;n<o;n++)s[n]instanceof Function?e+=s[n](t,u):e+=s[n];return e}}function d(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|]$/g,""):t.replace(/\\/g,"")}function f(t,e){e=e||"";var n=t>0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),s=i%60;return n+p(r,2)+e+p(s,2)}function p(t,e){var n=Math.abs(t).toString();while(n.length<e)n="0"+n;return n}t.exports=l},7129:function(t,e,n){"use strict";var i=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function s(t,e){var n=typeof t;return e=null==e?i:e,!!e&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}e["a"]=s},7201:function(t,e,n){},7212:function(t,e,n){"use strict";var i=n("109b"),r=n("3707"),s=n("940e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o extends s["a"]{constructor(t){super(t),this.buttonView=new r["a"](t),this._fileInputView=new a(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class a extends s["a"]{constructor(t){super(t),this.set("acceptedType"),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}var c='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function l(t){const e=/^image\/(jpeg|png|gif|bmp)$/;return e.test(t.type)}function u(t){return new Promise((e,n)=>{const i=t.getAttribute("src");fetch(i).then(t=>t.blob()).then(t=>{const r=d(t,i),s=r.replace("image/",""),o=`image.${s}`,a=f(t,o,r);a?e(a):n()}).catch(n)})}function h(t){return!(!t.is("element","img")||!t.getAttribute("src"))&&(t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g))}function d(t,e){return t.type?t.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function f(t,e,n){try{return new File([t],e,{type:n})}catch(i){return null}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class p extends i["a"]{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageUpload",n=>{const i=new o(n),r=t.commands.get("imageUpload");return i.set({acceptedType:"image/*",allowMultipleFiles:!0}),i.buttonView.set({label:e("Insert image"),icon:c,tooltip:!0}),i.buttonView.bind("isEnabled").to(r),i.on("done",(e,n)=>{const i=Array.from(n).filter(l);i.length&&t.execute("imageUpload",{file:i})}),i})}}var m=n("32ea"),g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>',b=n("59a6");n("8030"),n("bcf9"),n("5f69");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class v extends i["a"]{constructor(t){super(t),this.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent(g)}init(){const t=this.editor;t.editing.downcastDispatcher.on("attribute:uploadStatus:image",(...t)=>this.uploadStatusChange(...t))}uploadStatusChange(t,e,n){const i=this.editor,r=e.item,s=r.getAttribute("uploadId");if(!n.consumable.consume(e.item,t.name))return;const o=i.plugins.get(m["a"]),a=s?e.attributeNewValue:null,c=this.placeholder,l=i.editing.mapper.toViewElement(r),u=n.writer;if("reading"==a)return w(l,u),void x(c,l,u);if("uploading"==a){const t=o.loaders.get(s);return w(l,u),void(t?(_(l,u),k(l,u,t,i.editing.view)):x(c,l,u))}"complete"==a&&o.loaders.get(s)&&!b["a"].isEdge&&A(l,u,i.editing.view),C(l,u),_(l,u),y(l,u)}}function w(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t)}function y(t,e){e.removeClass("ck-appear",t)}function x(t,e,n){e.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",e);const i=e.getChild(0);i.getAttribute("src")!==t&&n.setAttribute("src",t,i),E(e,"placeholder")||n.insert(n.createPositionAfter(i),O(n))}function _(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),P(t,e,"placeholder")}function k(t,e,n,i){const r=T(e);e.insert(e.createPositionAt(t,"end"),r),n.on("change:uploadedPercent",(t,e,n)=>{i.change(t=>{t.setStyle("width",n+"%",r)})})}function C(t,e){P(t,e,"progressBar")}function A(t,e,n){const i=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),i),setTimeout(()=>{n.change(t=>t.remove(t.createRangeOn(i)))},3e3)}function T(t){const e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty("progressBar",!0,e),e}function O(t){const e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,e),e}function E(t,e){for(const n of t.getChildren())if(n.getCustomProperty(e))return n}function P(t,e,n){const i=E(t,n);i&&e.remove(e.createRangeOn(i))}var S=n("aaa8"),R=n("bae8"),I=n("652f"),N=n("beb5");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class j extends I["a"]{refresh(){this.isEnabled=Object(N["d"])(this.editor.model)}execute(t){const e=this.editor,n=e.model,i=e.plugins.get(m["a"]);n.change(e=>{const r=Array.isArray(t.file)?t.file:[t.file];for(const t of r)M(e,n,i,t)})}}function M(t,e,n,i){const r=n.createLoader(i);r&&Object(N["b"])(t,e,{uploadId:r.id})}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class B extends i["a"]{static get requires(){return[m["a"],S["a"]]}init(){const t=this.editor,e=t.model.document,n=t.model.schema,i=t.conversion,r=t.plugins.get(m["a"]);n.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),t.commands.add("imageUpload",new j(t)),i.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(e,n)=>{if(D(n.dataTransfer))return;const i=Array.from(n.dataTransfer.files).filter(t=>{return!!t&&l(t)}),r=n.targetRanges.map(e=>t.editing.mapper.toModelRange(e));t.model.change(n=>{n.setSelection(r),i.length&&(e.stop(),t.model.enqueueChange("default",()=>{t.execute("imageUpload",{file:i})}))})}),t.plugins.has("Clipboard")&&this.listenTo(t.plugins.get("Clipboard"),"inputTransformation",(e,n)=>{const i=Array.from(t.editing.view.createRangeIn(n.content)).filter(t=>h(t.item)&&!t.item.getAttribute("uploadProcessed")).map(t=>{return{promise:u(t.item),imageElement:t.item}});if(!i.length)return;const s=new R["a"];for(const t of i){s.setAttribute("uploadProcessed",!0,t.imageElement);const e=r.createLoader(t.promise);e&&(s.setAttribute("src","",t.imageElement),s.setAttribute("uploadId",e.id,t.imageElement))}}),t.editing.view.document.on("dragover",(t,e)=>{e.preventDefault()}),e.on("change",()=>{const t=e.differ.getChanges({includeChangesInGraveyard:!0});for(const e of t)if("insert"==e.type&&"image"==e.name){const t=e.position.nodeAfter,n="$graveyard"==e.position.root.rootName,i=t.getAttribute("uploadId");if(!i)continue;const s=r.loaders.get(i);if(!s)continue;n?s.abort():"idle"==s.status&&this._readAndUpload(s,t)}})}_readAndUpload(t,e){const n=this.editor,i=n.model,r=n.locale.t,s=n.plugins.get(m["a"]),o=n.plugins.get(S["a"]);return i.enqueueChange("transparent",t=>{t.setAttribute("uploadStatus","reading",e)}),t.read().then(r=>{const s=n.editing.mapper.toViewElement(e),o=s.getChild(0),a=t.upload();return n.editing.view.change(t=>{t.setAttribute("src",r,o)}),i.enqueueChange("transparent",t=>{t.setAttribute("uploadStatus","uploading",e)}),a}).then(t=>{i.enqueueChange("transparent",n=>{n.setAttributes({uploadStatus:"complete",src:t.default},e),this._parseAndSetSrcsetAttributeOnImage(t,e,n)}),a()}).catch(n=>{if("error"!==t.status&&"aborted"!==t.status)throw n;"error"==t.status&&n&&o.showWarning(n,{title:r("Upload failed"),namespace:"upload"}),a(),i.enqueueChange("transparent",t=>{t.remove(e)})});function a(){i.enqueueChange("transparent",t=>{t.removeAttribute("uploadId",e),t.removeAttribute("uploadStatus",e)}),s.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,e,n){let i=0;const r=Object.keys(t).filter(t=>{const e=parseInt(t,10);if(!isNaN(e))return i=Math.max(i,e),!0}).map(e=>`${t[e]} ${e}w`).join(", ");""!=r&&n.setAttribute("srcset",{data:r,width:i},e)}}function D(t){return Array.from(t.types).includes("text/html")&&""!==t.getData("text/html")}n.d(e,"a",function(){return V});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class V extends i["a"]{static get pluginName(){return"ImageUpload"}static get requires(){return[B,p,v]}}},7297:function(t,e,n){function i(t){if(t)return r(t)}function r(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if(n=i[r],n===e||n.fn===e){i.splice(r,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},"73f9":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("6c92"),r=n("ad6b"),s=n("f2ea"),o=n("dfe0"),a=n("32e8");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class c extends i["a"]{constructor(t,e,n,i,r){super(r),this.range=t.clone(),this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===i?null:i}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new c(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new c(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new s["b"]("attribute-operation-range-not-flat: The range to change is not flat.");for(const t of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!Object(a["a"])(t.getAttribute(this.key),this.oldValue))throw new s["b"]("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new s["b"]("attribute-operation-attribute-exists: The attribute with given key already exists.",{node:t,key:this.key})}}_execute(){Object(a["a"])(this.oldValue,this.newValue)||Object(o["e"])(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new c(r["a"].fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}},7474:function(t,e,n){"use strict";t.exports=a;var i=n("7e07");((a.prototype=Object.create(i.prototype)).constructor=a).className="Service";var r=n("0788"),s=n("cbd3"),o=n("01b1");function a(t,e){i.call(this,t,e),this.methods={},this._methodsArray=null}function c(t){return t._methodsArray=null,t}a.fromJSON=function(t,e){var n=new a(t,e.options);if(e.methods)for(var i=Object.keys(e.methods),s=0;s<i.length;++s)n.add(r.fromJSON(i[s],e.methods[i[s]]));return e.nested&&n.addJSON(e.nested),n.comment=e.comment,n},a.prototype.toJSON=function(t){var e=i.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return s.toObject(["options",e&&e.options||void 0,"methods",i.arrayToJSON(this.methodsArray,t)||{},"nested",e&&e.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}}),a.prototype.get=function(t){return this.methods[t]||i.prototype.get.call(this,t)},a.prototype.resolveAll=function(){for(var t=this.methodsArray,e=0;e<t.length;++e)t[e].resolve();return i.prototype.resolve.call(this)},a.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof r?(this.methods[t.name]=t,t.parent=this,c(this)):i.prototype.add.call(this,t)},a.prototype.remove=function(t){if(t instanceof r){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,c(this)}return i.prototype.remove.call(this,t)},a.prototype.create=function(t,e,n){for(var i,r=new o.Service(t,e,n),a=0;a<this.methodsArray.length;++a){var c=s.lcFirst((i=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");r[c]=s.codegen(["r","c"],s.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:i,q:i.resolvedRequestType.ctor,s:i.resolvedResponseType.ctor})}return r}},"74b5":function(t,e,n){"use strict";var i=Function.prototype,r=i.toString;function s(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}e["a"]=s},"74fe":function(t,e,n){},7559:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("109b"),r=n("f264"),s=n("2069"),o=n("da83"),a=n("aaa8"),c=["error","limitExceeded","code","fire","cloudservices-init: Internal WebSocketGateway error.","showWarning","The limit of maximum concurrent connections that the collaboration server can handle has been reached. Try opening the document again in a few minutes. Please contact your system administrator if the problem persists.","Connected users limit exceeded","change:me","catch","crash","cloudservices-init: WebSocketGateway connection error.","addToReconnectionStack","function","reconnect","Cannot add plugin with no `reconnect()` interface.","Plugin is already registered.","add","removeFromReconnectionStack","delete","isInReconnectionStack","all","from","cloudservices-reconnect: Reconnection error.","destroy","disconnect","stopListening","WebSocketGateway","requires","editor","plugins","documentId","token","The authentication `cloudServices.tokenUrl` config is required for creating a websocket connection.","set","_isBrowserOffline","create","listenTo","online","then","connection","state","connected","disconnected","connecting","bind","isReadOnly"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(c,216);var l=function(t,e){t-=0;var n=c[t];return n};class u extends i["a"]{static get[l("0x0")](){return[o["a"],a["a"]]}["init"](){const t=this[l("0x1")],e=t["plugins"]["get"](o["a"]),n=t[l("0x2")]["get"](a["a"]);if(this[l("0x3")]=e[l("0x3")],!this[l("0x3")])throw new Error("Unique `cloudServices.documentId` configuration is required for defining name for data stores. Note that application instances with the same documentId will share data each other.");if(!e[l("0x4")])throw new Error(l("0x5"));return this["set"]("state","connecting"),this[l("0x6")](l("0x7"),!1),this["q"]=new Set,this["N"]=!1,this["T"]=Object[l("0x8")](r["a"]),this["T"]["listenTo"](window,"offline",()=>this[l("0x7")]=!0),this["T"][l("0x9")](window,l("0xa"),()=>this["_isBrowserOffline"]=!1),u["WebSocketGateway"]["connect"](e[l("0x4")],e["webSocketUrl"],{disconnectOnUnload:!1})[l("0xb")](t=>{if(this[l("0xc")]=t,this["bind"](l("0xd"))["to"](t,l("0xd"),this,l("0x7"),(t,e)=>(l("0xe")!==t&&(this["N"]=!0),e?"disconnected":l("0xe")!==t?l("0xf"):l("0xf")==this[l("0xd")]&&this["N"]?(this["N"]=!1,this["B"](),l("0x10")):l("0xe"))),this[l("0x1")][l("0x11")](l("0x12"))["to"](this,l("0xd"),t=>l("0xe")!==t),this[l("0xc")]["on"](l("0x13"),(t,e)=>{l("0x14")!==e[l("0x15")]?this["editor"][l("0x16")]("crash",{message:l("0x17"),error:e}):n[l("0x18")](l("0x19"),{title:l("0x1a"),namespace:"real-time-collaboration"})}),!t["me"])return new Promise(e=>t["on"](l("0x1b"),e))})[l("0x1c")](t=>{this[l("0x1")][l("0x16")](l("0x1d"),{message:l("0x1e"),error:t})})}[l("0x1f")](t){if(l("0x20")!=typeof t[l("0x21")])throw new Error(l("0x22"));if(this["isInReconnectionStack"](t))throw new Error(l("0x23"));this["q"][l("0x24")](t)}[l("0x25")](t){this["q"][l("0x26")](t)}[l("0x27")](t){return this["q"]["has"](t)}["B"](){return this["connection"]["reconnect"]()[l("0xb")](()=>Promise[l("0x28")](Array[l("0x29")](this["q"],t=>t[l("0x21")]())))[l("0xb")](()=>this[l("0xd")]=l("0xe"))[l("0x1c")](t=>this[l("0x1")]["fire"](l("0x1d"),{message:l("0x2a"),error:t}))}[l("0x2b")](){this[l("0x1")][l("0x12")]=!0,this[l("0xc")]&&this["connection"][l("0x2c")](),this[l("0xd")]="disconnected",this["T"][l("0x2d")](),super[l("0x2b")]()}}u[l("0x2e")]=s["a"]},"758b":function(t,e,n){"use strict";var i=n("09f4"),r=4;function s(t){return Object(i["a"])(t,r)}e["a"]=s},"764b":function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var i in t)n.call(t,i)&&e.push(i);return e}},"768b":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("f264"),r=n("d4e1"),s=n("f2ea"),o=n("644e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class a{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(t){if(this._elements.has(t))throw new s["b"]("focusTracker-add-element-already-exist");this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}Object(o["a"])(a,i["a"]),Object(o["a"])(a,r["a"])},7695:function(t,e,n){"use strict";var i=n("109b"),r=n("652f");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s extends r["a"]{refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute("highlight"),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"highlight")}execute(t={}){const e=this.editor.model,n=e.document,i=n.selection,r=t.value;e.change(t=>{const n=e.schema.getValidRanges(i.getRanges(),"highlight");if(i.isCollapsed){const e=i.getFirstPosition();if(i.hasAttribute("highlight")){const n=t=>{return t.item.hasAttribute("highlight")&&t.item.getAttribute("highlight")===this.value},i=e.getLastMatchingPosition(n,{direction:"backward"}),s=e.getLastMatchingPosition(n),o=t.createRange(i,s);r&&this.value!==r?(t.setAttribute("highlight",r,o),t.setSelectionAttribute("highlight",r)):(t.removeAttribute("highlight",o),t.removeSelectionAttribute("highlight"))}else r&&t.setSelectionAttribute("highlight",r)}else for(const e of n)r?t.setAttribute("highlight",r,e):t.removeAttribute("highlight",e)})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class o extends i["a"]{constructor(t){super(t),t.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"highlight"});const e=t.config.get("highlight.options");t.conversion.attributeToElement(a(e)),t.commands.add("highlight",new s(t))}}function a(t){const e={model:{key:"highlight",values:[]},view:{}};for(const n of t)e.model.values.push(n.model),e.view[n.model]={name:"mark",classes:n.class};return e}var c=n("3707"),l='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59L3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="M2.556 16.727l.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415l1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656l-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5L9.59 17h9.406v1.5H8.245z"/></svg>',u='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268L2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="M4.5 18.088l-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166l-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5L9.59 17h9.406v1.5H8.245z"/></svg>',h=n("875d"),d=n("1000"),f=n("940e"),p=n("91db"),m=n("768b"),g=n("4ca4");n("74fe");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class b extends f["a"]{constructor(t){super(t);const e=this.bindTemplate;this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new p["a"],this.focusTracker=new m["a"],this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",e.if("isVisible","ck-hidden",t=>!t),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(t,e)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),e())}),this.keystrokes.set("arrowleft",(t,e)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),e())})}focus(){this.actionView.focus()}_createActionView(){const t=new c["a"];return t.bind("icon","isEnabled","isOn","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const t=new c["a"];return t.icon=g["a"],t.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0}}),t.bind("isEnabled").to(this),t.delegate("execute").to(this,"open"),t}}var v=n("ceea");n("955a");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class w extends i["a"]{get localizedOptionTitles(){const t=this.editor.t;return{"Yellow marker":t("Yellow marker"),"Green marker":t("Green marker"),"Pink marker":t("Pink marker"),"Blue marker":t("Blue marker"),"Red pen":t("Red pen"),"Green pen":t("Green pen")}}static get pluginName(){return"HighlightUI"}init(){const t=this.editor.config.get("highlight.options");for(const e of t)this._addHighlighterButton(e);this._addRemoveHighlightButton(),this._addDropdown(t)}_addRemoveHighlightButton(){const t=this.editor.t;this._addButton("removeHighlight",t("Remove highlight"),h["a"])}_addHighlighterButton(t){const e=this.editor.commands.get("highlight");function n(n){n.bind("isEnabled").to(e,"isEnabled"),n.bind("isOn").to(e,"value",e=>e===t.model),n.iconView.fillColor=t.color}this._addButton("highlight:"+t.model,t.title,x(t.type),t.model,n)}_addButton(t,e,n,i,r=(()=>{})){const s=this.editor;s.ui.componentFactory.add(t,t=>{const o=new c["a"](t),a=this.localizedOptionTitles[e]?this.localizedOptionTitles[e]:e;return o.set({label:a,icon:n,tooltip:!0}),o.on("execute",()=>{s.execute("highlight",{value:i}),s.editing.view.focus()}),r(o),o})}_addDropdown(t){const e=this.editor,n=e.t,i=e.ui.componentFactory,r=t[0],s=t.reduce((t,e)=>{return t[e.model]=e,t},{});i.add("highlight",o=>{const a=e.commands.get("highlight"),c=Object(v["c"])(o,b),l=c.buttonView;l.set({tooltip:n("Highlight"),lastExecuted:r.model,commandValue:r.model}),l.bind("icon").to(a,"value",t=>x(h(t,"type"))),l.bind("color").to(a,"value",t=>h(t,"color")),l.bind("commandValue").to(a,"value",t=>h(t,"model")),l.bind("isOn").to(a,"value",t=>!!t),l.delegate("execute").to(c);const u=t.map(t=>{const e=i.create("highlight:"+t.model);return this.listenTo(e,"execute",()=>c.buttonView.set({lastExecuted:t.model})),e});function h(t,e){const n=t&&t!==l.lastExecuted?t:l.lastExecuted;return s[n][e]}return c.bind("isEnabled").toMany(u,"isEnabled",(...t)=>t.some(t=>t)),u.push(new d["a"]),u.push(i.create("removeHighlight")),Object(v["b"])(c,u),y(c),l.on("execute",()=>{e.execute("highlight",{value:l.commandValue}),e.editing.view.focus()}),c})}}function y(t){const e=t.buttonView.actionView;e.iconView.bind("fillColor").to(t.buttonView,"color")}function x(t){return"marker"===t?l:u}n.d(e,"a",function(){return _});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class _ extends i["a"]{static get requires(){return[o,w]}static get pluginName(){return"Highlight"}}},"76ab":function(t,e,n){"use strict";t.exports=a;var i=n("bd11"),r=n("8524"),s=n("cbd3");function o(t,e,n,i){return e.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,i,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,i,(e.id<<3|2)>>>0)}function a(t){for(var e,n=s.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),a=t.fieldsArray.slice().sort(s.compareFieldsById),c=0;c<a.length;++c){var l=a[c].resolve(),u=t._fieldsArray.indexOf(l),h=l.resolvedType instanceof i?"int32":l.type,d=r.basic[h];e="m"+s.safeProp(l.name),l.map?(n("if(%s!=null&&m.hasOwnProperty(%j)){",e,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",e)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|r.mapKey[l.keyType],l.keyType),void 0===d?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,e):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|d,h,e),n("}")("}")):l.repeated?(n("if(%s!=null&&%s.length){",e,e),l.packed&&void 0!==r.packed[h]?n("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",e)("w.%s(%s[i])",h,e)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",e),void 0===d?o(n,l,u,e+"[i]"):n("w.uint32(%i).%s(%s[i])",(l.id<<3|d)>>>0,h,e)),n("}")):(l.optional&&n("if(%s!=null&&m.hasOwnProperty(%j))",e,l.name),void 0===d?o(n,l,u,e):n("w.uint32(%i).%s(%s)",(l.id<<3|d)>>>0,h,e))}return n("return w")}},"77ea":function(t,e,n){"use strict";t.exports=o;var i=n("8ae5");((o.prototype=Object.create(i.prototype)).constructor=o).className="OneOf";var r=n("a6a3"),s=n("cbd3");function o(t,e,n,r){if(Array.isArray(e)||(n=e,e=void 0),i.call(this,t,n),void 0!==e&&!Array.isArray(e))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=r}function a(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e])}o.fromJSON=function(t,e){return new o(t,e.oneof,e.options,e.comment)},o.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return s.toObject(["options",this.options,"oneof",this.oneof,"comment",e?this.comment:void 0])},o.prototype.add=function(t){if(!(t instanceof r))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,a(this),this},o.prototype.remove=function(t){if(!(t instanceof r))throw TypeError("field must be a Field");var e=this.fieldsArray.indexOf(t);if(e<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(e,1),e=this.oneof.indexOf(t.name),e>-1&&this.oneof.splice(e,1),t.partOf=null,this},o.prototype.onAdd=function(t){i.prototype.onAdd.call(this,t);for(var e=this,n=0;n<this.oneof.length;++n){var r=t.get(this.oneof[n]);r&&!r.partOf&&(r.partOf=e,e.fieldsArray.push(r))}a(this)},o.prototype.onRemove=function(t){for(var e,n=0;n<this.fieldsArray.length;++n)(e=this.fieldsArray[n]).parent&&e.parent.remove(e);i.prototype.onRemove.call(this,t)},o.d=function(){var t=new Array(arguments.length),e=0;while(e<arguments.length)t[e]=arguments[e++];return function(e,n){s.decorateType(e.constructor).add(new o(n,t)),Object.defineProperty(e,n,{get:s.oneOfGetter(t),set:s.oneOfSetter(t)})}}},"78a4":function(t,e,n){"use strict";const i=n("193c"),r=n("1f55");class s extends i{constructor(t,e){super(),this["data"]=t,this["data1"]=e}["toJSON"](){return{data:this["data"],data1:this["data1"]}}static get["TYPE"](){return r["getPacketType"](r["TYPES"]["NUMBER"],r["TYPES"]["BUFFER"])}static get["DESCRIPTOR_NAME"](){return"NumberBytesPacketDataMessage"}static get["DESCRIPTOR"](){return{fields:{data:{type:"uint32",id:1},data1:{type:"bytes",id:2}}}}static["fromJSON"](t){return new s(t["data"],t["data1"])}static["create"](t,e){return new s(t,e)}}t["exports"]=s},"78eb":function(t,e,n){var i=n("94ac"),r=n("2851"),s=n("7297"),o=n("568d"),a=n("d838"),c=n("40de"),l=n("34eb")("socket.io-client:manager"),u=n("ee34"),h=n("0b64"),d=Object.prototype.hasOwnProperty;function f(t,e){if(!(this instanceof f))return new f(t,e);t&&"object"===typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||o;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=f,f.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},f.prototype.updateSocketIds=function(){for(var t in this.nsps)d.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},f.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},s(f.prototype),f.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},f.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},f.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},f.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},f.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},f.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},f.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},f.prototype.open=f.prototype.connect=function(t,e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var s=a(n,"open",function(){r.onopen(),t&&t()}),o=a(n,"error",function(e){if(l("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;l("connect attempt will timeout after %d",c);var u=setTimeout(function(){l("connect attempt timed out after %d",c),s.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(s),this.subs.push(o),this},f.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",c(this,"ondata"))),this.subs.push(a(t,"ping",c(this,"onping"))),this.subs.push(a(t,"pong",c(this,"onpong"))),this.subs.push(a(t,"error",c(this,"onerror"))),this.subs.push(a(t,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},f.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},f.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},f.prototype.ondata=function(t){this.decoder.add(t)},f.prototype.ondecoded=function(t){this.emit("packet",t)},f.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},f.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new r(this,t,e),this.nsps[t]=n;var i=this;n.on("connecting",s),n.on("connect",function(){n.id=i.generateId(t)}),this.autoConnect&&s()}function s(){~u(i.connecting,n)||i.connecting.push(n)}return n},f.prototype.destroy=function(t){var e=u(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},f.prototype.packet=function(t){l("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var i=0;i<n.length;i++)e.engine.write(n[i],t.options);e.encoding=!1,e.processPacketQueue()}))},f.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},f.prototype.cleanup=function(){l("cleanup");for(var t=this.subs.length,e=0;e<t;e++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},f.prototype.close=f.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},f.prototype.onclose=function(t){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},f.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},"799c":function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}n.d(e,"a",function(){return i})},"7aba":function(t,e,n){"use strict";t.exports=o;var i=n("305b"),r=n("d468"),s=r("fs");function o(t,e,n){return"function"===typeof e?(n=e,e={}):e||(e={}),n?!e.xhr&&s&&s.readFile?s.readFile(t,function(i,r){return i&&"undefined"!==typeof XMLHttpRequest?o.xhr(t,e,n):i?n(i):n(null,e.binary?r:r.toString("utf8"))}):o.xhr(t,e,n):i(o,this,t,e)}o.xhr=function(t,e,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState){if(0!==i.status&&200!==i.status)return n(Error("status "+i.status));if(e.binary){var t=i.response;if(!t){t=[];for(var r=0;r<i.responseText.length;++r)t.push(255&i.responseText.charCodeAt(r))}return n(null,"undefined"!==typeof Uint8Array?new Uint8Array(t):t)}return n(null,i.responseText)}},e.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",t),i.send()}},"7d4a":function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n("f2ea"),r=n("3b42"),s=n("d65e"),o=n("644e"),a=n("da0d"),c=n("ff8c"),l=n("2c4d"),u=n("e561"),h=n("e907"),d=n("6d55");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class f{constructor(t=null,e,n){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,e,n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1],e=this._lastRangeBackward?t.end:t.start;return e.clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1],e=this._lastRangeBackward?t.start:t.end;return e.clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=Object(u["a"])(this.getRanges()),n=Object(u["a"])(t.getRanges());if(e!=n)return!1;if(0==e)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let e=!1;for(let n of t.getRanges())if(n=n.getTrimmed(),i.start.isEqual(n.start)&&i.end.isEqual(n.end)){e=!0;break}if(!e)return!1}return!0}getSelectedElement(){if(1!==this.rangeCount)return null;const t=this.getFirstRange();let e=t.start.nodeAfter,n=t.end.nodeBefore;return t.start.parent.is("text")&&t.start.isAtEnd&&t.start.parent.nextSibling&&(e=t.start.parent.nextSibling),t.end.parent.is("text")&&t.end.isAtStart&&t.end.parent.previousSibling&&(n=t.end.parent.previousSibling),e instanceof l["a"]&&e==n?e:null}setTo(t,e,n){if(null===t)this._setRanges([]),this._setFakeOptions(e);else if(t instanceof f||t instanceof d["a"])this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof r["a"])this._setRanges([t],e&&e.backward),this._setFakeOptions(e);else if(t instanceof s["a"])this._setRanges([new r["a"](t)]),this._setFakeOptions(e);else if(t instanceof c["a"]){const o=!!n&&!!n.backward;let a;if(void 0===e)throw new i["b"]("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.");a="in"==e?r["a"]._createIn(t):"on"==e?r["a"]._createOn(t):new r["a"](s["a"]._createAt(t,e)),this._setRanges([a],o),this._setFakeOptions(n)}else{if(!Object(h["a"])(t))throw new i["b"]("view-selection-setTo-not-selectable: Cannot set selection to given place.");this._setRanges(t,e&&e.backward),this._setFakeOptions(e)}this.fire("change")}setFocus(t,e){if(null===this.anchor)throw new i["b"]("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.");const n=s["a"]._createAt(t,e);if("same"==n.compareWith(this.focus))return;const o=this.anchor;this._ranges.pop(),"before"==n.compareWith(o)?this._addRange(new r["a"](n,o),!0):this._addRange(new r["a"](o,n)),this.fire("change")}is(t){return"selection"==t}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const n of t)this._addRange(n);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof r["a"]))throw new i["b"]("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range");this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new i["b"]("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",{addedRange:t,intersectingRange:e});this._ranges.push(new r["a"](t.start,t.end))}}Object(o["a"])(f,a["c"])},"7dbd":function(t,e,n){"use strict";const i=n("193c"),r=n("1f55");class s extends i{constructor(t,e){super(),this["data"]=t,this["data1"]=e}["toJSON"](){return{data:this["data"],data1:this["data1"]}}static get["TYPE"](){return r["getPacketType"](r["TYPES"]["STRING"],r["TYPES"]["BUFFER"])}static get["DESCRIPTOR_NAME"](){return"StringBytesPacketDataMessage"}static get["DESCRIPTOR"](){return{fields:{data:{type:"string",id:1},data1:{type:"bytes",id:2}}}}static["fromJSON"](t){return new s(t["data"],t["data1"])}static["create"](t,e){return new s(t,e)}}t["exports"]=s},"7def":function(t,e,n){},"7e07":function(t,e,n){"use strict";t.exports=u;var i=n("8ae5");((u.prototype=Object.create(i.prototype)).constructor=u).className="Namespace";var r,s,o,a=n("a6a3"),c=n("cbd3");function l(t,e){if(t&&t.length){for(var n={},i=0;i<t.length;++i)n[t[i].name]=t[i].toJSON(e);return n}}function u(t,e){i.call(this,t,e),this.nested=void 0,this._nestedArray=null}function h(t){return t._nestedArray=null,t}u.fromJSON=function(t,e){return new u(t,e.options).addJSON(e.nested)},u.arrayToJSON=l,u.isReservedId=function(t,e){if(t)for(var n=0;n<t.length;++n)if("string"!==typeof t[n]&&t[n][0]<=e&&t[n][1]>=e)return!0;return!1},u.isReservedName=function(t,e){if(t)for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),u.prototype.toJSON=function(t){return c.toObject(["options",this.options,"nested",l(this.nestedArray,t)])},u.prototype.addJSON=function(t){var e=this;if(t)for(var n,i=Object.keys(t),c=0;c<i.length;++c)n=t[i[c]],e.add((void 0!==n.fields?r.fromJSON:void 0!==n.values?o.fromJSON:void 0!==n.methods?s.fromJSON:void 0!==n.id?a.fromJSON:u.fromJSON)(i[c],n));return this},u.prototype.get=function(t){return this.nested&&this.nested[t]||null},u.prototype.getEnum=function(t){if(this.nested&&this.nested[t]instanceof o)return this.nested[t].values;throw Error("no such enum: "+t)},u.prototype.add=function(t){if(!(t instanceof a&&void 0!==t.extend||t instanceof r||t instanceof o||t instanceof s||t instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var e=this.get(t.name);if(e){if(!(e instanceof u&&t instanceof u)||e instanceof r||e instanceof s)throw Error("duplicate name '"+t.name+"' in "+this);for(var n=e.nestedArray,i=0;i<n.length;++i)t.add(n[i]);this.remove(e),this.nested||(this.nested={}),t.setOptions(e.options,!0)}}else this.nested={};return this.nested[t.name]=t,t.onAdd(this),h(this)},u.prototype.remove=function(t){if(!(t instanceof i))throw TypeError("object must be a ReflectionObject");if(t.parent!==this)throw Error(t+" is not a member of "+this);return delete this.nested[t.name],Object.keys(this.nested).length||(this.nested=void 0),t.onRemove(this),h(this)},u.prototype.define=function(t,e){if(c.isString(t))t=t.split(".");else if(!Array.isArray(t))throw TypeError("illegal path");if(t&&t.length&&""===t[0])throw Error("path must be relative");var n=this;while(t.length>0){var i=t.shift();if(n.nested&&n.nested[i]){if(n=n.nested[i],!(n instanceof u))throw Error("path conflicts with non-namespace objects")}else n.add(n=new u(i))}return e&&n.addJSON(e),n},u.prototype.resolveAll=function(){var t=this.nestedArray,e=0;while(e<t.length)t[e]instanceof u?t[e++].resolveAll():t[e++].resolve();return this.resolve()},u.prototype.lookup=function(t,e,n){if("boolean"===typeof e?(n=e,e=void 0):e&&!Array.isArray(e)&&(e=[e]),c.isString(t)&&t.length){if("."===t)return this.root;t=t.split(".")}else if(!t.length)return this;if(""===t[0])return this.root.lookup(t.slice(1),e);var i=this.get(t[0]);if(i){if(1===t.length){if(!e||e.indexOf(i.constructor)>-1)return i}else if(i instanceof u&&(i=i.lookup(t.slice(1),e,!0)))return i}else for(var r=0;r<this.nestedArray.length;++r)if(this._nestedArray[r]instanceof u&&(i=this._nestedArray[r].lookup(t,e,!0)))return i;return null===this.parent||n?null:this.parent.lookup(t,e)},u.prototype.lookupType=function(t){var e=this.lookup(t,[r]);if(!e)throw Error("no such type: "+t);return e},u.prototype.lookupEnum=function(t){var e=this.lookup(t,[o]);if(!e)throw Error("no such Enum '"+t+"' in "+this);return e},u.prototype.lookupTypeOrEnum=function(t){var e=this.lookup(t,[r,o]);if(!e)throw Error("no such Type or Enum '"+t+"' in "+this);return e},u.prototype.lookupService=function(t){var e=this.lookup(t,[s]);if(!e)throw Error("no such Service '"+t+"' in "+this);return e},u._configure=function(t,e,n){r=t,s=e,o=n}},"7eea":function(t,e,n){var i=n("a735");function r(t){if(i(t))return!isNaN(t);throw new TypeError(toString.call(t)+" is not an instance of Date")}t.exports=r},"7f7b":function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}n.d(e,"a",function(){return i})},8030:function(t,e,n){},8050:function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t,e,n,i){super(),this["id"]=t,this["buffers"]=e,this["types"]=n,this["baseVersion"]=i}get["data"](){return{buffers:this["buffers"],types:this["types"],baseVersion:this["baseVersion"]}}["toJSON"](){return{id:this["id"],buffers:this["buffers"],types:this["types"],baseVersion:this["baseVersion"]}}static get["TYPE"](){return 13}static get["DESCRIPTOR_NAME"](){return"CollaborativeEditingUpdateMessage"}static get["DESCRIPTOR"](){return{fields:{id:{type:"string",id:1},baseVersion:{type:"uint32",id:2},buffers:{rule:"repeated",type:"bytes",id:3},types:{rule:"repeated",type:"uint32",id:4}}}}static["fromJSON"](t){return new r(t["id"],t["buffers"],t["types"],t["baseVersion"])}}t["exports"]=r},8055:function(t,e,n){var i=n("cc9e"),r=n("568d"),s=n("78eb"),o=n("34eb")("socket.io-client");t.exports=e=c;var a=e.managers={};function c(t,e){"object"===typeof t&&(e=t,t=void 0),e=e||{};var n,r=i(t),c=r.source,l=r.id,u=r.path,h=a[l]&&u in a[l].nsps,d=e.forceNew||e["force new connection"]||!1===e.multiplex||h;return d?(o("ignoring socket cache for %s",c),n=s(c,e)):(a[l]||(o("new io instance for %s",c),a[l]=s(c,e)),n=a[l]),r.query&&!e.query&&(e.query=r.query),n.socket(r.path,e)}e.protocol=r.protocol,e.connect=c,e.Manager=n("78eb"),e.Socket=n("2851")},8068:function(t,e,n){"use strict";var i=n("109b"),r=n("652f");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function s(t,e,n){return n.createRange(o(t,e,!0,n),o(t,e,!1,n))}function o(t,e,n,i){let r=t.textNode||(n?t.nodeBefore:t.nodeAfter),s=null;while(r&&r.getAttribute("linkHref")==e)s=r,r=n?r.previousSibling:r.nextSibling;return s?i.createPositionAt(s,n?"before":"after"):t}var a=n("b286");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class c extends r["a"]{refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"linkHref")}execute(t){const e=this.editor.model,n=e.document.selection;e.change(i=>{if(n.isCollapsed){const r=n.getFirstPosition();if(n.hasAttribute("linkHref")){const r=s(n.getFirstPosition(),n.getAttribute("linkHref"),e);i.setAttribute("linkHref",t,r),i.setSelection(r)}else if(""!==t){const e=Object(a["a"])(n.getAttributes());e.set("linkHref",t);const s=i.createText(t,e);i.insert(s,r),i.setSelection(i.createRangeOn(s))}}else{const r=e.schema.getValidRanges(n.getRanges(),"linkHref");for(const e of r)i.setAttribute("linkHref",t,e)}})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class l extends r["a"]{refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref")}execute(){const t=this.editor.model,e=t.document.selection;t.change(n=>{const i=e.isCollapsed?[s(e.getFirstPosition(),e.getAttribute("linkHref"),t)]:e.getRanges();for(const t of i)n.removeAttribute("linkHref",t)})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const u=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,h=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function d(t){return t.is("attributeElement")&&!!t.getCustomProperty("link")}function f(t,e){const n=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty("link",!0,n),n}function p(t){return t=String(t),m(t)?t:"#"}function m(t){const e=t.replace(u,"");return e.match(h)}var g=n("84c3"),b=n("5bfb");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function v(t,e,n,i){const r=new w(e,n,i),s=e.document.selection;n.listenTo(t.document,"keydown",(t,e)=>{if(!s.isCollapsed)return;if(e.shiftKey||e.altKey||e.ctrlKey)return;const n=e.keyCode==g["c"].arrowright,i=e.keyCode==g["c"].arrowleft;if(!n&&!i)return;const o=s.getFirstPosition();let a;a=n?r.handleForwardMovement(o,e):r.handleBackwardMovement(o,e),a&&t.stop()},{priority:b["a"].get("high")+1})}class w{constructor(t,e,n){this.model=t,this.attribute=n,this._modelSelection=t.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,e.listenTo(this._modelSelection,"change:range",(t,e)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!e.directChange&&y(this._modelSelection.getFirstPosition(),n)||this._restoreGravity())})}handleForwardMovement(t,e){const n=this.attribute;if(!this._isGravityOverridden&&(!t.isAtStart||!this._hasSelectionAttribute))return k(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._removeSelectionAttribute(),!0):x(t,n)?(this._preventCaretMovement(e),this._overrideGravity(),!0):_(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._overrideGravity(),!0):void 0}handleBackwardMovement(t,e){const n=this.attribute;return this._isGravityOverridden?k(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(e),this._restoreGravity(),t.isAtStart&&this._removeSelectionAttribute(),!0):k(t,n)&&!this._hasSelectionAttribute?(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtEnd&&_(t,n)?this._hasSelectionAttribute?void(C(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(e),!0):void 0:void(C(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}get _isGravityOverridden(){return!!this._overrideUid}get _hasSelectionAttribute(){return this._modelSelection.hasAttribute(this.attribute)}_overrideGravity(){this._overrideUid=this.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}_preventCaretMovement(t){t.preventDefault()}_removeSelectionAttribute(){this.model.change(t=>{t.removeSelectionAttribute(this.attribute)})}_setSelectionAttributeFromTheNodeBefore(t){const e=this.attribute;this.model.change(n=>{n.setSelectionAttribute(this.attribute,t.nodeBefore.getAttribute(e))})}_skipNextAutomaticGravityRestoration(){this._isNextGravityRestorationSkipped=!0}}function y(t,e){return x(t,e)||_(t,e)}function x(t,e){const{nodeBefore:n,nodeAfter:i}=t,r=!!n&&n.hasAttribute(e),s=!!i&&i.hasAttribute(e);return s&&(!r||n.getAttribute(e)!==i.getAttribute(e))}function _(t,e){const{nodeBefore:n,nodeAfter:i}=t,r=!!n&&n.hasAttribute(e),s=!!i&&i.hasAttribute(e);return r&&(!s||n.getAttribute(e)!==i.getAttribute(e))}function k(t,e){const{nodeBefore:n,nodeAfter:i}=t,r=!!n&&n.hasAttribute(e),s=!!i&&i.hasAttribute(e);if(s&&r)return i.getAttribute(e)!==n.getAttribute(e)}function C(t,e){return y(t.getShiftedBy(-1),e)}n("356b");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const A="ck-link_selected";class T extends i["a"]{init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:f}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(t,e)=>{return f(p(t),e)}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:t=>t.getAttribute("href")}}),t.commands.add("link",new c(t)),t.commands.add("unlink",new l(t)),v(t.editing.view,t.model,this,"linkHref"),this._setupLinkHighlight()}_setupLinkHighlight(){const t=this.editor,e=t.editing.view,n=new Set;e.document.registerPostFixer(e=>{const i=t.model.document.selection;if(i.hasAttribute("linkHref")){const r=s(i.getFirstPosition(),i.getAttribute("linkHref"),t.model),o=t.editing.mapper.toViewRange(r);for(const t of o.getItems())t.is("a")&&(e.addClass(A,t),n.add(t))}}),t.conversion.for("editingDowncast").add(t=>{function i(){e.change(t=>{for(const e of n.values())t.removeClass(A,e),n.delete(e)})}t.on("insert",i,{priority:"highest"}),t.on("remove",i,{priority:"highest"}),t.on("attribute",i,{priority:"highest"}),t.on("selection",i,{priority:"highest"})})}}var O=n("51d0");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class E extends O["a"]{constructor(t){super(t),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}var P=n("164f"),S=n("901d"),R=n("3707"),I=n("940e"),N=n("3493"),j=n("9374"),M=n("fdf0"),B=n("ab1f"),D=n("768b"),V=n("0d02"),F=n("91db"),L=n("18ce"),U=n("8ef8");n("18ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class $ extends I["a"]{constructor(t){super(t);const e=t.t;this.focusTracker=new D["a"],this.keystrokes=new F["a"],this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(e("Save"),L["a"],"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("Cancel"),U["a"],"ck-button-cancel","cancel"),this._focusables=new N["a"],this._focusCycler=new V["a"]({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-link-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Object(B["a"])({view:this});const t=[this.urlInputView,this.saveButtonView,this.cancelButtonView];t.forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,e=new j["a"](this.locale,M["a"]);return e.label=t("Link URL"),e.inputView.placeholder="https://example.com",e}_createButton(t,e,n,i){const r=new R["a"](this.locale);return r.set({label:t,icon:e,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),i&&r.delegate("execute").to(this,i),r}}var z='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',q=n("2609");n("2260");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class H extends I["a"]{constructor(t){super(t);const e=t.t;this.focusTracker=new D["a"],this.keystrokes=new F["a"],this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(e("Unlink"),z,"unlink"),this.editButtonView=this._createButton(e("Edit link"),q["a"],"edit"),this.set("href"),this._focusables=new N["a"],this._focusCycler=new V["a"]({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render();const t=[this.previewButtonView,this.editButtonView,this.unlinkButtonView];t.forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const i=new R["a"](this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.delegate("execute").to(this,n),i}_createPreviewButton(){const t=new R["a"](this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",t=>t&&p(t)),target:"_blank"}}),t.bind("label").to(this,"href",t=>{return t||n("This link has no URL")}),t.bind("isEnabled").to(this,"href",t=>!!t),t.template.tag="a",t.template.eventListeners={},t}}var W='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const J="Ctrl+K";class Y extends i["a"]{static get requires(){return[P["a"]]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(E),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(P["a"]),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const t=this.editor,e=new H(t.locale),n=t.commands.get("link"),i=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(e,"edit",()=>{this._addFormView()}),this.listenTo(e,"unlink",()=>{t.execute("unlink"),this._hideUI()}),e.keystrokes.set("Esc",(t,e)=>{this._hideUI(),e()}),e.keystrokes.set(J,(t,e)=>{this._addFormView(),e()}),e}_createFormView(){const t=this.editor,e=new $(t.locale),n=t.commands.get("link");return e.urlInputView.bind("value").to(n,"value"),e.urlInputView.bind("isReadOnly").to(n,"isEnabled",t=>!t),e.saveButtonView.bind("isEnabled").to(n),this.listenTo(e,"submit",()=>{t.execute("link",e.urlInputView.inputView.element.value),this._removeFormView()}),this.listenTo(e,"cancel",()=>{this._removeFormView()}),e.keystrokes.set("Esc",(t,e)=>{this._removeFormView(),e()}),e}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get("link"),n=t.t;t.keystrokes.set(J,(t,n)=>{n(),e.isEnabled&&this._showUI()}),t.ui.componentFactory.add("link",t=>{const i=new R["a"](t);return i.isEnabled=!0,i.label=n("Link"),i.icon=W,i.keystroke=J,i.tooltip=!0,i.bind("isOn","isEnabled").to(e,"value","isEnabled"),this.listenTo(i,"execute",()=>this._showUI()),i})}_enableUserBalloonInteractions(){const t=this.editor.editing.view.document;this.listenTo(t,"click",()=>{const t=this._getSelectedLinkElement();t&&this._showUI()}),this.editor.keystrokes.set("Tab",(t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,e)=>{this._isUIVisible&&(this._hideUI(),e())}),Object(S["a"])({emitter:this.formView,activator:()=>this._isUIVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const t=this.editor,e=t.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=e.value||""}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus())}_showUI(){const t=this.editor,e=t.commands.get("link");e.isEnabled&&(this._getSelectedLinkElement()?this._areActionsVisible?this._addFormView():this._addActionsView():(this._addActionsView(),this._addFormView()),this._startUpdatingUI())}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView)}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),i=r();function r(){return e.selection.focus.getAncestors().reverse().find(t=>t.is("element"))}this.listenTo(t.ui,"update",()=>{const t=this._getSelectedLinkElement(),e=r();n&&!t||!n&&e!==i?this._hideUI():this._balloon.updatePosition(this._getBalloonPositionData()),n=t,i=e})}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const t=this._balloon.visibleView;return t==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document,n=this._getSelectedLinkElement(),i=n?t.domConverter.mapViewToDom(n):t.domConverter.viewRangeToDom(e.selection.getFirstRange());return{target:i}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection;if(e.isCollapsed)return G(e.getFirstPosition());{const n=e.getFirstRange().getTrimmed(),i=G(n.start),r=G(n.end);return i&&i==r&&t.createRangeIn(i).getTrimmed().isEqual(n)?i:null}}}function G(t){return t.getAncestors().find(t=>d(t))}n.d(e,"a",function(){return K});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class K extends i["a"]{static get requires(){return[T,Y]}static get pluginName(){return"Link"}}},8073:function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(t){return e=>e+t}n.d(e,"a",function(){return i})},"807d":function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t,e,n){super(),this["id"]=t,this["engineVersion"]=n,this["lastKnowVersion"]=e}["toJSON"](){return{id:this["id"],engineVersion:this["engineVersion"],lastKnowVersion:this["lastKnowVersion"]}}static get["TYPE"](){return 12}static get["DESCRIPTOR_NAME"](){return"CollaborativeEditingReconnectMessage"}static get["DESCRIPTOR"](){return{fields:{id:{type:"string",id:1},engineVersion:{type:"string",id:2},lastKnowVersion:{type:"uint32",id:3}}}}static["fromJSON"](t){return new r(t["id"],t["lastKnowVersion"],t["engineVersion"])}}t["exports"]=r},"807e":function(t,e,n){"use strict";t.exports=r;var i=n("e938");function r(t,e,n){if("function"!==typeof t)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(r.prototype=Object.create(i.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function t(e,n,r,s,o){if(!s)throw TypeError("request must be specified");var a=this;if(!o)return i.asPromise(t,a,e,n,r,s);if(a.rpcImpl)try{return a.rpcImpl(e,n[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(t,n){if(t)return a.emit("error",t,e),o(t);if(null!==n){if(!(n instanceof r))try{n=r[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return a.emit("error",t,e),o(t)}return a.emit("data",n,e),o(null,n)}a.end(!0)})}catch(c){return a.emit("error",c,e),void setTimeout(function(){o(c)},0)}else setTimeout(function(){o(Error("already ended"))},0)},r.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},"809c":function(t,e,n){"use strict";const i=n("e6cc"),r=n("193c"),s=n("368c"),o=[n("78a4"),n("7dbd"),n("9cd8"),n("d1b1"),n("58ae"),n("97ef"),n("b095"),n("4836"),n("4816"),n("280d"),n("987f")]["reduce"]((t,e)=>(t[e["TYPE"]]=e,t),{}),a=n("1f55");class c extends r{constructor(t,e,n,i,r){super(),this["type"]=t,this["id"]=n,this["nsp"]=i||"/",this["data"]=e,this["options"]=r}get["packetData"](){return[this["data"]["data"],this["data"]["data1"]]}["toJSON"](){const t=i["encode"](this["options"]),e=i["encode"](this["data"]);return{type:this["type"]+10*this["data"]["constructor"]["TYPE"],id:this["id"],nsp:"/"===this["nsp"]?void 0:this["nsp"],data:e["length"]?e:void 0,options:t["length"]?t:void 0}}static get["TYPE"](){return 10}static get["DESCRIPTOR_NAME"](){return"PacketMessage"}static get["DESCRIPTOR"](){return{fields:{type:{type:"uint32",id:1},id:{type:"uint32",id:2},nsp:{type:"string",id:3},data:{type:"bytes",id:4},options:{type:"bytes",id:5}}}}static["fromJSON"](t){const e=Math["floor"](t["type"]/10);return new c(t["type"]-10*e,i["decode"](t["data"],o[e]),t["id"],t["nsp"],i["decode"](t["options"],s))}static["create"](t,e={}){const n=a["getPacketType"](a["getTypeName"](t["data"][0]),a["getTypeName"](t["data"][1]));return new c(t["type"],o[n]["create"](t["data"][0],t["data"][1]),t["id"],t["nsp"],new s(e["flags"],e["rooms"],e["except"]))}}t["exports"]=c},"81fc":function(t,e,n){var i=n("c8d5"),r=n("b4c7"),s=n("4497"),o=6048e5;function a(t){var e=i(t),n=r(e).getTime()-s(e).getTime();return Math.round(n/o)+1}t.exports=a},"82af":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("5122"),r=n("2363"),s=n("a641"),o=n("9cf5"),a=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class c{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new a["b"]("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.");const e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new a["b"]("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this.position=t.startPosition.clone():this.position=o["a"]._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(t){let e,n,i,r;do{i=this.position,r=this._visitedParent,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i,this._visitedParent=r)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};const o=e.textNode?e.textNode:e.nodeAfter;if(o instanceof s["a"])return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=o),this.position=e,l("elementStart",o,t,e,1);if(o instanceof i["a"]){let i;if(this.singleCharacters)i=1;else{let t=o.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<t&&(t=this.boundaries.end.offset),i=t-e.offset}const s=e.offset-o.startOffset,a=new r["a"](o,s,i);return e.offset+=i,this.position=e,l("text",a,t,e,i)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():l("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};const o=e.textNode?e.textNode:e.nodeBefore;if(o instanceof s["a"])return e.offset--,this.shallow?(this.position=e,l("elementStart",o,t,e,1)):(e.path.push(o.maxOffset),this.position=e,this._visitedParent=o,this.ignoreElementEnd?this._previous():l("elementEnd",o,t,e));if(o instanceof i["a"]){let i;if(this.singleCharacters)i=1;else{let t=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>t&&(t=this.boundaries.start.offset),i=e.offset-t}const s=e.offset-o.startOffset,a=new r["a"](o,s-i,i);return e.offset-=i,this.position=e,l("text",a,t,e,i)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,l("elementStart",n,t,e,1)}}function l(t,e,n,i,r){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:r}}}},"82e8":function(t,e,n){"use strict";t.exports=o;var i=n("a6a3");((o.prototype=Object.create(i.prototype)).constructor=o).className="MapField";var r=n("8524"),s=n("cbd3");function o(t,e,n,r,o,a){if(i.call(this,t,e,r,void 0,void 0,o,a),!s.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}o.fromJSON=function(t,e){return new o(t,e.id,e.keyType,e.type,e.options,e.comment)},o.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",e?this.comment:void 0])},o.prototype.resolve=function(){if(this.resolved)return this;if(void 0===r.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return i.prototype.resolve.call(this)},o.d=function(t,e,n){return"function"===typeof n?n=s.decorateType(n).name:n&&"object"===typeof n&&(n=s.decorateEnum(n).name),function(i,r){s.decorateType(i.constructor).add(new o(r,t,e,n))}}},8378:function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t,e){super(),this["commentThreadId"]=t,this["documentId"]=e}["toJSON"](){return{commentThreadId:this["commentThreadId"],documentId:this["documentId"]}}static get["TYPE"](){return 93}static get["DESCRIPTOR_NAME"](){return"CommentsV2GetCommentThreadMessage"}static get["DESCRIPTOR"](){return{fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2}}}}static["fromJSON"](t){return new r(t["commentThreadId"],t["documentId"])}}t["exports"]=r},8390:function(t,e){(function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),i=0;i<t.length;i++)n[t.charCodeAt(i)]=i;e.encode=function(e){var n,i=new Uint8Array(e),r=i.length,s="";for(n=0;n<r;n+=3)s+=t[i[n]>>2],s+=t[(3&i[n])<<4|i[n+1]>>4],s+=t[(15&i[n+1])<<2|i[n+2]>>6],s+=t[63&i[n+2]];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s},e.decode=function(t){var e,i,r,s,o,a=.75*t.length,c=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(e=0;e<c;e+=4)i=n[t.charCodeAt(e)],r=n[t.charCodeAt(e+1)],s=n[t.charCodeAt(e+2)],o=n[t.charCodeAt(e+3)],h[l++]=i<<2|r>>4,h[l++]=(15&r)<<4|s>>2,h[l++]=(3&s)<<6|63&o;return u}})()},"84c3":function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"a",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return u});var i=n("f2ea"),r=n("59a6");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const s={"⌘":"ctrl","⇧":"shift","⌥":"alt"},o={ctrl:"⌘",shift:"⇧",alt:"⌥"},a=h();function c(t){let e;if("string"==typeof t){if(e=a[t.toLowerCase()],!e)throw new i["b"]("keyboard-unknown-key: Unknown key name.",{key:t})}else e=t.keyCode+(t.altKey?a.alt:0)+(t.ctrlKey?a.ctrl:0)+(t.shiftKey?a.shift:0);return e}function l(t){return"string"==typeof t&&(t=d(t)),t.map(t=>"string"==typeof t?c(t):t).reduce((t,e)=>e+t,0)}function u(t){return r["a"].isMac?d(t).map(t=>o[t.toLowerCase()]||t).reduce((t,e)=>{return t.slice(-1)in s?t+e:t+"+"+e}):t}function h(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let e=65;e<=90;e++){const n=String.fromCharCode(e);t[n.toLowerCase()]=e}for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return t}function d(t){return t.split(/\s*\+\s*/)}},8524:function(t,e,n){"use strict";var i=e,r=n("cbd3"),s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(t,e){var n=0,i={};e|=0;while(n<t.length)i[s[n+e]]=t[n++];return i}i.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",r.emptyArray,null]),i.long=o([0,0,0,1,1],7),i.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},"85a9":function(t,e,n){"use strict";var i=n("109b"),r=n("652f"),s=n("0b65");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o extends r["a"]{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.schema,n=t.document.selection,i=Array.from(n.getTopMostBlocks());t.change(t=>{if(this.value)this._removeQuote(t,i.filter(a));else{const n=i.filter(t=>{return a(t)||l(e,t)});this._applyQuote(t,n)}})}_getValue(){const t=this.editor.model.document.selection,e=Object(s["a"])(t.getTopMostBlocks());return!(!e||!a(e))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=Object(s["a"])(t.getSelectedBlocks());return!!n&&l(e,n)}_removeQuote(t,e){c(t,e).reverse().forEach(e=>{if(e.start.isAtStart&&e.end.isAtEnd)return void t.unwrap(e.start.parent);if(e.start.isAtStart){const n=t.createPositionBefore(e.start.parent);return void t.move(e,n)}e.end.isAtEnd||t.split(e.end);const n=t.createPositionAfter(e.end.parent);t.move(e,n)})}_applyQuote(t,e){const n=[];c(t,e).reverse().forEach(e=>{let i=a(e.start);i||(i=t.createElement("blockQuote"),t.wrap(e,i)),n.push(i)}),n.reverse().reduce((e,n)=>{return e.nextSibling==n?(t.merge(t.createPositionAfter(e)),e):n})}}function a(t){return"blockQuote"==t.parent.name?t.parent:null}function c(t,e){let n,i=0;const r=[];while(i<e.length){const s=e[i],o=e[i+1];n||(n=t.createPositionBefore(s)),o&&s.nextSibling==o||(r.push(t.createRange(n,t.createPositionAfter(s))),n=null),i++}return r}function l(t,e){const n=t.checkChild(e.parent,"blockQuote"),i=t.checkChild(["$root","blockQuote"],e);return n&&i}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u extends i["a"]{init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new o(t)),e.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),e.addChildCheck((t,e)=>{if(t.endsWith("blockQuote")&&"blockQuote"==e.name)return!1}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(n=>{const i=t.model.document.differ.getChanges();for(const t of i)if("insert"==t.type){const i=t.position.nodeAfter;if(!i)continue;if(i.is("blockQuote")&&i.isEmpty)return n.remove(i),!0;if(i.is("blockQuote")&&!e.checkChild(t.position,i))return n.unwrap(i),!0;if(i.is("element")){const t=n.createRangeIn(i);for(const i of t.getItems())if(i.is("blockQuote")&&!e.checkChild(n.createPositionBefore(i),i))return n.unwrap(i),!0}}else if("remove"==t.type){const e=t.position.parent;if(e.is("blockQuote")&&e.isEmpty)return n.remove(e),!0}return!1})}afterInit(){const t=this.editor,e=t.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",(t,n)=>{const i=this.editor.model.document,r=i.selection.getLastPosition().parent;i.selection.isCollapsed&&r.isEmpty&&e.value&&(this.editor.execute("blockQuote"),this.editor.editing.view.scrollToTheSelection(),n.preventDefault(),t.stop())})}}var h=n("3707"),d='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>';n("30b7");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class f extends i["a"]{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("blockQuote",n=>{const i=t.commands.get("blockQuote"),r=new h["a"](n);return r.set({label:e("Block quote"),icon:d,tooltip:!0}),r.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(r,"execute",()=>t.execute("blockQuote")),r})}}n.d(e,"a",function(){return p});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class p extends i["a"]{static get requires(){return[u,f]}static get pluginName(){return"BlockQuote"}}},"85b1":function(t,e,n){"use strict";var i=n("2332"),r=n("26ee"),s=function(){return r["a"].Date.now()},o=s,a=n("1bc6"),c=NaN,l=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,d=/^0o[0-7]+$/i,f=parseInt;function p(t){if("number"==typeof t)return t;if(Object(a["a"])(t))return c;if(Object(i["a"])(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(i["a"])(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var n=h.test(t);return n||d.test(t)?f(t.slice(2),n?2:8):u.test(t)?c:+t}var m=p,g="Expected a function",b=Math.max,v=Math.min;function w(t,e,n){var r,s,a,c,l,u,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError(g);function w(e){var n=r,i=s;return r=s=void 0,h=e,c=t.apply(i,n),c}function y(t){return h=t,l=setTimeout(k,e),d?w(t):c}function x(t){var n=t-u,i=t-h,r=e-n;return f?v(r,a-i):r}function _(t){var n=t-u,i=t-h;return void 0===u||n>=e||n<0||f&&i>=a}function k(){var t=o();if(_(t))return C(t);l=setTimeout(k,x(t))}function C(t){return l=void 0,p&&r?w(t):(r=s=void 0,c)}function A(){void 0!==l&&clearTimeout(l),h=0,r=u=s=l=void 0}function T(){return void 0===l?c:C(o())}function O(){var t=o(),n=_(t);if(r=arguments,s=this,u=t,n){if(void 0===l)return y(u);if(f)return l=setTimeout(k,e),w(u)}return void 0===l&&(l=setTimeout(k,e)),c}return e=m(e)||0,Object(i["a"])(n)&&(d=!!n.leading,f="maxWait"in n,a=f?b(m(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),O.cancel=A,O.flush=T,O}e["a"]=w},"869f":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("6c92");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r extends i["a"]{get type(){return"noop"}clone(){return new r(this.baseVersion)}getReversed(){return new r(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}},"86b5":function(t,e,n){const i=n("809c"),r=n("e6cc");class s{["encode"](t,e,n,s="/",o={}){if(e["length"]>2)throw new Error("PacketParser supports only 2 elements in data");const a={type:t,data:e,id:n,nsp:s};return r["encode"](i["create"](a,o))}["decode"](t){const e=r["decode"](t,i);return{packet:{id:e["id"],type:e["type"],data:e["packetData"],nsp:e["nsp"]},options:{flags:e["options"]["flags"],rooms:e["options"]["rooms"],expect:e["options"]["expect"]}}}}t["exports"]=s},"875d":function(t,e,n){"use strict";e["a"]='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.636 9.531l-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>'},8855:function(t,e,n){const i=n("193c");class r extends i{constructor(t,e,n=[],i=[],r=0){super(),this["channel"]=t,this["version"]=e,this["buffers"]=n,this["types"]=i,this["offset"]=r}get["wereChangesApplied"](){return!(this["types"]&&this["types"]["length"])}get["data"](){return{buffers:this["buffers"],types:this["types"],baseVersion:this["version"]-this["types"]["length"]}}["toJSON"](){return{channel:this["channel"],version:this["version"],buffers:this["buffers"],types:this["types"],offset:this["offset"]}}static get["DESCRIPTOR_NAME"](){return"CollaborativeEditingConnectResponse"}static get["DESCRIPTOR"](){return{fields:{channel:{type:"string",id:1},offset:{type:"uint32",id:2},version:{type:"uint32",id:3},buffers:{rule:"repeated",type:"bytes",id:4},types:{rule:"repeated",type:"uint32",id:5}}}}static["fromJSON"](t){return new r(t["channel"],t["version"],t["buffers"],t["types"],t["offset"])}}t["exports"]=r},"889a":function(t,e,n){"use strict";var i=n("e8b2"),r=n("1964"),s=n("9a76");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o{constructor(t,e){this._config={},e&&this.define(e),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){const n=!0;this._setToTarget(this._config,t,e,n)}get(t){return this._getFromSource(this._config,t)}_setToTarget(t,e,n,r=!1){if(Object(i["a"])(e))return void this._setObjectToTarget(t,e,r);const s=e.split(".");e=s.pop();for(const o of s)Object(i["a"])(t[o])||(t[o]={}),t=t[o];if(Object(i["a"])(n))return Object(i["a"])(t[e])||(t[e]={}),t=t[e],void this._setObjectToTarget(t,n,r);r&&"undefined"!=typeof t[e]||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const r of n){if(!Object(i["a"])(t[r])){t=null;break}t=t[r]}return t?a(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach(i=>{this._setToTarget(t,i,e[i],n)})}}function a(t){return Object(r["a"])(t,c)}function c(t){return Object(s["a"])(t)?t:void 0}var l=n("1159");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const u=Symbol("rootName");class h extends l["a"]{constructor(t){super(t),this.rootName="main"}is(t,e=null){return e?"rootElement"==t&&e==this.name||super.is(t,e):"rootElement"==t||super.is(t)}get rootName(){return this.getCustomProperty(u)}set rootName(t){this._setCustomProperty(u,t)}set _name(t){this.name=t}}var d=n("6d55"),f=n("67b9"),p=n("644e"),m=n("d4e1");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class g{constructor(){this.selection=new d["a"],this.roots=new f["a"]({idProperty:"rootName"}),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy()),this.stopListening()}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t),e)break}while(e)}}Object(p["a"])(g,m["a"]);var b=n("d65e"),v=n("3b42"),w=n("7d4a"),y=n("a4b7"),x=n("2c4d"),_=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const k=10;class C extends x["a"]{constructor(t,e,n){super(t,e,n),this.getFillerOffset=A,this._priority=k,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new _["b"]("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.");return new Set(this._clonesGroup)}is(t,e=null){return e?"attributeElement"==t&&e==this.name||super.is(t,e):"attributeElement"==t||super.is(t)}isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function A(){if(T(this))return null;let t=this.parent;while(t&&t.is("attributeElement")){if(T(t)>1)return null;t=t.parent}return!t||T(t)>1?null:this.childCount}function T(t){return Array.from(t.getChildren()).filter(t=>!t.is("uiElement")).length}C.DEFAULT_PRIORITY=k;var O=n("ff8c");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class E extends x["a"]{constructor(t,e,n){super(t,e,n),this.getFillerOffset=P}is(t,e=null){return e?"emptyElement"==t&&e==this.name||super.is(t,e):"emptyElement"==t||super.is(t)}_insertChild(t,e){if(e&&(e instanceof O["a"]||Array.from(e).length>0))throw new _["b"]("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.")}}function P(){return null}var S=n("84c3");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class R extends x["a"]{constructor(t,e,n){super(t,e,n),this.getFillerOffset=N}is(t,e=null){return e?"uiElement"==t&&e==this.name||super.is(t,e):"uiElement"==t||super.is(t)}_insertChild(t,e){if(e&&(e instanceof O["a"]||Array.from(e).length>0))throw new _["b"]("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.")}render(t){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const n of this.getAttributeKeys())e.setAttribute(n,this.getAttribute(n));return e}}function I(t){t.document.on("keydown",(e,n)=>j(e,n,t.domConverter))}function N(){return null}function j(t,e,n){if(e.keyCode==S["c"].arrowright){const t=e.domTarget.ownerDocument.defaultView.getSelection(),i=1==t.rangeCount&&t.getRangeAt(0).collapsed;if(i||e.shiftKey){const e=t.focusNode,r=t.focusOffset,s=n.domPositionToView(e,r);if(null===s)return;let o=!1;const a=s.getLastMatchingPosition(t=>{return t.item.is("uiElement")&&(o=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement"))});if(o){const e=n.viewPositionToDom(a);i?t.collapse(e.parent,e.offset):t.extend(e.parent,e.offset)}}}}var M=n("fcd8"),B=n("e907"),D=n("b199");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class V{constructor(t){this.document=t,this._cloneGroups=new Map}setSelection(t,e,n){this.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createText(t){return new D["a"](t)}createAttributeElement(t,e,n={}){const i=new C(t,e);return n.priority&&(i._priority=n.priority),n.id&&(i._id=n.id),i}createContainerElement(t,e){return new y["a"](t,e)}createEditableElement(t,e){const n=new l["a"](t,e);return n._document=this.document,n}createEmptyElement(t,e){return new E(t,e)}createUIElement(t,e,n){const i=new R(t,e);return n&&(i.render=n),i}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){Object(i["a"])(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof b["a"]?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new _["b"]("view-writer-break-non-container-element: Trying to break an element which is not a container element.");if(!e.parent)throw new _["b"]("view-writer-break-root: Trying to break root element.");if(t.isAtStart)return b["a"]._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(b["a"]._createAfter(e),n);const i=new v["a"](t,b["a"]._createAt(e,"end")),r=new b["a"](n,0);this.move(i,r)}return b["a"]._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("text"))return t;if(n.is("attributeElement")&&0===n.childCount){const t=n.parent,e=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new b["a"](t,e))}const i=n.getChild(e-1),r=n.getChild(e);if(!i||!r)return t;if(i.is("text")&&r.is("text"))return q(i,r);if(i.is("attributeElement")&&r.is("attributeElement")&&i.isSimilar(r)){const t=i.childCount;return i._appendChild(r.getChildren()),r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new b["a"](i,t))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!e||!n||!e.is("containerElement")||!n.is("containerElement"))throw new _["b"]("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.");const i=e.getChild(e.childCount-1),r=i instanceof D["a"]?b["a"]._createAt(i,"end"):b["a"]._createAt(e,"end");return this.move(v["a"]._createIn(n),b["a"]._createAt(e,"end")),this.remove(v["a"]._createOn(n)),r}insert(t,e){e=Object(B["a"])(e)?[...e]:[e],H(e);const n=L(t);if(!n)throw new _["b"]("view-writer-invalid-position-container");const i=this._breakAttributes(t,!0),r=n._insertChild(i.offset,e);for(const a of e)this._addToClonedElementsGroup(a);const s=i.getShiftedBy(r),o=this.mergeAttributes(i);if(0===r)return new v["a"](o,o);{o.isEqual(i)||s.offset--;const t=this.mergeAttributes(s);return new v["a"](o,t)}}remove(t){const e=t instanceof v["a"]?t:v["a"]._createOn(t);if(Y(e),e.isCollapsed)return new M["a"];const{start:n,end:i}=this._breakAttributesRange(e,!0),r=n.parent,s=i.offset-n.offset,o=r._removeChildren(n.offset,s);for(const c of o)this._removeFromClonedElementsGroup(c);const a=this.mergeAttributes(n);return e.start=a,e.end=a.clone(),new M["a"](o)}clear(t,e){Y(t);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of n){const n=i.item;let r;if(n.is("element")&&e.isSimilar(n))r=v["a"]._createOn(n);else if(!i.nextPosition.isAfter(t.start)&&n.is("textProxy")){const t=n.getAncestors().find(t=>{return t.is("element")&&e.isSimilar(t)});t&&(r=v["a"]._createIn(t))}r&&(r.end.isAfter(t.end)&&(r.end=t.end),r.start.isBefore(t.start)&&(r.start=t.start),this.remove(r))}}move(t,e){let n;if(e.isAfter(t.end)){e=this._breakAttributes(e,!0);const i=e.parent,r=i.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=i.childCount-r}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof C))throw new _["b"]("view-writer-wrap-invalid-attribute");if(Y(t),t.isCollapsed){let n=t.start;n.parent.is("element")&&!F(n.parent)&&(n=n.getLastMatchingPosition(t=>t.item.is("uiElement"))),n=this._wrapPosition(n,e);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new v["a"](n)}return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof C))throw new _["b"]("view-writer-unwrap-invalid-attribute");if(Y(t),t.isCollapsed)return t;const{start:n,end:i}=this._breakAttributesRange(t,!0),r=n.parent,s=this._unwrapChildren(r,n.offset,i.offset,e),o=this.mergeAttributes(s.start);o.isEqual(s.start)||s.end.offset--;const a=this.mergeAttributes(s.end);return new v["a"](o,a)}rename(t,e){const n=new y["a"](t,e.getAttributes());return this.insert(b["a"]._createAfter(e),n),this.move(v["a"]._createIn(e),b["a"]._createAt(n,0)),this.remove(v["a"]._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return b["a"]._createAt(t,e)}createPositionAfter(t){return b["a"]._createAfter(t)}createPositionBefore(t){return b["a"]._createBefore(t)}createRange(t,e){return new v["a"](t,e)}createRangeOn(t){return v["a"]._createOn(t)}createRangeIn(t){return v["a"]._createIn(t)}createSelection(t,e,n){return new w["a"](t,e,n)}_wrapChildren(t,e,n,i){let r=e;const s=[];while(r<n){const e=t.getChild(r),n=e.is("text"),o=e.is("attributeElement"),a=e.is("emptyElement"),c=e.is("uiElement");if(o&&this._wrapAttributeElement(i,e))s.push(new b["a"](t,r));else if(n||a||c||o&&U(i,e)){const n=i._clone();e._remove(),n._appendChild(e),t._insertChild(r,n),this._addToClonedElementsGroup(n),s.push(new b["a"](t,r))}else o&&this._wrapChildren(e,0,e.childCount,i);r++}let o=0;for(const a of s){if(a.offset-=o,a.offset==e)continue;const t=this.mergeAttributes(a);t.isEqual(a)||(o++,n--)}return v["a"]._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,i){let r=e;const s=[];while(r<n){const e=t.getChild(r);if(e.is("attributeElement"))if(e.isSimilar(i)){const i=e.getChildren(),o=e.childCount;e._remove(),t._insertChild(r,i),this._removeFromClonedElementsGroup(e),s.push(new b["a"](t,r),new b["a"](t,r+o)),r+=o,n+=o-1}else this._unwrapAttributeElement(i,e)?(s.push(new b["a"](t,r),new b["a"](t,r+1)),r++):(this._unwrapChildren(e,0,e.childCount,i),r++);else r++}let o=0;for(const a of s){if(a.offset-=o,a.offset==e||a.offset==n)continue;const t=this.mergeAttributes(a);t.isEqual(a)||(o++,n--)}return v["a"]._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:i}=this._breakAttributesRange(t,!0),r=n.parent,s=this._wrapChildren(r,n.offset,i.offset,e),o=this.mergeAttributes(s.start);o.isEqual(s.start)||s.end.offset--;const a=this.mergeAttributes(s.end);return new v["a"](o,a)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return $(t.clone());t.parent.is("text")&&(t=z(t));const n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=(()=>!1),t.parent._insertChild(t.offset,n);const i=new v["a"](t,t.getShiftedBy(1));this.wrap(i,e);const r=new b["a"](n.parent,n.index);n._remove();const s=r.nodeBefore,o=r.nodeAfter;return s instanceof D["a"]&&o instanceof D["a"]?q(s,o):$(r)}_wrapAttributeElement(t,e){if(!G(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!G(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,i=t.end;if(Y(t),t.isCollapsed){const n=this._breakAttributes(t.start,e);return new v["a"](n,n)}const r=this._breakAttributes(i,e),s=r.parent.childCount,o=this._breakAttributes(n,e);return r.offset+=r.parent.childCount-s,new v["a"](o,r)}_breakAttributes(t,e=!1){const n=t.offset,i=t.parent;if(t.parent.is("emptyElement"))throw new _["b"]("view-writer-cannot-break-empty-element");if(t.parent.is("uiElement"))throw new _["b"]("view-writer-cannot-break-ui-element");if(!e&&i.is("text")&&J(i.parent))return t.clone();if(J(i))return t.clone();if(i.is("text"))return this._breakAttributes(z(t),e);const r=i.childCount;if(n==r){const t=new b["a"](i.parent,i.index+1);return this._breakAttributes(t,e)}if(0===n){const t=new b["a"](i.parent,i.index);return this._breakAttributes(t,e)}{const t=i.index+1,r=i._clone();i.parent._insertChild(t,r),this._addToClonedElementsGroup(r);const s=i.childCount-n,o=i._removeChildren(n,s);r._appendChild(o);const a=new b["a"](i.parent,t);return this._breakAttributes(a,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const i of t.getChildren())this._addToClonedElementsGroup(i);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const i of t.getChildren())this._removeFromClonedElementsGroup(i);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function F(t){return Array.from(t.getChildren()).some(t=>!t.is("uiElement"))}function L(t){let e=t.parent;while(!J(e)){if(!e)return;e=e.parent}return e}function U(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function $(t){const e=t.nodeBefore;if(e&&e.is("text"))return new b["a"](e,e.data.length);const n=t.nodeAfter;return n&&n.is("text")?new b["a"](n,0):t}function z(t){if(t.offset==t.parent.data.length)return new b["a"](t.parent.parent,t.parent.index+1);if(0===t.offset)return new b["a"](t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new D["a"](e)),new b["a"](t.parent.parent,t.parent.index+1)}function q(t,e){const n=t.data.length;return t._data+=e.data,e._remove(),new b["a"](t,n)}function H(t){for(const e of t){if(!W.some(t=>e instanceof t))throw new _["b"]("view-writer-insert-invalid-node");e.is("text")||H(e.getChildren())}}const W=[D["a"],C,y["a"],E,R];function J(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function Y(t){const e=L(t.start),n=L(t.end);if(!e||!n||e!==n)throw new _["b"]("view-writer-invalid-range-container")}function G(t,e){return null===t.id&&null===e.id}var K=n("5b14"),X=n("2fd7");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function Q(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function Z(t){const e=t.parentNode;e&&e.removeChild(t)}var tt=n("031c"),et=n("51f5"),nt=n("da3c"),it=n("59a6");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class rt{constructor(t,e){this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new _["b"]("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.");this.markedChildren.add(e)}}}render(){let t;for(const e of this.markedChildren)this._updateChildrenMappings(e);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent));for(const e of this.markedAttributes)this._updateAttrs(e);for(const e of this.markedChildren)this._updateChildren(e,{inlineFillerPosition:t});for(const e of this.markedTexts)!this.markedChildren.has(e.parent)&&this.domConverter.mapViewToDom(e.parent)&&this._updateText(e,{inlineFillerPosition:t});if(t){const e=this.domConverter.viewPositionToDom(t),n=e.parent.ownerDocument;Object(K["i"])(e.parent)?this._inlineFiller=e.parent:this._inlineFiller=ot(n,e.parent,e.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=this.domConverter.mapViewToDom(t).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),r=this._diffNodeLists(n,i),s=this._findReplaceActions(r,n,i);if(-1!==s.indexOf("replace")){const e={equal:0,insert:0,delete:0};for(const r of s)if("replace"===r){const r=e.equal+e.insert,s=e.equal+e.delete,o=t.getChild(r);o&&!o.is("uiElement")&&this._updateElementMappings(o,n[s]),Z(i[r]),e.equal++}else e[r]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("text")?b["a"]._createBefore(this.selection.getFirstPosition().parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&Object(tt["a"])(e.parent)&&Object(K["i"])(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!Object(K["i"])(t))throw new _["b"]("view-renderer-filler-was-lost: The inline filler node was lost.");Object(K["h"])(t)?t.parentNode.removeChild(t):t.data=t.data.substr(K["c"]),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is("element"))return!1;if(!st(e))return!1;if(n===e.getFillerOffset())return!1;const i=t.nodeBefore,r=t.nodeAfter;return!(i instanceof D["a"]||r instanceof D["a"])}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t),i=this.domConverter.viewToDom(t,n.ownerDocument),r=n.data;let s=i.data;const o=e.inlineFillerPosition;if(o&&o.parent==t.parent&&o.offset==t.index&&(s=K["b"]+s),r!=s){const t=Object(nt["a"])(r,s);for(const e of t)"insert"===e.type?n.insertData(e.index,e.values.join("")):n.deleteData(e.index,e.howMany)}}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map(t=>t.name),i=t.getAttributeKeys();for(const r of i)e.setAttribute(r,t.getAttribute(r));for(const r of n)t.hasAttribute(r)||e.removeAttribute(r)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;const i=e.inlineFillerPosition,r=this.domConverter.mapViewToDom(t).childNodes,s=Array.from(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0,inlineFillerPosition:i}));i&&i.parent===t&&ot(n.ownerDocument,s,i.offset);const o=this._diffNodeLists(r,s);let a=0;const c=new Set;for(const l of o)"insert"===l?(Q(n,a,s[a]),a++):"delete"===l?(c.add(r[a]),Z(r[a])):(this._markDescendantTextToSync(this.domConverter.domToView(s[a])),a++);for(const l of c)l.parentNode||this.domConverter.unbindDomElement(l)}_diffNodeLists(t,e){return t=ut(t,this._fakeSelectionContainer),Object(X["a"])(t,e,ct.bind(null,this.domConverter.blockFiller))}_findReplaceActions(t,e,n){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;let i=[],r=[],s=[];const o={equal:0,insert:0,delete:0};for(const a of t)"insert"===a?s.push(n[o.equal+o.insert]):"delete"===a?r.push(e[o.equal+o.delete]):(i=i.concat(Object(X["a"])(r,s,at).map(t=>"equal"===t?"replace":t)),i.push("equal"),r=[],s=[]),o[a]++;return i.concat(Object(X["a"])(r,s,at).map(t=>"equal"===t?"replace":t))}_markDescendantTextToSync(t){if(t)if(t.is("text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}_updateFakeSelection(t){const e=t.ownerDocument;let n=this._fakeSelectionContainer;n||(this._fakeSelectionContainer=n=e.createElement("div"),Object.assign(n.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),n.textContent=" "),n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";const i=e.getSelection(),r=e.createRange();i.removeAllRanges(),r.selectNodeContents(n),i.addRange(r),this.domConverter.bindFakeSelection(n,this.selection)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);t.focus(),e.collapse(n.parent,n.offset),e.extend(i.parent,i.offset),it["a"].isGecko&&lt(i,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return(!e||!this.selection.isEqual(e))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(e))}_removeDomSelection(){for(const t of this.domDocuments){const e=t.getSelection();if(e.rangeCount){const e=t.activeElement,n=this.domConverter.mapDomToView(e);e&&n&&t.getSelection().removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function st(t){if("false"==t.getAttribute("contenteditable"))return!1;const e=t.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||"true"==e.getAttribute("contenteditable")}function ot(t,e,n){const i=e instanceof Array?e:e.childNodes,r=i[n];if(Object(tt["a"])(r))return r.data=K["b"]+r.data,r;{const r=t.createTextNode(K["b"]);return Array.isArray(e)?i.splice(n,0,r):Q(e,n,r),r}}function at(t,e){return Object(et["a"])(t)&&Object(et["a"])(e)&&!Object(tt["a"])(t)&&!Object(tt["a"])(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function ct(t,e,n){return e===n||(Object(tt["a"])(e)&&Object(tt["a"])(n)?e.data===n.data:!(!Object(K["g"])(e,t)||!Object(K["g"])(n,t)))}function lt(t,e){const n=t.parent;if(n.nodeType!=Node.ELEMENT_NODE||t.offset!=n.childNodes.length-1)return;const i=n.childNodes[t.offset];i&&"BR"==i.tagName&&e.addRange(e.getRangeAt(0))}function ut(t,e){const n=Array.from(t);if(0==n.length||!e)return n;const i=n[n.length-1];return i==e&&n.pop(),n}Object(p["a"])(rt,m["a"]);var ht=n("c3df"),dt=n("edea"),ft=n("12a1");function pt(t,e,n){n="function"==typeof n?n:void 0;var i=n?n(t,e):void 0;return void 0===i?Object(ft["a"])(t,e,void 0,n):!!i}var mt=pt;
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class gt extends dt["a"]{constructor(t){super(t),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0===t.length)return;const e=this.domConverter,n=new Map,i=new Set;for(const c of t)if("childList"===c.type){const t=e.mapDomToView(c.target);if(t&&t.is("uiElement"))continue;t&&!this._isBogusBrMutation(c)&&i.add(t)}for(const c of t){const t=e.mapDomToView(c.target);if((!t||!t.is("uiElement"))&&"characterData"===c.type){const t=e.findCorrespondingViewText(c.target);t&&!i.has(t.parent)?n.set(t,{type:"text",oldText:t.data,newText:Object(K["e"])(c.target),node:t}):!t&&Object(K["i"])(c.target)&&i.add(e.mapDomToView(c.target.parentNode))}}const r=[];for(const c of n.values())this.renderer.markToSync("text",c.node),r.push(c);for(const c of i){const t=e.mapViewToDom(c),n=Array.from(c.getChildren()),i=Array.from(e.domChildrenToView(t,{withChildren:!1}));mt(n,i,a)||(this.renderer.markToSync("children",c),r.push({type:"children",oldChildren:n,newChildren:i,node:c}))}const s=t[0].target.ownerDocument.getSelection();let o=null;if(s&&s.anchorNode){const t=e.domPositionToView(s.anchorNode,s.anchorOffset),n=e.domPositionToView(s.focusNode,s.focusOffset);t&&n&&(o=new w["a"](t),o.setFocus(n))}function a(t,e){if(!Array.isArray(t))return t===e||!(!t.is("text")||!e.is("text"))&&t.data===e.data}this.document.fire("mutations",r,o),this.view.forceRender()}_isBogusBrMutation(t){let e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}var bt=n("51d0");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class vt extends bt["a"]{constructor(t){super(t),this.domEventType=["keydown","keyup"]}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,get keystroke(){return Object(S["a"])(this)}})}}var wt=n("85b1");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class yt extends dt["a"]{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=Object(wt["a"])(t=>this.document.fire("selectionChangeDone",t),200)}observe(){const t=this.document;t.on("keydown",(e,n)=>{const i=t.selection;i.isFake&&xt(n.keyCode)&&this.isEnabled&&(n.preventDefault(),this._handleSelectionMove(n.keyCode))},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new w["a"](e.getRanges(),{backward:e.isBackward,fake:!1});t!=S["c"].arrowleft&&t!=S["c"].arrowup||n.setTo(n.getFirstPosition()),t!=S["c"].arrowright&&t!=S["c"].arrowdown||n.setTo(n.getLastPosition());const i={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}function xt(t){return t==S["c"].arrowright||t==S["c"].arrowleft||t==S["c"].arrowup||t==S["c"].arrowdown}var _t=n("cd4b");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class kt extends dt["a"]{constructor(t){super(t),this.mutationObserver=t.getObserver(gt),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Object(wt["a"])(t=>this.document.fire("selectionChangeDone",t),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument;this._documents.has(e)||(this.listenTo(e,"selectionchange",()=>{this._handleSelectionChange(e)}),this._documents.add(e))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(t){if(!this.isEnabled||!this.document.isFocused&&!this.document.isReadOnly)return;this.mutationObserver.flush();const e=t.defaultView.getSelection(),n=this.domConverter.domSelectionToView(e);if(!this.selection.isEqual(n)||!this.domConverter.isDomSelectionCorrect(e))if(++this._loopbackCounter>60)_t["a"].warn("selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.");else if(this.selection.isSimilar(n))this.view.forceRender();else{const t={oldSelection:this.selection,newSelection:n,domSelection:e};this.document.fire("selectionChange",t),this._fireSelectionChangeDoneDebounced(t)}}_clearInfiniteLoop(){this._loopbackCounter=0}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class Ct extends bt["a"]{constructor(t){super(t),this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",()=>{e.isFocused=!0,this._renderTimeoutId=setTimeout(()=>t.forceRender(),50)}),e.on("blur",(n,i)=>{const r=e.selection.editableElement;null!==r&&r!==i.target||(e.isFocused=!1,t.forceRender())})}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class At extends bt["a"]{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",()=>{e.isComposing=!0}),e.on("compositionend",()=>{e.isComposing=!1})}onDomEvent(t){this.fire(t.type,t)}}var Tt=n("dda7"),Ot=n("c78f");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const Et={};function Pt({target:t,viewportOffset:e=0}){const n=Dt(t);let i=n,r=null;while(i){let s;s=Vt(i==n?t:r),It(s,()=>{return Ft(t,i)});const o=Ft(t,i);if(Rt(i,o,e),i.parent!=i){if(r=i.frameElement,i=i.parent,!r)return}else i=null}}function St(t){const e=Vt(t);It(e,()=>{return new Ot["a"](t)})}function Rt(t,e,n){const i=e.clone().moveBy(0,n),r=e.clone().moveBy(0,-n),s=new Ot["a"](t).excludeScrollbarsAndBorders(),o=[r,i];if(!o.every(t=>s.contains(t))){let{scrollX:o,scrollY:a}=t;jt(r,s)?a-=s.top-e.top+n:Nt(i,s)&&(a+=e.bottom-s.bottom+n),Mt(e,s)?o-=s.left-e.left+n:Bt(e,s)&&(o+=e.right-s.right+n),t.scrollTo(o,a)}}function It(t,e){const n=Dt(t);let i,r;while(t!=n.document.body)r=e(),i=new Ot["a"](t).excludeScrollbarsAndBorders(),i.contains(r)||(jt(r,i)?t.scrollTop-=i.top-r.top:Nt(r,i)&&(t.scrollTop+=r.bottom-i.bottom),Mt(r,i)?t.scrollLeft-=i.left-r.left:Bt(r,i)&&(t.scrollLeft+=r.right-i.right)),t=t.parentNode}function Nt(t,e){return t.bottom>e.bottom}function jt(t,e){return t.top<e.top}function Mt(t,e){return t.left<e.left}function Bt(t,e){return t.right>e.right}function Dt(t){return Object(Tt["a"])(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function Vt(t){if(Object(Tt["a"])(t)){let e=t.commonAncestorContainer;return Object(tt["a"])(e)&&(e=e.parentNode),e}return t.parentNode}function Ft(t,e){const n=Dt(t),i=new Ot["a"](t);if(n===e)return i;{let t=n;while(t!=e){const e=t.frameElement,n=new Ot["a"](e).excludeScrollbarsAndBorders();i.moveBy(n.left,n.top),t=t.parent}}return i}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */Object.assign(Et,{scrollViewportToShowTarget:Pt,scrollAncestorsToShowTarget:St});class Lt{constructor(){this.document=new g,this.domConverter=new ht["a"],this.domRoots=new Map,this.set("isRenderingInProgress",!1),this._renderer=new rt(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new V(this.document),this.addObserver(gt),this.addObserver(kt),this.addObserver(Ct),this.addObserver(vt),this.addObserver(yt),this.addObserver(At),Object(K["f"])(this),I(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();const i={};for(const{name:s,value:o}of Array.from(t.attributes))i[s]=o,"class"===s?this._writer.addClass(o.split(" "),n):this._writer.setAttribute(s,o,n);this._initialDomRootAttributes.set(t,i);const r=()=>{this._writer.setAttribute("contenteditable",!n.isReadOnly,n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};r(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",(t,e)=>this._renderer.markToSync("children",e)),n.on("change:attributes",(t,e)=>this._renderer.markToSync("attributes",e)),n.on("change:text",(t,e)=>this._renderer.markToSync("text",e)),n.on("change:isReadOnly",()=>this.change(r)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const s of this._observers.values())s.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach(({name:t})=>e.removeAttribute(t));const n=this._initialDomRootAttributes.get(e);for(const i in n)e.setAttribute(i,n[i]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[n,i]of this.domRoots)e.observe(i,n);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection(){const t=this.document.selection.getFirstRange();t&&Pt({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t?(this.domConverter.focus(t),this.forceRender()):_t["a"].warn("view-focus-no-selection: There is no selection in any editable to focus.")}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new _["b"]("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.");if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return b["a"]._createAt(t,e)}createPositionAfter(t){return b["a"]._createAfter(t)}createPositionBefore(t){return b["a"]._createBefore(t)}createRange(t,e){return new v["a"](t,e)}createRangeOn(t){return v["a"]._createOn(t)}createRangeIn(t){return v["a"]._createIn(t)}createSelection(t,e,n){return new w["a"](t,e,n)}_disableRendering(t){this._renderingDisabled=t,0==t&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}Object(p["a"])(Lt,m["a"]);var Ut=n("9cf5"),$t=n("ad6b"),zt=n("da0d");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class qt{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this.on("modelToViewPosition",(t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);e.viewPosition=this._findPositionIn(n,e.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,e)=>{if(e.modelPosition)return;const n=this.findMappedViewAncestor(e.viewPosition),i=this._viewToModelMapping.get(n),r=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=Ut["a"]._createAt(i,r)},{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t){const e=this.toModelElement(t);this._viewToModelMapping.delete(t),this._modelToViewMapping.get(e)==t&&this._modelToViewMapping.delete(e)}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t),this._markerNameToElements.set(e,n)}unbindElementsFromMarkerName(t){this._markerNameToElements.delete(t)}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new $t["a"](this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new v["a"](this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={isPhantom:!1}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const i of e)if(i.is("attributeElement"))for(const t of i.getElementsWithSameId())n.add(t);else n.add(i);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;while(!this._viewToModelMapping.has(e))e=e.parent;return e}_toModelOffset(t,e,n){if(n!=t){const i=this._toModelOffset(t.parent,t.index,n),r=this._toModelOffset(t,e,t);return i+r}if(t.is("text"))return e;let i=0;for(let r=0;r<e;r++)i+=this.getModelLength(t.getChild(r));return i}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name)){const e=this._viewToModelLengthCallbacks.get(t.name);return e(t)}if(this._viewToModelMapping.has(t))return 1;if(t.is("text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}_findPositionIn(t,e){let n,i=0,r=0,s=0;if(t.is("text"))return new b["a"](t,e);while(r<e)n=t.getChild(s),i=this.getModelLength(n),r+=i,s++;return r==e?this._moveViewPositionToTextNode(new b["a"](t,s)):this._findPositionIn(n,e-(r-i))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof D["a"]?new b["a"](e,e.data.length):n instanceof D["a"]?new b["a"](n,0):t}}Object(p["a"])(qt,zt["c"]);var Ht=n("2363");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class Wt{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=Jt(e),t instanceof Ht["a"]&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=Jt(e),t instanceof Ht["a"]&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=Jt(e),t instanceof Ht["a"]&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(void 0===n)return null;const i=n.get(e);return void 0===i?null:i}revert(t,e){e=Jt(e),t instanceof Ht["a"]&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const i=n.get(t.endOffset);i&&(e=i.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),e}_addSymbolForTextProxy(t,e,n){const i=Symbol("textProxySymbol");let r,s;return r=this._textProxyRegistry.get(t),r||(r=new Map,this._textProxyRegistry.set(t,r)),s=r.get(e),s||(s=new Map,r.set(e,s)),s.set(n,i),i}}function Jt(t){const e=t.split(":");return e.length>1?e[0]+":"+e[1]:e[0]}var Yt=n("61f1");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class Gt{constructor(t={}){this.conversionApi=Object(Yt["a"])({dispatcher:this},t)}convertChanges(t,e){for(const n of t.getMarkersToRemove())this.convertMarkerRemove(n.name,n.range,e);for(const n of t.getChanges())"insert"==n.type?this.convertInsert($t["a"]._createFromPositionAndShift(n.position,n.length),e):"remove"==n.type?this.convertRemove(n.position,n.length,n.name,e):this.convertAttribute(n.range,n.attributeKey,n.attributeOldValue,n.attributeNewValue,e);for(const n of t.getMarkersToAdd())this.convertMarkerAdd(n.name,n.range,e)}convertInsert(t,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(t);for(const n of t){const t=n.item,e=$t["a"]._createFromPositionAndShift(n.previousPosition,n.length),i={item:t,range:e};this._testAndFire("insert",i);for(const n of t.getAttributeKeys())i.attributeKey=n,i.attributeOldValue=null,i.attributeNewValue=t.getAttribute(n),this._testAndFire(`attribute:${n}`,i)}this._clearConversionApi()}convertRemove(t,e,n,i){this.conversionApi.writer=i,this.fire("remove:"+n,{position:t,length:e},this.conversionApi),this._clearConversionApi()}convertAttribute(t,e,n,i,r){this.conversionApi.writer=r,this.conversionApi.consumable=this._createConsumableForRange(t,`attribute:${e}`);for(const s of t){const t=s.item,r=$t["a"]._createFromPositionAndShift(s.previousPosition,s.length),o={item:t,range:r,attributeKey:e,attributeOldValue:n,attributeNewValue:i};this._testAndFire(`attribute:${e}`,o)}this._clearConversionApi()}convertSelection(t,e,n){const i=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(t,i),this.fire("selection",{selection:t},this.conversionApi),t.isCollapsed){for(const e of i){const n=e.getRange();if(!Kt(t.getFirstPosition(),e,this.conversionApi.mapper))continue;const i={item:t,markerName:e.name,markerRange:n};this.conversionApi.consumable.test(t,"addMarker:"+e.name)&&this.fire("addMarker:"+e.name,i,this.conversionApi)}for(const e of t.getAttributeKeys()){const n={item:t,range:t.getFirstRange(),attributeKey:e,attributeOldValue:null,attributeNewValue:t.getAttribute(e)};this.conversionApi.consumable.test(t,"attribute:"+n.attributeKey)&&this.fire("attribute:"+n.attributeKey+":$text",n,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(t,e,n){if(!e.root.document||"$graveyard"==e.root.rootName)return;this.conversionApi.writer=n;const i="addMarker:"+t,r=new Wt;if(r.add(e,i),this.conversionApi.consumable=r,this.fire(i,{markerName:t,markerRange:e},this.conversionApi),r.test(e,i)){this.conversionApi.consumable=this._createConsumableForRange(e,i);for(const n of e.getItems()){if(!this.conversionApi.consumable.test(n,i))continue;const r={item:n,range:$t["a"]._createOn(n),markerName:t,markerRange:e};this.fire(i,r,this.conversionApi)}this._clearConversionApi()}}convertMarkerRemove(t,e,n){e.root.document&&"$graveyard"!=e.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+t,{markerName:t,markerRange:e},this.conversionApi),this._clearConversionApi())}_createInsertConsumable(t){const e=new Wt;for(const n of t){const t=n.item;e.add(t,"insert");for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n)}return e}_createConsumableForRange(t,e){const n=new Wt;for(const i of t.getItems())n.add(i,e);return n}_createSelectionConsumable(t,e){const n=new Wt;n.add(t,"selection");for(const i of e)n.add(t,"addMarker:"+i.name);for(const i of t.getAttributeKeys())n.add(t,"attribute:"+i);return n}_testAndFire(t,e){if(!this.conversionApi.consumable.test(e.item,t))return;const n=e.item.name||"$text";this.fire(t+":"+n,e,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}function Kt(t,e,n){const i=e.getRange(),r=Array.from(t.getAncestors());r.shift(),r.reverse();const s=r.some(t=>{if(i.containsItem(t)){const e=n.toViewElement(t);return!!e.getCustomProperty("addHighlight")}});return!s}Object(p["a"])(Gt,zt["c"]);var Xt=n("a641"),Qt=n("34b2");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class Zt{constructor(t,e,n){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,e,n)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){const t=this._ranges.length;return 1===t&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new $t["a"](t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new $t["a"](t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new $t["a"](t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(t,e,n){if(null===t)this._setRanges([]);else if(t instanceof Zt)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof $t["a"])this._setRanges([t],!!e&&!!e.backward);else if(t instanceof Ut["a"])this._setRanges([new $t["a"](t)]);else if(t instanceof Qt["a"]){const i=!!n&&!!n.backward;let r;if("in"==e)r=$t["a"]._createIn(t);else if("on"==e)r=$t["a"]._createOn(t);else{if(void 0===e)throw new _["b"]("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.");r=new $t["a"](Ut["a"]._createAt(t,e))}this._setRanges([r],i)}else{if(!Object(B["a"])(t))throw new _["b"]("model-selection-setTo-not-selectable: Cannot set the selection to the given place.");this._setRanges(t,e&&!!e.backward)}}_setRanges(t,e=!1){t=Array.from(t);const n=t.some(t=>{if(!(t instanceof $t["a"]))throw new _["b"]("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.");return this._ranges.every(e=>{return!e.isEqual(t)})});if(t.length!==this._ranges.length||n){this._removeAllRanges();for(const e of t)this._pushRange(e);this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0})}}setFocus(t,e){if(null===this.anchor)throw new _["b"]("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.");const n=Ut["a"]._createAt(t,e);if("same"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(i)?(this._pushRange(new $t["a"](n,i)),this._lastRangeBackward=!0):(this._pushRange(new $t["a"](i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){if(1!==this.rangeCount)return null;const t=this.getFirstRange(),e=t.start.nodeAfter,n=t.end.nodeBefore;return e instanceof Xt["a"]&&e==n?e:null}is(t){return"selection"==t}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=ee(e.start,t);n&&(yield n);for(const r of e.getWalker())"elementEnd"==r.type&&te(r.item,t)&&(yield r.item);const i=ee(e.end,t);i&&!e.end.isTouching(Ut["a"]._createAt(i,0))&&(yield i)}}*getTopMostBlocks(){const t=Array.from(this.getSelectedBlocks());for(const e of t){const n=ne(e);n&&t.includes(n)||(yield e)}}containsEntireContent(t=this.anchor.root){const e=Ut["a"]._createAt(t,0),n=Ut["a"]._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new $t["a"](t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new _["b"]("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",{addedRange:t,intersectingRange:this._ranges[e]})}_removeAllRanges(){while(this._ranges.length>0)this._popRange()}_popRange(){this._ranges.pop()}}function te(t,e){return!e.has(t)&&(e.add(t),t.document.model.schema.isBlock(t)&&t.parent)}function ee(t,e){const n=t.parent.document.model.schema,i=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const s=i.find(t=>{return!r&&(r=n.isLimit(t),!r&&te(t,e))});return i.forEach(t=>e.add(t)),s}function ne(t){const e=t.document.model.schema;let n=t.parent;while(n){if(e.isBlock(n))return n;n=n.parent}}Object(p["a"])(Zt,zt["c"]);var ie=n("0f93"),re=n("5122"),se=n("b286"),oe=n("ed4a");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const ae="selection:";class ce{constructor(t){this._selection=new le(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getTopMostBlocks(){return this._selection.getTopMostBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}is(t){return"selection"==t||"documentSelection"==t}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return ae+t}static _isStoreAttributeKey(t){return t.startsWith(ae)}}Object(p["a"])(ce,zt["c"]);class le extends Zt{constructor(t){super(),this.markers=new f["a"]({idProperty:"name"}),this._model=t.model,this._document=t,this._attributePriority=new Map,this._fixGraveyardRangesData=[],this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this.on("change:range",()=>{for(const t of this.getRanges())if(!this._document._validateSelectionRange(t))throw new _["b"]("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",{range:t});this._updateMarkers(),this._updateAttributes(!1)}),this.listenTo(this._model.markers,"update",()=>this._updateMarkers()),this.listenTo(this._model,"applyOperation",(t,e)=>{const n=e[0];if(n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type){while(this._fixGraveyardRangesData.length){const{liveRange:t,sourcePosition:e}=this._fixGraveyardRangesData.shift();this._fixGraveyardSelection(t,e)}this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})),this._updateMarkers(),this._updateAttributes(!1)}},{priority:"lowest"}),this.listenTo(this._document,"change",(t,e)=>{he(this._model,e)})}get isCollapsed(){const t=this._ranges.length;return 0===t?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(t,e,n){super.setTo(t,e,n),this._refreshAttributes()}setFocus(t,e){super.setFocus(t,e),this._refreshAttributes()}setAttribute(t,e){if(this._setAttribute(t,e)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}overrideGravity(){const t=Object(oe["a"])();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._refreshAttributes(),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new _["b"]("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._refreshAttributes()}_refreshAttributes(){this._updateAttributes(!0)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return void _t["a"].warn("model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.");const e=ie["a"].fromRange(t);return e.on("change:range",(t,n,i)=>{this._hasChangedRange=!0,e.root==this._document.graveyard&&this._fixGraveyardRangesData.push({liveRange:e,sourcePosition:i.deletionPosition})}),e}_updateMarkers(){const t=[];for(const e of this._model.markers){const n=e.getRange();for(const i of this.getRanges())n.containsRange(i,!i.isCollapsed)&&t.push(e)}for(const e of t)this.markers.has(e)||this.markers.add(e);for(const e of Array.from(this.markers))t.includes(e)||this.markers.remove(e)}_updateAttributes(t){const e=Object(se["a"])(this._getSurroundingAttributes()),n=Object(se["a"])(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[r,s]of this._attributePriority)"low"==s&&(this._attrs.delete(r),this._attributePriority.delete(r));this._setAttributesTo(e);const i=[];for(const[r,s]of this.getAttributes())n.has(r)&&n.get(r)===s||i.push(r);for(const[r]of n)this.hasAttribute(r)||i.push(r);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(t,e,n=!0){const i=n?"normal":"low";if("low"==i&&"normal"==this._attributePriority.get(t))return!1;const r=super.getAttribute(t);return r!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,i),!0)}_removeAttribute(t,e=!0){const n=e?"normal":"low";return("low"!=n||"normal"!=this._attributePriority.get(t))&&(this._attributePriority.set(t,n),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){const e=new Set;for(const[n,i]of this.getAttributes())t.get(n)!==i&&this._removeAttribute(n,!1);for(const[n,i]of t){const t=this._setAttribute(n,i,!1);t&&e.add(n)}return e}*_getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())if(e.startsWith(ae)){const n=e.substr(ae.length);yield[n,t.getAttribute(e)]}}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;let n=null;if(this.isCollapsed){const e=t.textNode?t.textNode:t.nodeBefore,i=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=ue(e)),n||(n=ue(i)),!this.isGravityOverridden&&!n){let t=e;while(t&&!n)t=t.previousSibling,n=ue(t)}if(!n){let t=i;while(t&&!n)t=t.nextSibling,n=ue(t)}n||(n=this._getStoredAttributes())}else{const t=this.getFirstRange();for(const i of t){if(i.item.is("element")&&e.isObject(i.item))break;if("text"==i.type){n=i.item.getAttributes();break}}}return n}_fixGraveyardSelection(t,e){const n=e.clone(),i=this._model.schema.getNearestSelectionRange(n),r=this._ranges.indexOf(t);if(this._ranges.splice(r,1),t.detach(),i){const t=this._prepareRange(i);this._ranges.splice(r,0,t)}}}function ue(t){return t instanceof Ht["a"]||t instanceof re["a"]?t.getAttributes():null}function he(t,e){const n=t.document.differ;for(const i of n.getChanges()){if("insert"!=i.type)continue;const n=i.position.parent,r=i.length===n.maxOffset;r&&t.enqueueChange(e,t=>{const e=Array.from(n.getAttributeKeys()).filter(t=>t.startsWith(ae));for(const i of e)t.removeAttribute(i,n)})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class de{constructor(t){this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}var fe=n("5c8a");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class pe extends de{elementToElement(t){return this.add(Pe(t))}attributeToElement(t){return this.add(Se(t))}attributeToAttribute(t){return this.add(Re(t))}markerToElement(t){return this.add(Ie(t))}markerToHighlight(t){return this.add(Ne(t))}}function me(){return(t,e,n)=>{if(!n.consumable.consume(e.item,"insert"))return;const i=n.writer,r=n.mapper.toViewPosition(e.range.start),s=i.createText(e.item.data);i.insert(r,s)}}function ge(){return(t,e,n)=>{const i=n.mapper.toViewPosition(e.position),r=e.position.getShiftedBy(e.length),s=n.mapper.toViewPosition(r,{isPhantom:!0}),o=n.writer.createRange(i,s),a=n.writer.remove(o.getTrimmed());for(const c of n.writer.createRangeIn(a).getItems())n.mapper.unbindViewElement(c)}}function be(t){const e=new C("span",t.attributes);return t.classes&&e._addClass(t.classes),t.priority&&(e._priority=t.priority),e._id=t.id,e}function ve(){return(t,e,n)=>{const i=e.selection;if(i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const r=[];for(const s of i.getRanges()){const t=n.mapper.toViewRange(s);r.push(t)}n.writer.setSelection(r,{backward:i.isBackward})}}function we(){return(t,e,n)=>{const i=e.selection;if(!i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const r=n.writer,s=i.getFirstPosition(),o=n.mapper.toViewPosition(s),a=r.breakAttributes(o);r.setSelection(a)}}function ye(){return(t,e,n)=>{const i=n.writer,r=i.document.selection;for(const s of r.getRanges())s.isCollapsed&&s.end.parent.document&&n.writer.mergeAttributes(s.start);i.setSelection(null)}}function xe(t){return(e,n,i)=>{const r=t(n.attributeOldValue,i.writer),s=t(n.attributeNewValue,i.writer);if(!r&&!s)return;if(!i.consumable.consume(n.item,e.name))return;const o=i.writer,a=o.document.selection;if(n.item instanceof Zt||n.item instanceof ce)o.wrap(a.getFirstRange(),s);else{let t=i.mapper.toViewRange(n.range);null!==n.attributeOldValue&&r&&(t=o.unwrap(t,r)),null!==n.attributeNewValue&&s&&o.wrap(t,s)}}}function _e(t){return(e,n,i)=>{const r=t(n.item,i.writer);if(!r)return;if(!i.consumable.consume(n.item,"insert"))return;const s=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(n.item,r),i.writer.insert(s,r)}}function ke(t){return(e,n,i)=>{n.isOpening=!0;const r=t(n,i.writer);n.isOpening=!1;const s=t(n,i.writer);if(!r||!s)return;const o=n.markerRange;if(o.isCollapsed&&!i.consumable.consume(o,e.name))return;for(const t of o)if(!i.consumable.consume(t.item,e.name))return;const a=i.mapper,c=i.writer;c.insert(a.toViewPosition(o.start),r),i.mapper.bindElementToMarker(r,n.markerName),o.isCollapsed||(c.insert(a.toViewPosition(o.end),s),i.mapper.bindElementToMarker(s,n.markerName)),e.stop()}}function Ce(){return(t,e,n)=>{const i=n.mapper.markerNameToElements(e.markerName);if(i){n.mapper.unbindElementsFromMarkerName(e.markerName);for(const t of i)n.writer.clear(n.writer.createRangeOn(t),t);n.writer.clearClonedElementsGroup(e.markerName),t.stop()}}}function Ae(t){return(e,n,i)=>{const r=t(n.attributeOldValue,n),s=t(n.attributeNewValue,n);if(!r&&!s)return;if(!i.consumable.consume(n.item,e.name))return;const o=i.mapper.toViewElement(n.item),a=i.writer;if(o){if(null!==n.attributeOldValue&&r)if("class"==r.key){const t=Array.isArray(r.value)?r.value:[r.value];for(const e of t)a.removeClass(e,o)}else if("style"==r.key){const t=Object.keys(r.value);for(const e of t)a.removeStyle(e,o)}else a.removeAttribute(r.key,o);if(null!==n.attributeNewValue&&s)if("class"==s.key){const t=Array.isArray(s.value)?s.value:[s.value];for(const e of t)a.addClass(e,o)}else if("style"==s.key){const t=Object.keys(s.value);for(const e of t)a.setStyle(e,s.value[e],o)}else a.setAttribute(s.key,s.value,o)}else _t["a"].warn("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.")}}function Te(t){return(e,n,i)=>{if(!n.item)return;if(!(n.item instanceof Zt||n.item instanceof ce)&&!n.item.is("textProxy"))return;const r=Ve(t,n,i);if(!r)return;if(!i.consumable.consume(n.item,e.name))return;const s=be(r),o=i.writer,a=o.document.selection;if(n.item instanceof Zt||n.item instanceof ce)o.wrap(a.getFirstRange(),s,a);else{const t=i.mapper.toViewRange(n.range),e=o.wrap(t,s);for(const r of e.getItems())if(r.is("attributeElement")&&r.isSimilar(s)){i.mapper.bindElementToMarker(r,n.markerName);break}}}}function Oe(t){return(e,n,i)=>{if(!n.item)return;if(!(n.item instanceof Xt["a"]))return;const r=Ve(t,n,i);if(!r)return;if(!i.consumable.test(n.item,e.name))return;const s=i.mapper.toViewElement(n.item);if(s&&s.getCustomProperty("addHighlight")){i.consumable.consume(n.item,e.name);for(const t of $t["a"]._createIn(n.item))i.consumable.consume(t.item,e.name);s.getCustomProperty("addHighlight")(s,r,i.writer),i.mapper.bindElementToMarker(s,n.markerName)}}}function Ee(t){return(e,n,i)=>{if(n.markerRange.isCollapsed)return;const r=Ve(t,n,i);if(!r)return;const s=be(r),o=i.mapper.markerNameToElements(n.markerName);if(o){i.mapper.unbindElementsFromMarkerName(n.markerName);for(const t of o)t.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(t),s):t.getCustomProperty("removeHighlight")(t,r.id,i.writer);i.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}function Pe(t){return t=Object(fe["a"])(t),t.view=je(t.view,"container"),e=>{e.on("insert:"+t.model,_e(t.view),{priority:t.converterPriority||"normal"})}}function Se(t){t=Object(fe["a"])(t);const e=t.model.key?t.model.key:t.model;let n="attribute:"+e;if(t.model.name&&(n+=":"+t.model.name),t.model.values)for(const r of t.model.values)t.view[r]=je(t.view[r],"attribute");else t.view=je(t.view,"attribute");const i=Be(t);return e=>{e.on(n,xe(i),{priority:t.converterPriority||"normal"})}}function Re(t){t=Object(fe["a"])(t);const e=t.model.key?t.model.key:t.model;let n="attribute:"+e;if(t.model.name&&(n+=":"+t.model.name),t.model.values)for(const r of t.model.values)t.view[r]=De(t.view[r]);else t.view=De(t.view);const i=Be(t);return e=>{e.on(n,Ae(i),{priority:t.converterPriority||"normal"})}}function Ie(t){return t=Object(fe["a"])(t),t.view=je(t.view,"ui"),e=>{e.on("addMarker:"+t.model,ke(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,Ce(t.view),{priority:t.converterPriority||"normal"})}}function Ne(t){return e=>{e.on("addMarker:"+t.model,Te(t.view),{priority:t.converterPriority||"normal"}),e.on("addMarker:"+t.model,Oe(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,Ee(t.view),{priority:t.converterPriority||"normal"})}}function je(t,e){return"function"==typeof t?t:(n,i)=>Me(t,i,e)}function Me(t,e,n){let i;"string"==typeof t&&(t={name:t});const r=Object.assign({},t.attributes);if("container"==n)i=e.createContainerElement(t.name,r);else if("attribute"==n){const n={priority:t.priority||C.DEFAULT_PRIORITY};i=e.createAttributeElement(t.name,r,n)}else i=e.createUIElement(t.name,r);if(t.styles){const n=Object.keys(t.styles);for(const r of n)e.setStyle(r,t.styles[r],i)}if(t.classes){const n=t.classes;if("string"==typeof n)e.addClass(n,i);else for(const t of n)e.addClass(t,i)}return i}function Be(t){return t.model.values?(e,n)=>{const i=t.view[e];return i?i(e,n):null}:t.view}function De(t){return"string"==typeof t?e=>({key:t,value:e}):"object"==typeof t?t.value?()=>t:e=>({key:t.key,value:e}):t}function Ve(t,e,n){const i="function"==typeof t?t(e,n):t;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}var Fe=n("e755");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class Le extends de{elementToElement(t){return this.add(qe(t))}elementToAttribute(t){return this.add(He(t))}attributeToAttribute(t){return this.add(We(t))}elementToMarker(t){return this.add(Je(t))}}function Ue(){return(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=i}}}function $e(){return(t,e,n)=>{if(n.schema.checkChild(e.modelCursor,"$text")&&n.consumable.consume(e.viewItem)){const t=n.writer.createText(e.viewItem.data);n.writer.insert(t,e.modelCursor),e.modelRange=$t["a"]._createFromPositionAndShift(e.modelCursor,t.offsetSize),e.modelCursor=e.modelRange.end}}}function ze(t,e){return(n,i)=>{const r=i.newSelection,s=new Zt,o=[];for(const t of r.getRanges())o.push(e.toModelRange(t));s.setTo(o,{backward:r.isBackward}),s.isEqual(t.document.selection)||t.change(t=>{t.setSelection(s)})}}function qe(t){t=Object(fe["a"])(t);const e=Ge(t),n=Ye(t),i=n?"element:"+n:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"normal"})}}function He(t){t=Object(fe["a"])(t),Qe(t);const e=Ze(t,!1),n=Ye(t),i=n?"element:"+n:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"low"})}}function We(t){t=Object(fe["a"])(t);let e=null;("string"==typeof t.view||t.view.key)&&(e=Xe(t)),Qe(t,e);const n=Ze(t,!0);return e=>{e.on("element",n,{priority:t.converterPriority||"low"})}}function Je(t){return t=Object(fe["a"])(t),nn(t),qe(t)}function Ye(t){return"string"==typeof t.view?t.view:"object"==typeof t.view&&"string"==typeof t.view.name?t.view.name:null}function Ge(t){const e=t.view?new Fe["a"](t.view):null;return(n,i,r)=>{let s={};if(e){const t=e.match(i.viewItem);if(!t)return;s=t.match}s.name=!0;const o=Ke(t.model,i.viewItem,r.writer);if(!o)return;if(!r.consumable.test(i.viewItem,s))return;const a=r.splitToAllowedParent(o,i.modelCursor);if(!a)return;r.writer.insert(o,a.position),r.convertChildren(i.viewItem,r.writer.createPositionAt(o,0)),r.consumable.consume(i.viewItem,s);const c=r.getSplitParts(o);i.modelRange=new $t["a"](r.writer.createPositionBefore(o),r.writer.createPositionAfter(c[c.length-1])),a.cursorParent?i.modelCursor=r.writer.createPositionAt(a.cursorParent,0):i.modelCursor=i.modelRange.end}}function Ke(t,e,n){return t instanceof Function?t(e,n):n.createElement(t)}function Xe(t){"string"==typeof t.view&&(t.view={key:t.view});const e=t.view.key;let n;if("class"==e||"style"==e){const i="class"==e?"classes":"styles";n={[i]:t.view.value}}else{const i="undefined"==typeof t.view.value?/[\s\S]*/:t.view.value;n={attributes:{[e]:i}}}return t.view.name&&(n.name=t.view.name),t.view=n,e}function Qe(t,e=null){const n=null===e||(t=>t.getAttribute(e)),i="object"!=typeof t.model?t.model:t.model.key,r="object"!=typeof t.model||"undefined"==typeof t.model.value?n:t.model.value;t.model={key:i,value:r}}function Ze(t,e){const n=new Fe["a"](t.view);return(i,r,s)=>{const o=n.match(r.viewItem);if(!o)return;const a=t.model.key,c="function"==typeof t.model.value?t.model.value(r.viewItem):t.model.value;if(null===c)return;if(tn(t)?o.match.name=!0:delete o.match.name,!s.consumable.test(r.viewItem,o.match))return;r.modelRange||(r=Object.assign(r,s.convertChildren(r.viewItem,r.modelCursor)));const l=en(r.modelRange,{key:a,value:c},e,s);l&&s.consumable.consume(r.viewItem,o.match)}}function tn(t){return!("object"==typeof t.view&&!Ye(t))&&(!t.view.classes&&!t.view.attributes&&!t.view.styles)}function en(t,e,n,i){let r=!1;for(const s of Array.from(t.getItems({shallow:n})))i.schema.checkAttribute(s,e.key)&&(i.writer.setAttribute(e.key,e.value,s),r=!0);return r}function nn(t){const e=t.model;t.model=((t,n)=>{const i="string"==typeof e?e:e(t);return n.createElement("$marker",{"data-name":i})})}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class rn{constructor(t){this.model=t,this.view=new Lt,this.mapper=new qt,this.downcastDispatcher=new Gt({mapper:this.mapper});const e=this.model.document,n=e.selection,i=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(e,"change",()=>{this.view.change(t=>{this.downcastDispatcher.convertChanges(e.differ,t),this.downcastDispatcher.convertSelection(n,i,t)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",ze(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",me(),{priority:"lowest"}),this.downcastDispatcher.on("remove",ge(),{priority:"low"}),this.downcastDispatcher.on("selection",ye(),{priority:"low"}),this.downcastDispatcher.on("selection",ve(),{priority:"low"}),this.downcastDispatcher.on("selection",we(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(t=>{if("$graveyard"==t.rootName)return null;const e=new h(t.name);return e.rootName=t.rootName,e._document=this.view.document,this.mapper.bindElements(t,e),e})}destroy(){this.view.destroy(),this.stopListening()}}Object(p["a"])(rn,m["a"]);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class sn{constructor(t,e=[]){this._editor=t,this._availablePlugins=new Map,this._plugins=new Map;for(const n of e)this._availablePlugins.set(n,n),n.pluginName&&this._availablePlugins.set(n.pluginName,n)}*[Symbol.iterator](){for(const t of this._plugins)"function"==typeof t[0]&&(yield t)}get(t){const e=this._plugins.get(t);if(!e){const e="plugincollection-plugin-not-loaded: The requested plugin is not loaded.";let n=t;throw"function"==typeof t&&(n=t.pluginName||t.name),new _["b"](e,{plugin:n})}return e}has(t){return this._plugins.has(t)}init(t,e=[]){const n=this,i=this._editor,r=new Set,s=[],o=p(t),a=p(e),c=f(t);if(c){const t="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return _t["a"].error(t,{plugins:c}),Promise.reject(new _["b"](t,{plugins:c}))}return Promise.all(o.map(l)).then(()=>u(s,"init")).then(()=>u(s,"afterInit")).then(()=>s);function l(t){if(!a.includes(t)&&!n._plugins.has(t)&&!r.has(t))return h(t).catch(e=>{throw _t["a"].error("plugincollection-load: It was not possible to load the plugin.",{plugin:t}),e})}function u(t,e){return t.reduce((t,n)=>{return n[e]?t.then(n[e].bind(n)):t},Promise.resolve())}function h(t){return new Promise(o=>{r.add(t),t.requires&&t.requires.forEach(n=>{const i=d(n);if(e.includes(i))throw new _["b"]("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",{plugin:i,requiredBy:t});l(i)});const a=new t(i);n._add(t,a),s.push(a),o()})}function d(t){return"function"==typeof t?t:n._availablePlugins.get(t)}function f(t){const e=[];for(const n of t)d(n)||e.push(n);return e.length?e:null}function p(t){return t.map(t=>d(t)).filter(t=>!!t)}}destroy(){const t=Array.from(this).map(([,t])=>t).filter(t=>"function"==typeof t.destroy).map(t=>t.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const n=t.pluginName;n&&(this._plugins.has(n)?_t["a"].warn("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t}):this._plugins.set(n,e))}}Object(p["a"])(sn,zt["c"]);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class on{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new _["b"]("commandcollection-command-not-found: Command does not exist.",{commandName:t});n.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function an(t,e){const n=ln();if(1===n&&(t=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),0===n||!cn(t,e))return e.replace(/ \[context: [^\]]+\]$/,"");const i=window.CKEDITOR_TRANSLATIONS[t];return i[e].replace(/ \[context: [^\]]+\]$/,"")}function cn(t,e){return t in window.CKEDITOR_TRANSLATIONS&&e in window.CKEDITOR_TRANSLATIONS[t]}function ln(){return Object.keys(window.CKEDITOR_TRANSLATIONS).length}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});class un{constructor(t){this.language=t||"en",this.t=((...t)=>this._t(...t))}_t(t,e){let n=an(this.language,t);return e&&(n=n.replace(/%(\d+)/g,(t,n)=>{return n<e.length?e[n]:t})),n}}var hn=n("ff51");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class dn{constructor(){this._consumables=new Map}add(t,e){let n;t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new fn,this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return void 0===n?null:t.is("text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);void 0!==n&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const s of n)"style"!=s&&"class"!=s&&e.attributes.push(s);const i=t.getClassNames();for(const s of i)e.classes.push(s);const r=t.getStyleNames();for(const s of r)e.styles.push(s);return e}static createFrom(t,e){if(e||(e=new dn),t.is("text"))return e.add(t),e;t.is("element")&&e.add(t,dn.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=dn.createFrom(n,e);return e}}class fn{constructor(){this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e in this._consumables)if(e in t){const n=this._test(e,t[e]);if(!0!==n)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e in this._consumables)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._revert(e,t[e])}_add(t,e){const n=Object(hn["a"])(e)?e:[e],i=this._consumables[t];for(const r of n){if("attributes"===t&&("class"===r||"style"===r))throw new _["b"]("viewconsumable-invalid-attribute: Classes and styles should be handled separately.");i.set(r,!0)}}_test(t,e){const n=Object(hn["a"])(e)?e:[e],i=this._consumables[t];for(const r of n)if("attributes"!==t||"class"!==r&&"style"!==r){const t=i.get(r);if(void 0===t)return null;if(!t)return!1}else{const t="class"==r?"classes":"styles",e=this._test(t,[...this._consumables[t].keys()]);if(!0!==e)return e}return!0}_consume(t,e){const n=Object(hn["a"])(e)?e:[e],i=this._consumables[t];for(const r of n)if("attributes"!==t||"class"!==r&&"style"!==r)i.set(r,!1);else{const t="class"==r?"classes":"styles";this._consume(t,[...this._consumables[t].keys()])}}_revert(t,e){const n=Object(hn["a"])(e)?e:[e],i=this._consumables[t];for(const r of n)if("attributes"!==t||"class"!==r&&"style"!==r){const t=i.get(r);!1===t&&i.set(r,!0)}else{const t="class"==r?"classes":"styles";this._revert(t,[...this._consumables[t].keys()])}}}var pn=n("82af");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class mn{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,e)=>{e[0]=new gn(e[0])},{priority:"highest"}),this.on("checkChild",(t,e)=>{e[0]=new gn(e[0]),e[1]=this.getDefinition(e[1])},{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new _["b"]("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new _["b"]("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e="string"==typeof t?t:t.is&&(t.is("text")||t.is("textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!!e&&!(!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!(!e||!e.isObject)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}checkMerge(t,e=null){if(t instanceof Ut["a"]){const e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof Xt["a"]))throw new _["b"]("schema-check-merge-no-element-before: The node before the merge position must be an element.");if(!(n instanceof Xt["a"]))throw new _["b"]("schema-check-merge-no-element-after: The node after the merge position must be an element.");return this.checkMerge(e,n)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on("checkChild",(e,[n,i])=>{if(!i)return;const r=t(n,i);"boolean"==typeof r&&(e.stop(),e.return=r)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(e,[n,i])=>{const r=t(n,i);"boolean"==typeof r&&(e.stop(),e.return=r)},{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;if(t instanceof Ut["a"])e=t.parent;else{const n=t instanceof $t["a"]?[t]:Array.from(t.getRanges());e=n.reduce((t,e)=>{const n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n},null)}while(!this.isLimit(e)){if(!e.parent)break;e=e.parent}return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const n=t.getFirstPosition(),i=[...n.getAncestors(),new re["a"]("",t.getAttributes())];return this.checkAttribute(i,e)}{const n=t.getRanges();for(const t of n)for(const n of t)if(this.checkAttribute(n.item,e))return!0}return!1}*getValidRanges(t,e){t=Rn(t);for(const n of t)yield*this._getValidRangesForRange(n,e)}getNearestSelectionRange(t,e="both"){if(this.checkChild(t,"$text"))return new $t["a"](t);let n,i;"both"!=e&&"backward"!=e||(n=new pn["a"]({startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(i=new pn["a"]({startPosition:t}));for(const r of Sn(n,i)){const t=r.walker==n?"elementEnd":"elementStart",e=r.value;if(e.type==t&&this.isObject(e.item))return $t["a"]._createOn(e.item);if(this.checkChild(e.nextPosition,"$text"))return new $t["a"](e.nextPosition)}return null}findAllowedParent(t,e){let n=t.parent;while(n){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}removeDisallowedAttributes(t,e){for(const n of t){for(const t of n.getAttributeKeys())this.checkAttribute(n,t)||e.removeAttribute(t,n);n.is("element")&&this.removeDisallowedAttributes(n.getChildren(),e)}}createContext(t){return new gn(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const i of n)t[i]=bn(e[i],i);for(const i of n)vn(t,i);for(const i of n)wn(t,i);for(const i of n)yn(t,i),xn(t,i);for(const i of n)_n(t,i),kn(t,i);this._compiledDefinitions=t}_checkContextMatch(t,e,n=e.length-1){const i=e.getItem(n);if(t.allowIn.includes(i.name)){if(0==n)return!0;{const t=this.getDefinition(i);return this._checkContextMatch(t,e,n-1)}}return!1}*_getValidRangesForRange(t,e){let n=t.start,i=t.start;for(const r of t.getItems({shallow:!0}))r.is("element")&&(yield*this._getValidRangesForRange($t["a"]._createIn(r),e)),this.checkAttribute(r,e)||(n.isEqual(i)||(yield new $t["a"](n,i)),n=Ut["a"]._createAfter(r)),i=Ut["a"]._createAfter(r);n.isEqual(i)||(yield new $t["a"](n,i))}}Object(p["a"])(mn,m["a"]);class gn{constructor(t){if(t instanceof gn)return t;"string"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),t[0]&&"string"!=typeof t[0]&&t[0].is("documentFragment")&&t.shift(),this._items=t.map(Pn)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new gn([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}}function bn(t,e){const n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return Cn(t,n),An(t,n,"allowIn"),An(t,n,"allowContentOf"),An(t,n,"allowWhere"),An(t,n,"allowAttributes"),An(t,n,"allowAttributesOf"),An(t,n,"inheritTypesFrom"),Tn(t,n),n}function vn(t,e){for(const n of t[e].allowContentOf)if(t[n]){const i=On(t,n);i.forEach(t=>{t.allowIn.push(e)})}delete t[e].allowContentOf}function wn(t,e){for(const n of t[e].allowWhere){const i=t[n];if(i){const n=i.allowIn;t[e].allowIn.push(...n)}}delete t[e].allowWhere}function yn(t,e){for(const n of t[e].allowAttributesOf){const i=t[n];if(i){const n=i.allowAttributes;t[e].allowAttributes.push(...n)}}delete t[e].allowAttributesOf}function xn(t,e){const n=t[e];for(const i of n.inheritTypesFrom){const e=t[i];if(e){const t=Object.keys(e).filter(t=>t.startsWith("is"));for(const i of t)i in n||(n[i]=e[i])}}delete n.inheritTypesFrom}function _n(t,e){const n=t[e],i=n.allowIn.filter(e=>t[e]);n.allowIn=Array.from(new Set(i))}function kn(t,e){const n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function Cn(t,e){for(const n of t){const t=Object.keys(n).filter(t=>t.startsWith("is"));for(const i of t)e[i]=n[i]}}function An(t,e,n){for(const i of t)"string"==typeof i[n]?e[n].push(i[n]):Array.isArray(i[n])&&e[n].push(...i[n])}function Tn(t,e){for(const n of t){const t=n.inheritAllFrom;t&&(e.allowContentOf.push(t),e.allowWhere.push(t),e.allowAttributesOf.push(t),e.inheritTypesFrom.push(t))}}function On(t,e){const n=t[e];return En(t).filter(t=>t.allowIn.includes(n.name))}function En(t){return Object.keys(t).map(e=>t[e])}function Pn(t){return"string"==typeof t?{name:t,*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute(e){return t.getAttribute(e)}}}function*Sn(t,e){let n=!1;while(!n){if(n=!0,t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}if(e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}}}function*Rn(t){for(const e of t)yield*e.getMinimalFlatRanges()}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class In{constructor(t={}){this._splitParts=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=jn(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=dn.createFrom(t),this.conversionApi.store={};const{modelRange:i}=this._convertItem(t,this._modelCursor),r=e.createDocumentFragment();if(i){this._removeEmptyElements();for(const t of Array.from(this._modelCursor.parent.getChildren()))e.append(t,r);r.markers=Nn(r,e)}return this._modelCursor=null,this._splitParts.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,r}_convertItem(t,e){const n=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof $t["a"]))throw new _["b"]("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.");return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){const n=new $t["a"](e);let i=e;for(const r of Array.from(t.getChildren())){const t=this._convertItem(r,i);t.modelRange instanceof $t["a"]&&(n.end=t.modelRange.end,i=t.modelCursor)}return{modelRange:n,modelCursor:i}}_splitToAllowedParent(t,e){const n=this.conversionApi.schema.findAllowedParent(e,t);if(!n)return null;if(n===e.parent)return{position:e};if(this._modelCursor.parent.getAncestors().includes(n))return null;const i=this.conversionApi.writer.split(e,n),r=[];for(const s of i.range.getWalker())if("elementEnd"==s.type)r.push(s.item);else{const t=r.pop(),e=s.item;this._registerSplitPair(t,e)}return{position:i.position,cursorParent:i.range.end.parent}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}_getSplitParts(t){let e;return e=this._splitParts.has(t)?this._splitParts.get(t):[t],e}_removeEmptyElements(){let t=!1;for(const e of this._splitParts.keys())e.isEmpty&&(this.conversionApi.writer.remove(e),this._splitParts.delete(e),t=!0);t&&this._removeEmptyElements()}}function Nn(t,e){const n=new Set,i=new Map,r=$t["a"]._createIn(t).getItems();for(const s of r)"$marker"==s.name&&n.add(s);for(const s of n){const t=s.getAttribute("data-name"),n=e.createPositionBefore(s);i.has(t)?i.get(t).end=n.clone():i.set(t,new $t["a"](n.clone())),e.remove(s)}return i}function jn(t,e){let n;for(const i of new gn(t)){const t={};for(const e of i.getAttributeKeys())t[e]=i.getAttribute(e);const r=e.createElement(i.name,t);n&&e.append(r,n),n=Ut["a"]._createAt(r,0)}return n}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */Object(p["a"])(In,zt["c"]);class Mn{constructor(t,e){this.model=t,this.processor=e,this.mapper=new qt,this.downcastDispatcher=new Gt({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",me(),{priority:"lowest"}),this.upcastDispatcher=new In({schema:t.schema}),this.upcastDispatcher.on("text",$e(),{priority:"lowest"}),this.upcastDispatcher.on("element",Ue(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",Ue(),{priority:"lowest"}),this.decorate("init"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"})}get(t){const{rootName:e="main",trim:n="empty"}=t||{};if(!this._checkIfRootsExists([e]))throw new _["b"]("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.");const i=this.model.document.getRoot(e);return"empty"!==n||this.model.hasContent(i,{ignoreWhitespaces:!0})?this.stringify(i):""}stringify(t){const e=this.toView(t);return this.processor.toData(e)}toView(t){this.mapper.clearBindings();const e=$t["a"]._createIn(t),n=new M["a"],i=new V(new g);if(this.mapper.bindElements(t,n),this.downcastDispatcher.convertInsert(e,i),!t.is("documentFragment")){const e=Bn(t);for(const[t,n]of e)this.downcastDispatcher.convertMarkerAdd(t,n,i)}return n}init(t){if(this.model.document.version)throw new _["b"]("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.");let e={};if("string"===typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new _["b"]("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.");return this.model.enqueueChange("transparent",t=>{for(const n of Object.keys(e)){const i=this.model.document.getRoot(n);t.insert(this.parse(e[n],i),i,0)}}),Promise.resolve()}set(t){let e={};if("string"===typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new _["b"]("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.");this.model.enqueueChange("transparent",t=>{t.setSelection(null),t.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const n of Object.keys(e)){const i=this.model.document.getRoot(n);t.remove(t.createRangeIn(i)),t.insert(this.parse(e[n],i),i,0)}})}parse(t,e="$root"){const n=this.processor.toView(t);return this.toModel(n,e)}toModel(t,e="$root"){return this.model.change(n=>{return this.upcastDispatcher.convert(t,n,e)})}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t)if(!this.model.document.getRootNames().includes(e))return!1;return!0}}function Bn(t){const e=[],n=t.root.document;if(!n)return[];const i=$t["a"]._createIn(t);for(const r of n.model.markers){const t=i.getIntersection(r.getRange());t&&e.push([r.name,t])}return e}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */Object(p["a"])(Mn,m["a"]);class Dn{constructor(t,e){this._helpers=new Map,this._downcast=Array.isArray(t)?t:[t],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(e)?e:[e],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const n=this._downcast.includes(e),i=this._upcast.includes(e);if(!i&&!n)throw new _["b"]("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.");this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}for(t){if(!this._helpers.has(t))throw new _["b"]("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.");return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:n}of Vn(t))this.for("upcast").elementToElement({model:e,view:n,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:n}of Vn(t))this.for("upcast").elementToAttribute({view:n,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:n}of Vn(t))this.for("upcast").attributeToAttribute({view:n,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:n}){if(this._helpers.has(t))throw new _["b"]("conversion-group-exists: Trying to register a group name that has already been registered.");const i=n?new pe(e):new Le(e);this._helpers.set(t,i)}}function*Vn(t){if(t.model.values)for(const e of t.model.values){const n={key:t.model.key,value:e},i=t.view[e],r=t.upcastAlso?t.upcastAlso[e]:void 0;yield*Fn(n,i,r)}else yield*Fn(t.model,t.view,t.upcastAlso)}function*Fn(t,e,n){if(yield{model:t,view:e},n){n=Array.isArray(n)?n:[n];for(const e of n)yield{model:t,view:e}}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class Ln{constructor(t="default"){this.operations=[],this.type=t}get baseVersion(){for(const t of this.operations)if(null!==t.baseVersion)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}var Un=n("73f9"),$n=n("6c92"),zn=n("dfe0");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class qn extends $n["a"]{constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new _["b"]("detach-operation-on-document-node: Cannot detach document node.")}_execute(){Object(zn["d"])($t["a"]._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}var Hn=n("17e1"),Wn=n("f4bc"),Jn=n("63d0"),Yn=n("8e03"),Gn=n("6472"),Kn=n("0066"),Xn=n("98ea"),Qn=n("db03");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class Zn extends Xt["a"]{constructor(t,e,n="main"){super(e),this._doc=t,this.rootName=n}get document(){return this._doc}is(t,e){return e?"rootElement"==t&&e==this.name||super.is(t,e):"rootElement"==t||super.is(t)}toJSON(){return this.rootName}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class ti{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new re["a"](t,e)}createElement(t,e){return new Xt["a"](t,e)}createDocumentFragment(){return new Qn["a"]}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof re["a"]&&""==t.data)return;const i=Ut["a"]._createAt(e,n);if(t.parent){if(si(t.root,i.root))return void this.move($t["a"]._createOn(t),i);if(t.root.document)throw new Error("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree.");this.remove(t)}const r=i.root.document?i.root.document.version:null,s=new Hn["a"](i,t,r);if(t instanceof re["a"]&&(s.shouldReceiveAttributes=!0),this.batch.addOperation(s),this.model.applyOperation(s),t instanceof Qn["a"])for(const[o,a]of t.markers){const t=Ut["a"]._createAt(a.root,0),e=new $t["a"](a.start._getCombined(t,i),a.end._getCombined(t,i));this.addMarker(o,{range:e,usingOperation:!0,affectsData:!0})}}insertText(t,e,n,i){e instanceof Qn["a"]||e instanceof Xt["a"]||e instanceof Ut["a"]?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,i)}insertElement(t,e,n,i){e instanceof Qn["a"]||e instanceof Xt["a"]||e instanceof Ut["a"]?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,i)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof Qn["a"]||e instanceof Xt["a"]?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof Qn["a"]||e instanceof Xt["a"]?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof $t["a"]){const i=n.getMinimalFlatRanges();for(const n of i)ei(this,t,e,n)}else ni(this,t,e,n)}setAttributes(t,e){for(const[n,i]of Object(se["a"])(t))this.setAttribute(n,i,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof $t["a"]){const n=e.getMinimalFlatRanges();for(const e of n)ei(this,t,null,e)}else ni(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=t=>{for(const e of t.getAttributeKeys())this.removeAttribute(e,t)};if(t instanceof $t["a"])for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof $t["a"]))throw new _["b"]("writer-move-invalid-range: Invalid range to move.");if(!t.isFlat)throw new _["b"]("writer-move-range-not-flat: Range to move is not flat.");const i=Ut["a"]._createAt(e,n);if(i.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!si(t.root,i.root))throw new _["b"]("writer-move-different-document: Range is going to be moved between different documents.");const r=t.root.document?t.root.document.version:null,s=new Jn["a"](t.start,t.end.offset-t.start.offset,i,r);this.batch.addOperation(s),this.model.applyOperation(s)}remove(t){this._assertWriterUsedCorrectly();const e=t instanceof $t["a"]?t:$t["a"]._createOn(t),n=e.getMinimalFlatRanges().reverse();for(const i of n)this._addOperationForAffectedMarkers("move",i),ri(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof Xt["a"]))throw new _["b"]("writer-merge-no-element-before: Node before merge position must be an element.");if(!(n instanceof Xt["a"]))throw new _["b"]("writer-merge-no-element-after: Node after merge position must be an element.");t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(t,e,n){return this.model.createSelection(t,e,n)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move($t["a"]._createIn(n),Ut["a"]._createAt(e,"end")),this.remove(n)}_merge(t){const e=Ut["a"]._createAt(t.nodeBefore,"end"),n=Ut["a"]._createAt(t.nodeAfter,0),i=t.root.document.graveyard,r=new Ut["a"](i,[0]),s=t.root.document.version,o=new Xn["a"](n,t.nodeAfter.maxOffset,e,r,s);this.batch.addOperation(o),this.model.applyOperation(o)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof Xt["a"]))throw new _["b"]("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.");const n=t.root.document?t.root.document.version:null,i=new Yn["a"](Ut["a"]._createBefore(t),t.name,e,n);this.batch.addOperation(i),this.model.applyOperation(i)}split(t,e){this._assertWriterUsedCorrectly();let n,i,r=t.parent;if(!r.parent)throw new _["b"]("writer-split-element-no-parent: Element with no parent can not be split.");if(e||(e=r.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new _["b"]("writer-split-invalid-limit-element: Limit element is not a position ancestor.");do{const e=r.root.document?r.root.document.version:null,s=r.maxOffset-t.offset,o=new Kn["a"](t,s,null,e);this.batch.addOperation(o),this.model.applyOperation(o),n||i||(n=r,i=t.parent.nextSibling),t=this.createPositionAfter(t.parent),r=t.parent}while(r!==e);return{position:t,range:new $t["a"](Ut["a"]._createAt(n,"end"),Ut["a"]._createAt(i,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new _["b"]("writer-wrap-range-not-flat: Range to wrap is not flat.");const n=e instanceof Xt["a"]?e:new Xt["a"](e);if(n.childCount>0)throw new _["b"]("writer-wrap-element-not-empty: Element to wrap with is not empty.");if(null!==n.parent)throw new _["b"]("writer-wrap-element-attached: Element to wrap with is already attached to tree model.");this.insert(n,t.start);const i=new $t["a"](t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(i,Ut["a"]._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new _["b"]("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.");this.move($t["a"]._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new _["b"]("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.");const n=e.usingOperation,i=e.range,r=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new _["b"]("writer-addMarker-marker-exists: Marker with provided name already exists.");if(!i)throw new _["b"]("writer-addMarker-no-range: Range parameter is required when adding a new marker.");return n?(ii(this,t,null,i,r),this.model.markers.get(t)):this.model.markers._set(t,i,n,r)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n="string"==typeof t?t:t.name,i=this.model.markers.get(n);if(!i)throw new _["b"]("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.");if(!e)return void this.model.markers._refresh(i);const r="boolean"==typeof e.usingOperation,s="boolean"==typeof e.affectsData,o=s?e.affectsData:i.affectsData;if(!r&&!e.range&&!s)throw new _["b"]("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.");const a=i.getRange(),c=e.range?e.range:a;r&&e.usingOperation!==i.managedUsingOperations?e.usingOperation?ii(this,n,null,c,o):(ii(this,n,a,null,o),this.model.markers._set(n,c,void 0,o)):i.managedUsingOperations?ii(this,n,a,c,o):this.model.markers._set(n,c,void 0,o)}removeMarker(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new _["b"]("writer-removeMarker-no-marker: Trying to remove marker which does not exist.");const n=this.model.markers.get(e);if(!n.managedUsingOperations)return void this.model.markers._remove(e);const i=n.getRange();ii(this,e,i,null,n.affectsData)}setSelection(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),"string"===typeof t)this._setSelectionAttribute(t,e);else for(const[n,i]of Object(se["a"])(t))this._setSelectionAttribute(n,i)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),"string"===typeof t)this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=ce._getStoreAttributeKey(t);this.setAttribute(i,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=ce._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new _["b"]("writer-incorrect-use: Trying to use a writer outside the change() block.")}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const i=n.getRange();let r=!1;if("move"==t)r=e.containsPosition(i.start)||e.start.isEqual(i.start)||e.containsPosition(i.end)||e.end.isEqual(i.end);else{const t=e.nodeBefore,n=e.nodeAfter,s=i.start.parent==t&&i.start.isAtEnd,o=i.end.parent==n&&0==i.end.offset;r=s||o}r&&this.updateMarker(n.name,{range:i})}}}function ei(t,e,n,i){const r=t.model,s=r.document;let o,a,c,l=i.start;for(const h of i.getWalker({shallow:!0}))c=h.item.getAttribute(e),o&&a!=c&&(a!=n&&u(),l=o),o=h.nextPosition,a=c;function u(){const i=new $t["a"](l,o),c=i.root.document?s.version:null,u=new Un["a"](i,e,a,n,c);t.batch.addOperation(u),r.applyOperation(u)}o instanceof Ut["a"]&&o!=l&&a!=n&&u()}function ni(t,e,n,i){const r=t.model,s=r.document,o=i.getAttribute(e);let a,c;if(o!=n){const l=i.root===i;if(l){const t=i.document?s.version:null;c=new Gn["a"](i,e,o,n,t)}else{a=new $t["a"](Ut["a"]._createBefore(i),t.createPositionAfter(i));const r=a.root.document?s.version:null;c=new Un["a"](a,e,o,n,r)}t.batch.addOperation(c),r.applyOperation(c)}}function ii(t,e,n,i,r){const s=t.model,o=s.document,a=new Wn["a"](e,n,i,s.markers,r,o.version);t.batch.addOperation(a),s.applyOperation(a)}function ri(t,e,n,i){let r;if(t.root.document){const n=i.document,s=new Ut["a"](n.graveyard,[0]);r=new Jn["a"](t,e,s,n.version)}else r=new qn(t,e);n.addOperation(r),i.applyOperation(r)}function si(t,e){return t===e||t instanceof Zn&&e instanceof Zn}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class oi{constructor(t){this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}bufferOperation(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const e of t.range.getItems())this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const e=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=$t["a"]._createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getRange();this.bufferMarkerChange(t.name,e,e,t.affectsData)}break}case"split":{const e=t.splitPosition.parent;this._isInInsertedElement(e)||this._markRemove(e,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const e=t.sourcePosition.parent;this._isInInsertedElement(e.parent)||this._markRemove(e.parent,e.startOffset,1);const n=t.graveyardPosition.parent;this._markInsert(n,t.graveyardPosition.offset,1);const i=t.targetPosition.parent;this._isInInsertedElement(i)||this._markInsert(i,t.targetPosition.offset,e.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n,i){const r=this._changedMarkers.get(t);r?(r.newRange=n,r.affectsData=i,null==r.oldRange&&null==r.newRange&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:e,newRange:n,affectsData:i})}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.oldRange&&t.push({name:e,range:n.oldRange});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.newRange&&t.push({name:e,range:n.newRange});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(t=>({name:t[0],data:{oldRange:t[1].oldRange,newRange:t[1].newRange}}))}hasDataChanges(){for(const[,t]of this._changedMarkers)if(t.affectsData)return!0;return this._changesInElement.size>0}getChanges(t={includeChangesInGraveyard:!1}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();const e=[];for(const n of this._changesInElement.keys()){const t=this._changesInElement.get(n).sort((t,e)=>{return t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1}),i=this._elementSnapshots.get(n),r=ai(n.getChildren()),s=ci(i.length,t);let o=0,a=0;for(const c of s)if("i"===c)e.push(this._getInsertDiff(n,o,r[o].name)),o++;else if("r"===c)e.push(this._getRemoveDiff(n,o,i[a].name)),a++;else if("a"===c){const t=r[o].attributes,s=i[a].attributes;let c;if("$text"==r[o].name)c=new $t["a"](Ut["a"]._createAt(n,o),Ut["a"]._createAt(n,o+1));else{const t=n.offsetToIndex(o);c=new $t["a"](Ut["a"]._createAt(n,o),Ut["a"]._createAt(n.getChild(t),0))}e.push(...this._getAttributesDiff(c,s,t)),o++,a++}else o++,a++}e.sort((t,e)=>{return t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1});for(let n=1;n<e.length;n++){const t=e[n-1],i=e[n],r="remove"==t.type&&"remove"==i.type&&"$text"==t.name&&"$text"==i.name&&t.position.isEqual(i.position),s="insert"==t.type&&"insert"==i.type&&"$text"==t.name&&"$text"==i.name&&t.position.parent==i.position.parent&&t.position.offset+t.length==i.position.offset,o="attribute"==t.type&&"attribute"==i.type&&t.position.parent==i.position.parent&&t.range.isFlat&&i.range.isFlat&&t.position.offset+t.length==i.position.offset&&t.attributeKey==i.attributeKey&&t.attributeOldValue==i.attributeOldValue&&t.attributeNewValue==i.attributeNewValue;(r||s||o)&&(e[n-1].length++,o&&(e[n-1].range.end=e[n-1].range.end.getShiftedBy(1)),e.splice(n,1),n--)}for(const n of e)delete n.changeCount,"attribute"==n.type&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e.slice(),this._cachedChanges=e.slice().filter(li),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(t,e,n){const i={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i)}_markRemove(t,e,n){const i={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let i=0;i<n.length;i++)n[i].howMany<1&&(n.splice(i,1),i--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,ai(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const i=t.offset+t.howMany,r=n.offset+n.howMany;if("insert"==t.type&&("insert"==n.type&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<r&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==n.type&&t.offset<n.offset&&(n.offset+=t.howMany),"attribute"==n.type))if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<r){const r=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:i,howMany:r-n.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(i<=r)if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e,t.nodesToHandle-=e}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<r){const e=r-t.offset;n.howMany-=e,t.nodesToHandle-=e}if("remove"==n.type&&(i<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e}else if(t.offset<r)if(i<=r){const i=n.howMany;n.howMany=t.offset-n.offset;const r=i-n.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:r,count:this._changeCount++})}else n.howMany-=r-t.offset}if("attribute"==t.type){if("insert"==n.type)if(t.offset<n.offset&&i>n.offset){if(i>r){const t={type:"attribute",offset:r,howMany:i-r,count:this._changeCount++};this._handleChange(t,e),e.push(t)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<r&&(i>r?(t.nodesToHandle=i-r,t.offset=r):t.nodesToHandle=0);if("remove"==n.type&&t.offset<n.offset&&i>n.offset){const r={type:"attribute",offset:n.offset,howMany:i-n.offset,count:this._changeCount++};this._handleChange(r,e),e.push(r),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==n.type&&(t.offset>=n.offset&&i<=r?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&i>=r&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n){return{type:"insert",position:Ut["a"]._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,n){return{type:"remove",position:Ut["a"]._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const i=[];n=new Map(n);for(const[r,s]of e){const e=n.has(r)?n.get(r):null;e!==s&&i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:s,attributeNewValue:e,changeCount:this._changeCount++}),n.delete(r)}for(const[r,s]of n)i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:null,attributeNewValue:s,changeCount:this._changeCount++});return i}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),i=t.startOffset;if(n)for(const r of n)if("insert"==r.type&&i>=r.offset&&i<r.offset+r.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const i=new $t["a"](Ut["a"]._createAt(t,e),Ut["a"]._createAt(t,e+n));for(const r of i.getItems({shallow:!0}))r.is("element")&&(this._elementSnapshots.delete(r),this._changesInElement.delete(r),this._removeAllNestedChanges(r,0,r.maxOffset))}}function ai(t){const e=[];for(const n of t)if(n.is("text"))for(let t=0;t<n.data.length;t++)e.push({name:"$text",attributes:new Map(n.getAttributes())});else e.push({name:n.name,attributes:new Map(n.getAttributes())});return e}function ci(t,e){const n=[];let i=0,r=0;for(const s of e)s.offset>i&&(n.push(..."e".repeat(s.offset-i).split("")),r+=s.offset-i),"insert"==s.type?(n.push(..."i".repeat(s.howMany).split("")),i=s.offset+s.howMany):"remove"==s.type?(n.push(..."r".repeat(s.howMany).split("")),i=s.offset,r+=s.howMany):(n.push(..."a".repeat(s.howMany).split("")),i=s.offset+s.howMany,r+=s.howMany);return r<t&&n.push(..."e".repeat(t-r).split("")),n}function li(t){const e=t.position&&"$graveyard"==t.position.root.rootName,n=t.range&&"$graveyard"==t.range.root.rootName;return!e&&!n}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class ui{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(t){this._operations.includes(t)||this._operations.push(t)}getOperations(t=0,e=Number.POSITIVE_INFINITY){return t<0?[]:this._operations.slice(t,e)}getOperation(t){return this._operations[t]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function hi(t){return!!t&&1==t.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t)}function di(t){return!!t&&1==t.length&&/[\ud800-\udbff]/.test(t)}function fi(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}function pi(t,e){return di(t.charAt(e-1))&&fi(t.charAt(e))}function mi(t,e){return hi(t.charAt(e))}var gi=n("758b");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const bi="$graveyard";class vi{constructor(t){this.model=t,this.version=0,this.history=new ui(this),this.selection=new ce(this),this.roots=new f["a"]({idProperty:"rootName"}),this.differ=new oi(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",bi),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];if(n.isDocumentOperation&&n.baseVersion!==this.version)throw new _["b"]("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",{operation:n})},{priority:"highest"}),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&this.differ.bufferOperation(n)},{priority:"high"}),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&(this.version++,this.history.addOperation(n))},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(t,e,n,i)=>{this.differ.bufferMarkerChange(e.name,n,i,e.affectsData),null===n&&e.on("change",(t,n)=>{this.differ.bufferMarkerChange(e.name,n,e.getRange(),e.affectsData)})})}get graveyard(){return this.getRoot(bi)}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new _["b"]("model-document-createRoot-name-exists: Root with specified name already exists.",{name:e});const n=new Zn(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,t=>t.rootName).filter(t=>t!=bi)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=Object(gi["a"])(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,n=e.schema,i=e.createPositionFromPath(t,[0]),r=n.getNearestSelectionRange(i);return r||e.createRange(i)}_validateSelectionRange(t){return wi(t.start)&&wi(t.end)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t),e)break}while(e)}}function wi(t){const e=t.textNode;if(e){const n=e.data,i=t.offset-e.startOffset;return!pi(n,i)&&!mi(n,i)}return!0}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */Object(p["a"])(vi,zt["c"]);class yi{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){return this._markers.has(t)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,i=!1){const r=t instanceof xi?t.name:t,s=this._markers.get(r);if(s){const t=s.getRange();let o=!1;return t.isEqual(e)||(s._attachLiveRange(ie["a"].fromRange(e)),o=!0),n!=s.managedUsingOperations&&(s._managedUsingOperations=n,o=!0),"boolean"===typeof i&&i!=s.affectsData&&(s._affectsData=i,o=!0),o&&this.fire("update:"+r,s,t,e),s}const o=ie["a"].fromRange(e),a=new xi(r,o,n,i);return this._markers.set(r,a),this.fire("update:"+r,a,null,e),a}_remove(t){const e=t instanceof xi?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null),this._destroyMarker(n),!0)}_refresh(t){const e=t instanceof xi?t.name:t,n=this._markers.get(e);if(!n)throw new _["b"]("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.");const i=n.getRange();this.fire("update:"+e,n,i,i,n.managedUsingOperations,n.affectsData)}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)null!==e.getRange().getIntersection(t)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}Object(p["a"])(yi,zt["c"]);class xi{constructor(t,e,n,i){this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new _["b"]("marker-destroyed: Cannot use a destroyed marker instance.");return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new _["b"]("marker-destroyed: Cannot use a destroyed marker instance.");return this._affectsData}getStart(){if(!this._liveRange)throw new _["b"]("marker-destroyed: Cannot use a destroyed marker instance.");return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new _["b"]("marker-destroyed: Cannot use a destroyed marker instance.");return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new _["b"]("marker-destroyed: Cannot use a destroyed marker instance.");return this._liveRange.toRange()}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Object(p["a"])(xi,zt["c"]);var _i=n("96f5");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function ki(t,e,n,i){return t.change(r=>{let s;s=n?n instanceof Zt||n instanceof ce?n:r.createSelection(n,i):t.document.selection;const o=s.getFirstPosition();s.isCollapsed||t.deleteContent(s,{doNotAutoparagraph:!0});const a=new Ci(t,r,o);let c;c=e.is("documentFragment")?e.getChildren():[e],a.handleNodes(c,{isFirst:!0,isLast:!0});const l=a.getSelectionRange();l?s instanceof ce?r.setSelection(l):s.setTo(l):_t["a"].warn("insertcontent-no-range: Cannot determine a proper selection range after insertion.");const u=a.getAffectedRange()||t.createRange(o);return a.destroy(),u})}class Ci{constructor(t,e,n){this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(t,e){t=Array.from(t);for(let n=0;n<t.length;n++){const i=t[n];this._handleNode(i,{isFirst:0===n&&e.isFirst,isLast:n===t.length-1&&e.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}getSelectionRange(){return this.nodeToSelect?$t["a"]._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new $t["a"](this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t,e){if(this.schema.isObject(t))return void this._handleObject(t,e);const n=this._checkAndSplitToAllowedPosition(t,e);n?(this._insert(t),this._mergeSiblingsOf(t,e)):this._handleDisallowedNode(t,e)}_handleObject(t,e){this._checkAndSplitToAllowedPosition(t)?this._insert(t):this._tryAutoparagraphing(t,e)}_handleDisallowedNode(t,e){t.is("element")?this.handleNodes(t.getChildren(),e):this._tryAutoparagraphing(t,e)}_insert(t){if(!this.schema.checkChild(this.position,t))return void _t["a"].error("insertcontent-wrong-position: The node cannot be inserted on the given position.",{node:t,position:this.position});const e=_i["a"].fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(t,this.position),this.position=e.toPosition(),e.detach(),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=t:this.nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=_i["a"].fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=_i["a"].fromPosition(t,"toNext"))}_mergeSiblingsOf(t,e){if(!(t instanceof Xt["a"]))return;const n=this._canMergeLeft(t,e),i=this._canMergeRight(t,e),r=_i["a"]._createBefore(t);r.stickiness="toNext";const s=_i["a"]._createAfter(t);if(s.stickiness="toNext",n){const t=_i["a"].fromPosition(this.position);t.stickiness="toNext",this._affectedStart.isEqual(r)&&(this._affectedStart.detach(),this._affectedStart=_i["a"]._createAt(r.nodeBefore,"end","toPrevious")),this.writer.merge(r),r.isEqual(this._affectedEnd)&&e.isLast&&(this._affectedEnd.detach(),this._affectedEnd=_i["a"]._createAt(r.nodeBefore,"end","toNext")),this.position=t.toPosition(),t.detach()}if(i){this.position.isEqual(s)||_t["a"].error("insertcontent-wrong-position-on-merge: The insertion position should equal the merge position"),this.position=Ut["a"]._createAt(s.nodeBefore,"end");const t=_i["a"].fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(s)&&(this._affectedEnd.detach(),this._affectedEnd=_i["a"]._createAt(s.nodeBefore,"end","toNext")),this.writer.merge(s),s.getShiftedBy(-1).isEqual(this._affectedStart)&&e.isFirst&&(this._affectedStart.detach(),this._affectedStart=_i["a"]._createAt(s.nodeBefore,0,"toPrevious")),this.position=t.toPosition(),t.detach()}(n||i)&&this._filterAttributesOf.push(this.position.parent),r.detach(),s.detach()}_canMergeLeft(t,e){const n=t.previousSibling;return e.isFirst&&n instanceof Xt["a"]&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,t)}_canMergeRight(t,e){const n=t.nextSibling;return e.isLast&&n instanceof Xt["a"]&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(t,n)}_tryAutoparagraphing(t,e){const n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,t)&&(n._appendChild(t),this._handleNode(n,e))}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(t,this.position.parent);if(!e)return!1;while(e!=this.position.parent){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const t=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(t,e){return this.schema.checkChild(e,t)?e:e.parent?this._getAllowedIn(t,e.parent):null}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function Ai(t,e,n={}){if(e.isCollapsed)return;const i=e.getFirstRange();if("$graveyard"==i.root.rootName)return;const r=t.schema;t.change(t=>{if(!n.doNotResetEntireContent&&Ri(r,e))return void Si(t,e,r);const s=i.start,o=_i["a"].fromPosition(i.end,"toNext");if(i.start.isTouching(i.end)||t.remove(i),n.leaveUnmerged||(Ti(t,s,o),r.removeDisallowedAttributes(s.parent.getChildren(),t)),Ii(t,e,s),Oi(r,s)){const i=r.getNearestSelectionRange(s);n.doNotAutoparagraph&&i?Ii(t,e,i):Pi(t,s,e)}o.detach()})}function Ti(t,e,n){const i=e.parent,r=n.parent;if(i!=r&&!t.model.schema.isLimit(i)&&!t.model.schema.isLimit(r)&&Ei(e,n,t.model.schema)){e=t.createPositionAfter(i),n=t.createPositionBefore(r),n.isEqual(e)||t.insert(r,e),t.merge(e);while(n.parent.isEmpty){const e=n.parent;n=t.createPositionBefore(e),t.remove(e)}Ti(t,e,n)}}function Oi(t,e){const n=t.checkChild(e,"$text"),i=t.checkChild(e,"paragraph");return!n&&i}function Ei(t,e,n){const i=new $t["a"](t,e);for(const r of i.getWalker())if(n.isLimit(r.item))return!1;return!0}function Pi(t,e,n){const i=t.createElement("paragraph");t.insert(i,e),Ii(t,n,t.createPositionAt(i,0))}function Si(t,e){const n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),Pi(t,t.createPositionAt(n,0),e)}function Ri(t,e){const n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const i=e.getFirstRange();return i.start.parent!=i.end.parent&&t.checkChild(n,"paragraph")}function Ii(t,e,n){e instanceof ce?t.setSelection(n):e.setTo(n)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const Ni=' ,.?!:;"-()';function ji(t,e,n={}){const i=t.schema,r="backward"!=n.direction,s=n.unit?n.unit:"character",o=e.focus,a=new pn["a"]({boundaries:Vi(o,r),singleCharacters:!0,direction:r?"forward":"backward"}),c={walker:a,schema:i,isForward:r,unit:s};let l;while(l=a.next()){if(l.done)return;const n=Mi(c,l.value);if(n)return void(e instanceof ce?t.change(t=>{t.setSelectionFocus(n)}):e.setFocus(n))}}function Mi(t,e){if("text"==e.type)return"word"===t.unit?Di(t.walker,t.isForward):Bi(t.walker,t.unit,t.isForward);if(e.type==(t.isForward?"elementStart":"elementEnd")){if(t.schema.isObject(e.item))return Ut["a"]._createAt(e.item,t.isForward?"after":"before");if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}else{if(t.schema.isLimit(e.item))return void t.walker.skip(()=>!0);if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}}function Bi(t,e){const n=t.position.textNode;if(n){const i=n.data;let r=t.position.offset-n.startOffset;while(pi(i,r)||"character"==e&&mi(i,r))t.next(),r=t.position.offset-n.startOffset}return t.position}function Di(t,e){let n=t.position.textNode;if(n){let i=t.position.offset-n.startOffset;while(!Fi(n.data,i,e)&&!Li(n,i,e)){t.next();const r=e?t.position.nodeAfter:t.position.nodeBefore;if(r&&r.is("text")){const i=r.data.charAt(e?0:r.data.length-1);Ni.includes(i)||(t.next(),n=t.position.textNode)}i=t.position.offset-n.startOffset}}return t.position}function Vi(t,e){const n=t.root,i=Ut["a"]._createAt(n,e?"end":0);return e?new $t["a"](t,i):new $t["a"](i,t)}function Fi(t,e,n){const i=e+(n?0:-1);return Ni.includes(t.charAt(i))}function Li(t,e,n){return e===(n?t.endOffset:0)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function Ui(t,e){return t.change(t=>{const n=t.createDocumentFragment(),i=e.getFirstRange();if(!i||i.isCollapsed)return n;const r=i.start.root,s=i.start.getCommonPath(i.end),o=r.getNodeByPath(s);let a;a=i.start.parent==i.end.parent?i:t.createRange(t.createPositionAt(o,i.start.path[s.length]),t.createPositionAt(o,i.end.path[s.length]+1));const c=a.end.offset-a.start.offset;for(const e of a.getItems({shallow:!0}))e.is("textProxy")?t.appendText(e.data,e.getAttributes(),n):t.append(e._clone(!0),n);if(a!=i){const e=i._getTransformedByMove(a.start,t.createPositionAt(n,0),c)[0],r=t.createRange(t.createPositionAt(n,0),e.start),s=t.createRange(e.end,t.createPositionAt(n,"end"));$i(s,t),$i(r,t)}return n})}function $i(t,e){const n=[];Array.from(t.getItems({direction:"backward"})).map(t=>e.createRangeOn(t)).filter(e=>{const n=(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end));return n}).forEach(t=>{n.push(t.start.parent),e.remove(t)}),n.forEach(t=>{let n=t;while(n.parent&&n.isEmpty){const t=e.createRangeOn(n);n=n.parent,e.remove(t)}})}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function zi(t){t.document.registerPostFixer(e=>qi(e,t))}function qi(t,e){const n=e.document.selection,i=e.schema,r=[];let s=!1;for(const o of n.getRanges()){const t=Hi(o,i);t?(r.push(t),s=!0):r.push(o)}if(s){let e=r;if(r.length>1){const t=r[0].start,n=r[r.length-1].end;e=[new $t["a"](t,n)]}t.setSelection(e,{backward:n.isBackward})}}function Hi(t,e){return t.isCollapsed?Wi(t,e):Ji(t,e)}function Wi(t,e){const n=t.start,i=e.getNearestSelectionRange(n);if(!i)return null;const r=i.start;return n.isEqual(r)?null:r.nodeAfter&&e.isLimit(r.nodeAfter)?new $t["a"](r,Ut["a"]._createAfter(r.nodeAfter)):new $t["a"](r)}function Ji(t,e){const n=t.start,i=t.end,r=e.checkChild(n,"$text"),s=e.checkChild(i,"$text"),o=e.getLimitElement(n),a=e.getLimitElement(i);if(o===a){if(r&&s)return null;if(Gi(n,i,e)){const t=n.nodeAfter&&e.isObject(n.nodeAfter),r=t?null:e.getNearestSelectionRange(n,"forward"),s=i.nodeBefore&&e.isObject(i.nodeBefore),o=s?null:e.getNearestSelectionRange(i,"backward"),a=r?r.start:n,c=o?o.start:i;return new $t["a"](a,c)}}const c=o&&!o.is("rootElement"),l=a&&!a.is("rootElement");if(c||l){const t=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,r=c&&(!t||!Ki(n.nodeAfter,e)),s=l&&(!t||!Ki(i.nodeBefore,e));let u=n,h=i;return r&&(u=Ut["a"]._createBefore(Yi(o,e))),s&&(h=Ut["a"]._createAfter(Yi(a,e))),new $t["a"](u,h)}return null}function Yi(t,e){let n=t,i=n;while(e.isLimit(i)&&i.parent)n=i,i=i.parent;return n}function Gi(t,e,n){const i=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),r=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return i||r}function Ki(t,e){return t&&e.isObject(t)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class Xi{constructor(){this.markers=new yi,this.document=new vi(this),this.schema=new mn,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,e)=>{const n=e[0];n._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck((t,e)=>{if("$marker"===e.name)return!0}),zi(this)}change(t){return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Ln,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}enqueueChange(t,e){"string"===typeof t?t=new Ln(t):"function"==typeof t&&(e=t,t=new Ln),this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}applyOperation(t){t._execute()}insertContent(t,e,n){return ki(this,t,e,n)}deleteContent(t,e){Ai(this,t,e)}modifySelection(t,e){ji(this,t,e)}getSelectedContent(t){return Ui(this,t)}hasContent(t,e){const n=t instanceof Xt["a"]?$t["a"]._createIn(t):t;if(n.isCollapsed)return!1;for(const r of this.markers.getMarkersIntersectingRange(n))if(r.affectsData)return!0;const{ignoreWhitespaces:i=!1}=e||{};for(const r of n.getItems())if(r.is("textProxy")){if(!i)return!0;if(-1!==r.data.search(/\S/))return!0}else if(this.schema.isObject(r))return!0;return!1}createPositionFromPath(t,e,n){return new Ut["a"](t,e,n)}createPositionAt(t,e){return Ut["a"]._createAt(t,e)}createPositionAfter(t){return Ut["a"]._createAfter(t)}createPositionBefore(t){return Ut["a"]._createBefore(t)}createRange(t,e){return new $t["a"](t,e)}createRangeIn(t){return $t["a"]._createIn(t)}createRangeOn(t){return $t["a"]._createOn(t)}createSelection(t,e,n){return new Zt(t,e,n)}createBatch(){return new Ln}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];this.fire("_beforeChanges");while(this._pendingChanges.length){const e=this._pendingChanges[0].batch;this._currentWriter=new ti(this,e);const n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),t}}Object(p["a"])(Xi,m["a"]);var Qi=n("91db");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class Zi extends Qi["a"]{constructor(t){super(),this.editor=t}set(t,e,n={}){if("string"==typeof e){const t=e;e=((e,n)=>{this.editor.execute(t),n()})}super.set(t,e,n)}}n.d(e,"a",function(){return tr});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class tr{constructor(t){const e=this.constructor.builtinPlugins;this.config=new o(t,this.constructor.defaultConfig),this.config.define("plugins",e),this.plugins=new sn(this,e),this.commands=new on,this.locale=new un(this.config.get("language")),this.t=this.locale.t,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.set("isReadOnly",!1),this.model=new Xi,this.data=new Mn(this.model),this.editing=new rn(this.model),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Dn([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Zi(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const t=this.config,e=t.get("plugins")||[],n=t.get("removePlugins")||[],i=t.get("extraPlugins")||[];return this.plugins.init(e.concat(i),n)}destroy(){let t=Promise.resolve();return"initializing"==this.state&&(t=new Promise(t=>this.once("ready",t))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})}execute(...t){this.commands.execute(...t)}}Object(p["a"])(tr,m["a"])},8964:function(t,e,n){var i=n("c8d5"),r=n("b4c7");function s(t){var e=i(t),n=e.getFullYear(),s=new Date(0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);var o=r(s),a=new Date(0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);var c=r(a);return e.getTime()>=o.getTime()?n+1:e.getTime()>=c.getTime()?n:n-1}t.exports=s},"8a91":function(t,e,n){"use strict";var i=n("0f93");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r{constructor(t,e,n){let r,s=null;"function"==typeof n?r=n:(s=t.commands.get(n),r=(()=>{t.execute(n)})),t.model.document.on("change",(n,o)=>{if(s&&!s.isEnabled)return;if("transparent"==o.type)return;const a=Array.from(t.model.document.differ.getChanges()),c=a[0];if(1!=a.length||"insert"!==c.type||"$text"!=c.name||1!=c.length)return;const l=c.position.textNode||c.position.nodeAfter;if(!l.parent.is("paragraph"))return;const u=e.exec(l.data);u&&t.model.enqueueChange(t=>{const e=t.createPositionAt(l.parent,0),n=t.createPositionAt(l.parent,u[0].length),s=new i["a"](e,n),o=r({match:u});!1!==o&&t.remove(s),s.detach()})})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class s{constructor(t,e,n){let i,r,s,c;e instanceof RegExp?i=e:s=e,"string"==typeof n?r=n:c=n,s=s||(t=>{let e;const n=[],r=[];while(null!==(e=i.exec(t))){if(e&&e.length<4)break;let{index:t,1:i,2:s,3:o}=e;const a=i+s+o;t+=e[0].length-a.length;const c=[t,t+i.length],l=[t+i.length+s.length,t+i.length+s.length+o.length];n.push(c),n.push(l),r.push([t+i.length,t+i.length+s.length])}return{remove:n,format:r}}),c=c||((e,n)=>{const i=t.model.schema.getValidRanges(n,r);for(const t of i)e.setAttribute(r,!0,t);e.removeSelectionAttribute(r)}),t.model.document.on("change",(e,n)=>{if("transparent"==n.type)return;const i=t.model.document.selection;if(!i.isCollapsed)return;const r=Array.from(t.model.document.differ.getChanges()),l=r[0];if(1!=r.length||"insert"!==l.type||"$text"!=l.name||1!=l.length)return;const u=i.focus.parent,h=o(u).slice(0,i.focus.offset),d=s(h),f=a(u,d.format,t.model),p=a(u,d.remove,t.model);f.length&&p.length&&t.model.enqueueChange(t=>{const e=c(t,f);if(!1!==e)for(const n of p.reverse())t.remove(n)})})}}function o(t){return Array.from(t.getChildren()).reduce((t,e)=>t+e.data,"")}function a(t,e,n){return e.filter(t=>void 0!==t[0]&&void 0!==t[1]).map(e=>{return n.createRange(n.createPositionAt(t,e[0]),n.createPositionAt(t,e[1]))})}var c=n("109b");n.d(e,"a",function(){return l});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class l extends c["a"]{static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats()}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&new r(this.editor,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&new r(this.editor,/^1[.|)]\s$/,"numberedList")}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const t=u(this.editor,"bold");new s(this.editor,/(\*\*)([^*]+)(\*\*)$/g,t),new s(this.editor,/(__)([^_]+)(__)$/g,t)}if(t.get("italic")){const t=u(this.editor,"italic");new s(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,t),new s(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,t)}if(t.get("code")){const t=u(this.editor,"code");new s(this.editor,/(`)([^`]+)(`)$/g,t)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(e=>{const n=e[7],i=new RegExp(`^(#{${n}})\\s$`);new r(this.editor,i,()=>{if(!t.isEnabled)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&new r(this.editor,/^>\s$/,"blockQuote")}}function u(t,e){return(n,i)=>{const r=t.commands.get(e);if(!r.isEnabled)return!1;const s=t.model.schema.getValidRanges(i,e);for(const t of s)n.setAttribute(e,!0,t);n.removeSelectionAttribute(e)}}},"8ab1":function(t,e,n){"use strict";n.d(e,"a",function(){return x});var i=n("17e1"),r=n("73f9"),s=n("8e03"),o=n("f4bc"),a=n("63d0"),c=n("6472"),l=n("98ea"),u=n("0066"),h=n("869f"),d=n("ad6b"),f=n("9cf5"),p=n("e47a"),m=n("cd4b");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const g=new Map;function b(t,e,n){let i=g.get(t);i||(i=new Map,g.set(t,i)),i.set(e,n)}function v(t,e){const n=g.get(t);return n&&n.has(e)?n.get(e):w}function w(t){return[t]}function y(t,e,n={}){const i=v(t.constructor,e.constructor);try{return t=t.clone(),i(t,e,n)}catch(r){throw m["a"].error("Error during operation transformation!",r.message),m["a"].error("Transformed operation",t),m["a"].error("Operation transformed by",e),m["a"].error("context.aIsStrong",n.aIsStrong),m["a"].error("context.aWasUndone",n.aWasUndone),m["a"].error("context.bWasUndone",n.bWasUndone),m["a"].error("context.abRelation",n.abRelation),m["a"].error("context.baRelation",n.baRelation),r}}function x(t,e,n){if(t=t.slice(),e=e.slice(),0==t.length||0==e.length)return{operationsA:t,operationsB:e};const i=new WeakMap;for(const a of t)i.set(a,0);const r={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length},s=new _(n.document,n.useRelations,n.forceWeakRemove);s.setOriginalOperations(t),s.setOriginalOperations(e);let o=0;while(o<t.length){const n=t[o],r=i.get(n);if(r==e.length){o++;continue}const a=e[r],c=y(n,a,s.getContext(n,a,!0)),l=y(a,n,s.getContext(a,n,!1));s.updateRelation(n,a),s.setOriginalOperations(c,n),s.setOriginalOperations(l,a);for(const t of c)i.set(t,r+l.length);t.splice(o,1,...c),e.splice(r,1,...l)}if(n.padWithNoOps){const n=t.length-r.originalOperationsACount,i=e.length-r.originalOperationsBCount;C(t,i-n),C(e,n-i)}return k(t,r.nextBaseVersionB),k(e,r.nextBaseVersionA),{operationsA:t,operationsB:e}}class _{constructor(t,e,n=!1){this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._originalOperations=new Map,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this._originalOperations.get(e):null;for(const i of t)this._originalOperations.set(i,n||i)}updateRelation(t,e){switch(t.constructor){case a["a"]:switch(e.constructor){case l["a"]:t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter");break;case a["a"]:t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter");break}break;case u["a"]:switch(e.constructor){case l["a"]:t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");break;case a["a"]:(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))&&this._setRelation(t,e,"splitBefore");break}break;case l["a"]:switch(e.constructor){case l["a"]:t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement");break;case u["a"]:t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource")}break;case o["a"]:{const n=t.newRange;if(!n)return;switch(e.constructor){case a["a"]:{const i=d["a"]._createFromPositionAndShift(e.sourcePosition,e.howMany),r=i.containsPosition(n.start)||i.start.isEqual(n.start),s=i.containsPosition(n.end)||i.end.isEqual(n.end);!r&&!s||i.containsRange(n)||this._setRelation(t,e,{side:r?"left":"right",path:r?n.start.path.slice():n.end.path.slice()});break}case l["a"]:{const i=n.start.isEqual(e.targetPosition),r=n.start.isEqual(e.deletionPosition),s=n.end.isEqual(e.deletionPosition),o=n.end.isEqual(e.sourcePosition);(i||r||s||o)&&this._setRelation(t,e,{wasInLeftElement:i,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:s,wasInRightElement:o});break}}break}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this._originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this._originalOperations.get(e),i=this._history.getUndoneOperation(n);if(!i)return null;const r=this._originalOperations.get(t),s=this._relations.get(r);return s&&s.get(i)||null}_setRelation(t,e,n){const i=this._originalOperations.get(t),r=this._originalOperations.get(e);let s=this._relations.get(i);s||(s=new Map,this._relations.set(i,s)),s.set(r,n)}}function k(t,e){for(const n of t)n.baseVersion=e++}function C(t,e){for(let n=0;n<e;n++)t.push(new h["a"](0))}function A(t,e,n){const i=t.nodes,s=i.getNode(0).getAttribute(e);if(s==n)return null;const o=new d["a"](t.position,t.position.getShiftedBy(t.howMany));return new r["a"](o,e,s,n,0)}function T(t,e){const n=d["a"]._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=null,r=[];n.containsRange(t,!0)?i=t:t.start.hasSameParentAs(n.start)?(r=t.getDifference(n),i=t.getIntersection(n)):r=[t];const s=[];for(let o of r){o=o._getTransformedByDeletion(e.sourcePosition,e.howMany);const t=e.getMovedRangeStart(),n=o.start.hasSameParentAs(t);o=o._getTransformedByInsertion(t,e.howMany,n),s.push(...o)}return i&&s.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),s}function O(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function E(t,e){const n=[];for(let i=0;i<t.length;i++){const r=t[i],s=new a["a"](r.start,r.end.offset-r.start.offset,e,0);n.push(s);for(let e=i+1;e<t.length;e++)t[e]=t[e]._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)[0];e=e._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)}return n}b(r["a"],r["a"],(t,e,n)=>{if(t.key===e.key){const i=t.range.getDifference(e.range).map(e=>{return new r["a"](e,t.key,t.oldValue,t.newValue,0)}),s=t.range.getIntersection(e.range);return s&&n.aIsStrong&&i.push(new r["a"](s,e.key,e.newValue,t.newValue,0)),0==i.length?[new h["a"](0)]:i}return[t]}),b(r["a"],i["a"],(t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes),i=n.map(e=>{return new r["a"](e,t.key,t.oldValue,t.newValue,t.baseVersion)});if(e.shouldReceiveAttributes){const n=A(e,t.key,t.oldValue);n&&i.unshift(n)}return i}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]}),b(r["a"],l["a"],(t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(d["a"]._createFromPositionAndShift(e.graveyardPosition,1));const i=t.range._getTransformedByMergeOperation(e);return i.isCollapsed||n.push(i),n.map(e=>{return new r["a"](e,t.key,t.oldValue,t.newValue,t.baseVersion)})}),b(r["a"],a["a"],(t,e)=>{const n=T(t.range,e);return n.map(e=>new r["a"](e,t.key,t.oldValue,t.newValue,t.baseVersion))}),b(r["a"],u["a"],(t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new d["a"](e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]}),b(i["a"],r["a"],(t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const i=A(t,e.key,e.newValue);i&&n.push(i)}return n}),b(i["a"],i["a"],(t,e,n)=>{return t.position.isEqual(e.position)&&n.aIsStrong?[t]:(t.position=t.position._getTransformedByInsertOperation(e),[t])}),b(i["a"],a["a"],(t,e)=>{return t.position=t.position._getTransformedByMoveOperation(e),[t]}),b(i["a"],u["a"],(t,e)=>{return t.position=t.position._getTransformedBySplitOperation(e),[t]}),b(i["a"],l["a"],(t,e)=>{return t.position=t.position._getTransformedByMergeOperation(e),[t]}),b(o["a"],i["a"],(t,e)=>{return t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t]}),b(o["a"],o["a"],(t,e,n)=>{if(t.name==e.name){if(!n.aIsStrong)return[new h["a"](0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]}),b(o["a"],l["a"],(t,e)=>{return t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t]}),b(o["a"],a["a"],(t,e,n)=>{if(t.oldRange&&(t.oldRange=d["a"]._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){const i=d["a"]._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.start.path=n.abRelation.path,t.newRange.end=i.end,[t];if("right"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=i.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=d["a"]._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]}),b(o["a"],u["a"],(t,e,n)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){const i=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=f["a"]._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=f["a"]._createAt(e.moveTargetPosition)),t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?t.newRange.end=f["a"]._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?t.newRange.end=f["a"]._createAt(e.insertionPosition):t.newRange.end=i.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]}),b(l["a"],i["a"],(t,e)=>{return t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t]}),b(l["a"],l["a"],(t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),t.sourcePosition=new f["a"](e.graveyardPosition.root,n),t.howMany=0,[t]}return[new h["a"](0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const i="$graveyard"==t.targetPosition.root.rootName,r="$graveyard"==e.targetPosition.root.rootName,s=i&&!r,o=r&&!i,c=o||!s&&n.aIsStrong;if(c){const n=e.targetPosition._getTransformedByMergeOperation(e),i=t.targetPosition._getTransformedByMergeOperation(e);return[new a["a"](n,t.howMany,i,0)]}return[new h["a"](0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),b(l["a"],a["a"],(t,e,n)=>{const i=d["a"]._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition)?[new h["a"](0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])}),b(l["a"],u["a"],(t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){const i=0!=e.howMany,r=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(i||r||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}),b(a["a"],i["a"],(t,e)=>{const n=d["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany),i=n._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=i.start,t.howMany=i.end.offset-i.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]}),b(a["a"],a["a"],(t,e,n)=>{const i=d["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany),r=d["a"]._createFromPositionAndShift(e.sourcePosition,e.howMany);let s,o=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),s=t.targetPosition.isEqual(e.targetPosition)&&a?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),O(t,e)&&O(e,t))return[e.getReversed()];const c=i.containsPosition(e.targetPosition);if(c&&i.containsRange(r,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),E([i],s);const l=r.containsPosition(t.targetPosition);if(l&&r.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),E([i],s);const u=Object(p["a"])(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==u||"extension"==u)return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),E([i],s);"remove"!=t.type||"remove"==e.type||n.aWasUndone||n.forceWeakRemove?"remove"==t.type||"remove"!=e.type||n.bWasUndone||n.forceWeakRemove||(o=!1):o=!0;const f=[],m=i.getDifference(r);for(const h of m){h.start=h.start._getTransformedByDeletion(e.sourcePosition,e.howMany),h.end=h.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const t="same"==Object(p["a"])(h.start.getParentPath(),e.getMovedRangeStart().getParentPath()),n=h._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,t);f.push(...n)}const g=i.getIntersection(r);return null!==g&&o&&(g.start=g.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),g.end=g.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===f.length?f.push(g):1==f.length?r.start.isBefore(i.start)||r.start.isEqual(i.start)?f.unshift(g):f.push(g):f.splice(1,0,g)),0===f.length?[new h["a"](t.baseVersion)]:E(f,s)}),b(a["a"],u["a"],(t,e,n)=>{let i=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(i=t.targetPosition._getTransformedBySplitOperation(e));const r=d["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany);if(r.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=i,[t];if(r.start.hasSameParentAs(e.splitPosition)&&r.containsPosition(e.splitPosition)){let t=new d["a"](e.splitPosition,r.end);t=t._getTransformedBySplitOperation(e);const n=[new d["a"](r.start,e.splitPosition),t];return E(n,i)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(i=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(i=t.targetPosition);const s=r._getTransformedBySplitOperation(e),o=[s];if(e.graveyardPosition){const i=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);t.howMany>1&&i&&!n.aWasUndone&&o.push(d["a"]._createFromPositionAndShift(e.insertionPosition,1))}return E(o,i)}),b(a["a"],l["a"],(t,e,n)=>{const i=d["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition))if("remove"!=t.type||n.forceWeakRemove){if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new h["a"](0)]}else if(!n.aWasUndone){const n=[];let i=e.graveyardPosition.clone(),r=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(n.push(new a["a"](t.sourcePosition,t.howMany-1,t.targetPosition,0)),i=i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),r=r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));const s=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),o=new a["a"](i,1,s,0),c=o.getMovedRangeStart().path.slice();c.push(0);const l=new f["a"](o.targetPosition.root,c);r=r._getTransformedByMove(i,s,1);const u=new a["a"](r,e.howMany,l,0);return n.push(o),n.push(u),n}const r=d["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany),s=r._getTransformedByMergeOperation(e);return t.sourcePosition=s.start,t.howMany=s.end.offset-s.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]}),b(s["a"],i["a"],(t,e)=>{return t.position=t.position._getTransformedByInsertOperation(e),[t]}),b(s["a"],l["a"],(t,e)=>{return t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t])}),b(s["a"],a["a"],(t,e)=>{return t.position=t.position._getTransformedByMoveOperation(e),[t]}),b(s["a"],s["a"],(t,e,n)=>{if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new h["a"](0)];t.oldName=e.newName}return[t]}),b(s["a"],u["a"],(t,e)=>{const n=t.position.path,i=e.splitPosition.getParentPath();if("same"==Object(p["a"])(n,i)&&!e.graveyardPosition){const e=new s["a"](t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,e]}return t.position=t.position._getTransformedBySplitOperation(e),[t]}),b(c["a"],c["a"],(t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new h["a"](0)];t.oldValue=e.newValue}return[t]}),b(u["a"],i["a"],(t,e)=>{return t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=u["a"].getInsertionPosition(t.splitPosition),[t]}),b(u["a"],l["a"],(t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const i=new f["a"](e.graveyardPosition.root,n),r=u["a"].getInsertionPosition(new f["a"](e.graveyardPosition.root,n)),s=new u["a"](i,0,null,0);return s.insertionPosition=r,t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=u["a"].getInsertionPosition(t.splitPosition),t.graveyardPosition=s.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[s,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=u["a"].getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),b(u["a"],a["a"],(t,e,n)=>{const i=d["a"]._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const r=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&r){const n=t.splitPosition._getTransformedByMoveOperation(e),i=t.graveyardPosition._getTransformedByMoveOperation(e),r=i.path.slice();r.push(0);const s=new f["a"](i.root,r),o=new a["a"](n,t.howMany,s,0);return[o]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.splitPosition)){const n=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=n,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=u["a"].getInsertionPosition(t.splitPosition),[t]}const r=t.splitPosition.isEqual(e.targetPosition);return!r||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=u["a"].getInsertionPosition(t.splitPosition),[t]):(t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=u["a"].getInsertionPosition(t.splitPosition),[t])}),b(u["a"],u["a"],(t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new h["a"](0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new h["a"](0)];if("splitBefore"==n.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const i="$graveyard"==t.splitPosition.root.rootName,r="$graveyard"==e.splitPosition.root.rootName,s=i&&!r,o=r&&!i,c=o||!s&&n.aIsStrong;if(c){const n=[];return e.howMany&&n.push(new a["a"](e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&n.push(new a["a"](t.splitPosition,t.howMany,t.moveTargetPosition,0)),n}return[new h["a"](0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){const n=e.insertionPosition.path.slice();n.push(0);const i=new f["a"](e.insertionPosition.root,n),r=new a["a"](t.insertionPosition,1,i,0);return[t,r]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=u["a"].getInsertionPosition(t.splitPosition),[t]})},"8ad0":function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t){super(),this["attributes"]=t}["toJSON"](){return{attributes:Object["keys"](this["attributes"])["map"](t=>({key:t,value:JSON["stringify"](this["attributes"][t])}))}}static get["DESCRIPTOR_NAME"](){return"GetUserResponse"}static get["DESCRIPTOR"](){return{fields:{attributes:{rule:"repeated",type:"KeyValueDescriptor",id:1}}}}static["fromJSON"](t){const e=t["attributes"]["reduce"]((t,e)=>(t[e["key"]]=e["value"]?JSON["parse"](e["value"]):null,t),{});return new r(e)}}t["exports"]=r},"8ae5":function(t,e,n){"use strict";t.exports=s,s.className="ReflectionObject";var i,r=n("cbd3");function s(t,e){if(!r.isString(t))throw TypeError("name must be a string");if(e&&!r.isObject(e))throw TypeError("options must be an object");this.options=e,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(s.prototype,{root:{get:function(){var t=this;while(null!==t.parent)t=t.parent;return t}},fullName:{get:function(){var t=[this.name],e=this.parent;while(e)t.unshift(e.name),e=e.parent;return t.join(".")}}}),s.prototype.toJSON=function(){throw Error()},s.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;var e=t.root;e instanceof i&&e._handleAdd(this)},s.prototype.onRemove=function(t){var e=t.root;e instanceof i&&e._handleRemove(this),this.parent=null,this.resolved=!1},s.prototype.resolve=function(){return this.resolved?this:(this.root instanceof i&&(this.resolved=!0),this)},s.prototype.getOption=function(t){if(this.options)return this.options[t]},s.prototype.setOption=function(t,e,n){return n&&this.options&&void 0!==this.options[t]||((this.options||(this.options={}))[t]=e),this},s.prototype.setOptions=function(t,e){if(t)for(var n=Object.keys(t),i=0;i<n.length;++i)this.setOption(n[i],t[n[i]],e);return this},s.prototype.toString=function(){var t=this.constructor.className,e=this.fullName;return e.length?t+" "+e:t},s._configure=function(t){i=t}},"8b25":function(t,e,n){"use strict";var i=n("109b"),r=n("f61b"),s=n("652f"),o=n("0b65");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class a extends s["a"]{constructor(t,e){super(t),this.modelElements=e}refresh(){const t=Object(o["a"])(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(e=>c(t,e,this.editor.model.schema))}execute(t){const e=this.editor.model,n=e.document,i=t.value;e.change(t=>{const r=Array.from(n.selection.getSelectedBlocks()).filter(t=>{return c(t,i,e.schema)});for(const e of r)e.is(i)||t.rename(e,i)})}}function c(t,e,n){return n.checkChild(t.parent,e)&&!n.isObject(t)}var l=n("5bfb");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const u="paragraph";class h extends i["a"]{constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[r["a"]]}init(){const t=this.editor,e=t.config.get("heading.options"),n=[];for(const i of e)i.model!==u&&(t.model.schema.register(i.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(i),n.push(i.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new a(t,n))}afterInit(){const t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(e,i)=>{const r=t.model.document.selection.getFirstPosition().parent,s=n.some(t=>r.is(t.model));s&&!r.is(u)&&0===r.childCount&&i.writer.rename(r,u)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:l["a"].get("low")+1})}}var d=n("6a40"),f=n("ceea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function p(t){const e=t.t,n={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return t.config.get("heading.options").map(t=>{const e=n[t.title];return e&&e!=t.title&&(t.title=e),t})}var m=n("67b9");n("8b56");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class g extends i["a"]{init(){const t=this.editor,e=t.t,n=p(t),i=e("Choose heading"),r=e("Heading");t.ui.componentFactory.add("heading",e=>{const s={},o=new m["a"],a=t.commands.get("heading"),c=t.commands.get("paragraph"),l=[a];for(const t of n){const e={type:"button",model:new d["a"]({label:t.title,class:t.class,withText:!0})};"paragraph"===t.model?(e.model.bind("isOn").to(c,"value"),e.model.set("commandName","paragraph"),l.push(c)):(e.model.bind("isOn").to(a,"value",e=>e===t.model),e.model.set({commandName:"heading",commandValue:t.model})),o.add(e),s[t.model]=t.title}const u=Object(f["c"])(e);return Object(f["a"])(u,o),u.buttonView.set({isOn:!1,withText:!0,tooltip:r}),u.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),u.bind("isEnabled").toMany(l,"isEnabled",(...t)=>{return t.some(t=>t)}),u.buttonView.bind("label").to(a,"value",c,"value",(t,e)=>{const n=t||e&&"paragraph";return s[n]?s[n]:i}),this.listenTo(u,"execute",e=>{t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()}),u})}}n.d(e,"a",function(){return b});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class b extends i["a"]{static get requires(){return[h,g]}static get pluginName(){return"Heading"}}},"8b56":function(t,e,n){},"8b59":function(t,e,n){"use strict";var i=n("109b"),r=n("652f"),s=n("8ab1");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o extends r["a"]{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh()}refresh(){this.isEnabled=this._stack.length>0}addBatch(t){const e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,n){const i=this.editor.model,r=i.document,s=[];for(const o of t){const t=a(o,n),e=t.find(t=>t.start.root!=r.graveyard);e&&s.push(e)}s.length&&i.change(t=>{t.setSelection(s,{backward:e})})}_undo(t,e){const n=this.editor.model,i=n.document;this._createdBatches.add(e);const r=t.operations.slice().filter(t=>t.isDocumentOperation);r.reverse();for(const o of r){const t=o.baseVersion+1,r=Array.from(i.history.getOperations(t)),a=Object(s["a"])([o.getReversed()],r,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}),c=a.operationsA;for(const s of c)e.addOperation(s),n.applyOperation(s),i.history.setOperationAsUndone(o,s)}}}function a(t,e){const n=t.getTransformedByOperations(e);n.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let i=1;i<n.length;i++){const t=n[i-1],e=n[i];t.end.isTouching(e.start)&&(t.end=e.end,n.splice(i,1),i--)}return n}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class c extends o{execute(t=null){const e=t?this._stack.findIndex(e=>e.batch==t):this._stack.length-1,n=this._stack.splice(e,1)[0],i=this.editor.model.createBatch();this.editor.model.enqueueChange(i,()=>{this._undo(n.batch,i);const t=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,t),this.fire("revert",n.batch,i)}),this.refresh()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class l extends o{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch();this.editor.model.enqueueChange(e,()=>{const n=t.batch.operations[t.batch.operations.length-1],i=n.baseVersion+1,r=this.editor.model.document.history.getOperations(i);this._restoreSelection(t.selection.ranges,t.selection.isBackward,r),this._undo(t.batch,e)}),this.refresh()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u extends i["a"]{constructor(t){super(t),this._batchRegistry=new WeakSet}init(){const t=this.editor;this._undoCommand=new c(t),this._redoCommand=new l(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(t,e)=>{const n=e[0];if(!n.isDocumentOperation)return;const i=n.batch;this._batchRegistry.has(i)||"transparent"==i.type||(this._redoCommand._createdBatches.has(i)?this._undoCommand.addBatch(i):this._undoCommand._createdBatches.has(i)||(this._undoCommand.addBatch(i),this._redoCommand.clearStack()),this._batchRegistry.add(i))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,e,n)=>{this._redoCommand.addBatch(n)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}var h=n("3707"),d='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',f='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class p extends i["a"]{init(){const t=this.editor,e=t.t;this._addButton("undo",e("Undo"),"CTRL+Z",d),this._addButton("redo",e("Redo"),"CTRL+Y",f)}_addButton(t,e,n,i){const r=this.editor;r.ui.componentFactory.add(t,s=>{const o=r.commands.get(t),a=new h["a"](s);return a.set({label:e,icon:i,keystroke:n,tooltip:!0}),a.bind("isEnabled").to(o,"isEnabled"),this.listenTo(a,"execute",()=>r.execute(t)),a})}}n.d(e,"a",function(){return m});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class m extends i["a"]{static get requires(){return[u,p]}static get pluginName(){return"Undo"}}},"8b80":function(t,e,n){"use strict";const i=n("2bd2");class r extends i{static get["DESCRIPTOR_NAME"](){return"SessionDescriptor"}static get["DESCRIPTOR"](){return{fields:{session:{type:"string",id:1},user:{type:"string",id:2}}}}}t["exports"]=r},"8cdf":function(t,e,n){"use strict";function i(t,e){var n=-1,i=null==t?0:t.length,r=0,s=[];while(++n<i){var o=t[n];e(o,n,t)&&(s[r++]=o)}return s}var r=i,s=n("589e"),o=Object.prototype,a=o.propertyIsEnumerable,c=Object.getOwnPropertySymbols,l=c?function(t){return null==t?[]:(t=Object(t),r(c(t),function(e){return a.call(t,e)}))}:s["a"];e["a"]=l},"8d5e":function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t){super(),this["id"]=t}["toJSON"](){return{id:this["id"]}}static get["TYPE"](){return 21}static get["DESCRIPTOR_NAME"](){return"GetUserMessage"}static get["DESCRIPTOR"](){return{fields:{id:{type:"string",id:1}}}}static["fromJSON"](t){return new r(t["id"])}}t["exports"]=r},"8e03":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("6c92"),r=n("a641"),s=n("f2ea"),o=n("9cf5");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class a extends i["a"]{constructor(t,e,n,i){super(i),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}clone(){return new a(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new a(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof r["a"]))throw new s["b"]("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.");if(t.name!==this.oldName)throw new s["b"]("rename-operation-wrong-name: Element to change has different name than operation's old name.")}_execute(){const t=this.position.nodeAfter;t.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new a(o["a"].fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}},"8ef8":function(t,e,n){"use strict";e["a"]='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>'},"901d":function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i({emitter:t,activator:e,callback:n,contextElements:i}){t.listenTo(document,"mousedown",(t,{target:r})=>{if(e()){for(const t of i)if(t.contains(r))return;n()}})}n.d(e,"a",function(){return i})},"90e5":function(t,e){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];function i(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);var r=n.concat(e).sort().reverse(),s=new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+r.join("|")+"|.)","g");return s}t.exports=i},9121:function(t,e){function n(t,e){var n=[];e=e||0;for(var i=e||0;i<t.length;i++)n[i-e]=t[i];return n}t.exports=n},9152:function(t,e){e.read=function(t,e,n,i,r){var s,o,a=8*r-i-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?r-1:0,d=n?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=256*s+t[e+h],h+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=i;u>0;o=256*o+t[e+h],h+=d,u-=8);if(0===s)s=1-l;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,i),s-=l}return(f?-1:1)*o*Math.pow(2,s-i)},e.write=function(t,e,n,i,r,s){var o,a,c,l=8*s-r-1,u=(1<<l)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:s-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),e+=o+h>=1?d/c:d*Math.pow(2,1-h),e*c>=2&&(o++,c/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*c-1)*Math.pow(2,r),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;t[n+f]=255&a,f+=p,a/=256,r-=8);for(o=o<<r|a,l+=r;l>0;t[n+f]=255&o,f+=p,o/=256,l-=8);t[n+f-p]|=128*m}},"91db":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("f264"),r=n("84c3");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s{constructor(){this._listener=Object.create(i["a"])}listenTo(t){this._listener.listenTo(t,"keydown",(t,e)=>{this._listener.fire("_keydown:"+Object(r["a"])(e),e)})}set(t,e,n={}){const i=Object(r["d"])(t),s=n.priority;this._listener.listenTo(this._listener,"_keydown:"+i,(t,n)=>{e(n,()=>{n.preventDefault(),n.stopPropagation(),t.stop()}),t.return=!0},{priority:s})}press(t){return!!this._listener.fire("_keydown:"+Object(r["a"])(t),t)}destroy(){this._listener.stopListening()}}},"92bd":function(t,e,n){},9374:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("940e"),r=n("ed4a"),s=n("5491");n("d842");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o extends i["a"]{constructor(t,e){super(t);const n=`ck-input-${Object(r["a"])()}`,i=`ck-status-${Object(r["a"])()}`;this.set("label"),this.set("value"),this.set("isReadOnly",!1),this.set("errorText",null),this.set("infoText",null),this.labelView=this._createLabelView(n),this.inputView=this._createInputView(e,n,i),this.statusView=this._createStatusView(i),this.bind("_statusText").to(this,"errorText",this,"infoText",(t,e)=>t||e);const s=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input",s.if("isReadOnly","ck-disabled")]},children:[this.labelView,this.inputView,this.statusView]})}_createLabelView(t){const e=new s["a"](this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createInputView(t,e,n){const i=new t(this.locale,n);return i.id=e,i.ariaDesribedById=n,i.bind("value").to(this),i.bind("isReadOnly").to(this),i.bind("hasError").to(this,"errorText",t=>!!t),i.on("input",()=>{this.errorText=null}),i}_createStatusView(t){const e=new i["a"](this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input__status",n.if("errorText","ck-labeled-input__status_error"),n.if("_statusText","ck-hidden",t=>!t)],id:t},children:[{text:n.to("_statusText")}]}),e}select(){this.inputView.select()}focus(){this.inputView.focus()}}},"940e":function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("f2ea"),r=n("3493"),s=n("e805"),o=n("f264"),a=n("d4e1"),c=n("67b9"),l=n("644e"),u=n("e907");n("e281");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class h{constructor(t){this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new c["a"],this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(e,n)=>{n.locale=t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=s["a"].bind(this,this)}createCollection(){const t=new r["a"];return this._viewCollections.add(t),t}registerChild(t){Object(u["a"])(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){Object(u["a"])(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new s["a"](t)}extendTemplate(t){s["a"].extend(this.template,t)}render(){if(this.isRendered)throw new i["b"]("ui-view-render-already-rendered: This View has already been rendered.");this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}Object(l["a"])(h,o["a"]),Object(l["a"])(h,a["a"])},9451:function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t,e){super(),this["channel"]=t,this["threads"]=e}["toJSON"](){return{channel:this["channel"],threads:this["threads"]["map"](t=>JSON["stringify"](t))}}static get["DESCRIPTOR_NAME"](){return"CommentsV2ConnectResponse"}static get["DESCRIPTOR"](){return{fields:{channel:{type:"string",id:1},threads:{type:"string",rule:"repeated",id:2}}}}static["fromJSON"](t){return new r(t["channel"],t["threads"]["map"](t=>JSON["parse"](t)))}}t["exports"]=r},"948e":function(t,e,n){},"94ac":function(t,e,n){t.exports=n("da92"),t.exports.parser=n("5a6e")},"955a":function(t,e,n){},9564:function(t,e,n){"use strict";t.exports=s;var i=n("2110");(s.prototype=Object.create(i.prototype)).constructor=s;var r=n("e938");function s(t){i.call(this,t)}r.Buffer&&(s.prototype._slice=r.Buffer.prototype.slice),s.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},"96f5":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("9cf5"),r=n("da0d"),s=n("644e"),o=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class a extends i["a"]{constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new o["b"]("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.");c.call(this)}detach(){this.stopListening()}toPosition(){return new i["a"](this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}function c(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&l.call(this,n)},{priority:"low"})}function l(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Object(s["a"])(a,r["c"])},"96fe":function(t,e,n){function i(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}function r(t){var n;function r(){if(r.enabled){var t=r,i=+new Date,s=i-(n||i);t.diff=s,t.prev=n,t.curr=i,n=i;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=e.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;c++;var r=e.formatters[i];if("function"===typeof r){var s=o[c];n=r.call(t,s),o.splice(c,1),c--}return n}),e.formatArgs.call(t,o);var l=r.log||e.log||console.log.bind(console);l.apply(t,o)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=i(t),r.destroy=s,"function"===typeof e.init&&e.init(r),e.instances.push(r),r}function s(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}function o(t){var n;e.save(t),e.names=[],e.skips=[];var i=("string"===typeof t?t:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&(t=i[n].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var s=e.instances[n];s.enabled=e.enabled(s.namespace)}}function a(){e.enable("")}function c(t){if("*"===t[t.length-1])return!0;var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1}function l(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=r.debug=r["default"]=r,e.coerce=l,e.disable=a,e.enable=o,e.enabled=c,e.humanize=n("1468"),e.instances=[],e.names=[],e.skips=[],e.formatters={}},"97ef":function(t,e,n){"use strict";const i=n("193c"),r=n("1f55");class s extends i{constructor(t,e){super(),this["data"]=t,this["data1"]=e}["toJSON"](){return{data:this["data"]?JSON["stringify"](this["data"]):void 0,data1:this["data1"]?JSON["stringify"](this["data1"]):void 0}}static get["TYPE"](){return r["getPacketType"](r["TYPES"]["OBJECT"],r["TYPES"]["OBJECT"])}static get["DESCRIPTOR_NAME"](){return"ObjectObjectPacketDataMessage"}static get["DESCRIPTOR"](){return{fields:{data:{type:"string",id:1},data1:{type:"string",id:2}}}}static["fromJSON"](t){return new s(t["data"]&&JSON["parse"](t["data"]),t["data1"]&&JSON["parse"](t["data1"]))}static["create"](t,e){return new s(t,e)}}t["exports"]=s},"987f":function(t,e,n){"use strict";const i=n("193c"),r=n("1f55");class s extends i{constructor(t,e){super(),this["data"]=t,this["data1"]=e}["toJSON"](){return{data:this["data"],data1:this["data1"]}}static get["TYPE"](){return r["getPacketType"](r["TYPES"]["NUMBER"],r["TYPES"]["STRING"])}static get["DESCRIPTOR_NAME"](){return"NumberStringPacketDataMessage"}static get["DESCRIPTOR"](){return{fields:{data:{type:"uint32",id:1},data1:{type:"string",id:2}}}}static["fromJSON"](t){return new s(t["data"],t["data1"])}static["create"](t,e){return new s(t,e)}}t["exports"]=s},9898:function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t,e,n){super(),this["commentThreadId"]=e,this["commentId"]=n,this["documentId"]=t}["toJSON"](){return{documentId:this["documentId"],commentThreadId:this["commentThreadId"],commentId:this["commentId"]}}static get["TYPE"](){return 95}static get["DESCRIPTOR_NAME"](){return"CommentsV2RemoveCommentMessage"}static get["DESCRIPTOR"](){return{fields:{commentThreadId:{type:"string",id:1},commentId:{type:"string",id:2},documentId:{type:"string",id:3}}}}static["fromJSON"](t){return new r(t["documentId"],t["commentThreadId"],t["commentId"])}}t["exports"]=r},"98ea":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("6c92"),r=n("0066"),s=n("9cf5"),o=n("ad6b"),a=n("dfe0"),c=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class l extends i["a"]{constructor(t,e,n,i,r){super(r),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new s["a"](this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new o["a"](this.sourcePosition,t)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new s["a"](this.sourcePosition.root,e)._getTransformedByMergeOperation(this),i=new r["a"](t,this.howMany,this.graveyardPosition,this.baseVersion+1);return i.insertionPosition=n,i}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!(t&&t.is("element")&&t.parent))throw new c["b"]("merge-operation-source-position-invalid: Merge source position is invalid.");if(!(e&&e.is("element")&&e.parent))throw new c["b"]("merge-operation-target-position-invalid: Merge target position is invalid.");if(this.howMany!=t.maxOffset)throw new c["b"]("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.")}_execute(){const t=this.sourcePosition.parent,e=o["a"]._createIn(t);Object(a["b"])(e,this.targetPosition),Object(a["b"])(o["a"]._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=s["a"].fromJSON(t.sourcePosition,e),i=s["a"].fromJSON(t.targetPosition,e),r=s["a"].fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,i,r,t.baseVersion)}}},"9a4b":function(t,e,n){"use strict";var i=n("ee03"),r=n("a724"),s=n("53a2"),o=Object(s["a"])(Object.keys,Object),a=o,c=Object.prototype,l=c.hasOwnProperty;function u(t){if(!Object(r["a"])(t))return a(t);var e=[];for(var n in Object(t))l.call(t,n)&&"constructor"!=n&&e.push(n);return e}var h=u,d=n("e56b");function f(t){return Object(d["a"])(t)?Object(i["a"])(t):h(t)}e["a"]=f},"9a76":function(t,e,n){"use strict";var i=n("1147"),r=n("e8b2");function s(t){return Object(i["a"])(t)&&1===t.nodeType&&!Object(r["a"])(t)}e["a"]=s},"9aba":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("a07d"),r=n("c78f"),s=n("4c7b"),o=n("7f7b"),a=n("bc9b");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function c({element:t,target:e,positions:n,limiter:c,fitInViewport:d}){Object(a["a"])(e)&&(e=e()),Object(a["a"])(c)&&(c=c());const f=Object(s["a"])(t.parentElement),p=new r["a"](t),m=new r["a"](e);let g,b;if(c||d){const t=c&&new r["a"](c).getVisible(),e=d&&new r["a"](i["a"].window);[b,g]=u(n,m,p,t,e)||l(n[0],m,p)}else[b,g]=l(n[0],m,p);let{left:v,top:w}=h(g);if(f){const t=h(new r["a"](f)),e=Object(o["a"])(f);v-=t.left,w-=t.top,v+=f.scrollLeft,w+=f.scrollTop,v-=e.left,w-=e.top}return{left:v,top:w,name:b}}function l(t,e,n){const{left:i,top:r,name:s}=t(e,n);return[s,n.clone().moveTo(i,r)]}function u(t,e,n,i,r){let s,o,a=0,c=0;const u=n.getArea();return t.some(t=>{const[h,d]=l(t,e,n);let f,p;if(i)if(r){const t=i.getIntersection(r);f=t?t.getIntersectionArea(d):0}else f=i.getIntersectionArea(d);function m(){c=p,a=f,s=d,o=h}return r&&(p=r.getIntersectionArea(d)),r&&!i?p>c&&m():!r&&i?f>a&&m():p>c&&f>=a?m():p>=c&&f>a&&m(),f===u}),s?[o,s]:null}function h({left:t,top:e}){const{scrollX:n,scrollY:r}=i["a"].window;return{left:t+n,top:e+r}}},"9c59":function(t,e,n){"use strict";var i,r=Object.prototype.hasOwnProperty;function s(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return null}}function o(t){var e,n=/([^=?&]+)=?([^&]*)/g,i={};while(e=n.exec(t)){var r=s(e[1]),o=s(e[2]);null===r||null===o||r in i||(i[r]=o)}return i}function a(t,e){e=e||"";var n,s,o=[];for(s in"string"!==typeof e&&(e="?"),t)if(r.call(t,s)){if(n=t[s],n||null!==n&&n!==i&&!isNaN(n)||(n=""),s=encodeURIComponent(s),n=encodeURIComponent(n),null===s||null===n)continue;o.push(s+"="+n)}return o.length?e+o.join("&"):""}e.stringify=a,e.parse=o},"9cbb":function(t,e,n){"use strict";function i(){this.__data__=[],this.size=0}var r=i,s=n("6071");function o(t,e){var n=t.length;while(n--)if(Object(s["a"])(t[n][0],e))return n;return-1}var a=o,c=Array.prototype,l=c.splice;function u(t){var e=this.__data__,n=a(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():l.call(e,n,1),--this.size,!0}var h=u;function d(t){var e=this.__data__,n=a(e,t);return n<0?void 0:e[n][1]}var f=d;function p(t){return a(this.__data__,t)>-1}var m=p;function g(t,e){var n=this.__data__,i=a(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var b=g;function v(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}v.prototype.clear=r,v.prototype["delete"]=h,v.prototype.get=f,v.prototype.has=m,v.prototype.set=b;e["a"]=v},"9cd8":function(t,e,n){"use strict";const i=n("193c"),r=n("1f55");class s extends i{constructor(t,e){super(),this["data"]=t,this["data1"]=e}["toJSON"](){return{data:this["data"],data1:this["data1"]}}static get["TYPE"](){return r["getPacketType"](r["TYPES"]["BUFFER"],r["TYPES"]["BUFFER"])}static get["DESCRIPTOR_NAME"](){return"BytesBytesPacketDataMessage"}static get["DESCRIPTOR"](){return{fields:{data:{type:"bytes",id:1},data1:{type:"bytes",id:2}}}}static["fromJSON"](t){return new s(t["data"],t["data1"])}static["create"](t,e){return new s(t,e)}}t["exports"]=s},"9cf5":function(t,e,n){"use strict";var i=n("82af"),r=n("e47a"),s=n("f2ea"),o=n("5122");function a(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var c=a;n("e800");n.d(e,"a",function(){return l});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class l{constructor(t,e,n="toNone"){if(!t.is("element")&&!t.is("documentFragment"))throw new s["b"]("model-position-root-invalid: Position root invalid.");if(!(e instanceof Array)||0===e.length)throw new s["b"]("model-position-path-incorrect: Position path must be an array with at least one item.",{path:e});e=t.getPath().concat(e),t=t.root,this.root=t,this.path=e,this.stickiness=n}get offset(){return c(this.path)}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)t=t.getChild(t.offsetToIndex(this.path[e]));return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const t=this.parent.getChild(this.index);return t instanceof o["a"]&&t.startOffset<this.offset?t:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=Object(r["a"])(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new i["a"](e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonPath(t){if(this.root!=t.root)return[];const e=Object(r["a"])(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;while(e[i]==n[i]&&e[i])i++;return 0===i?null:e[i-1]}getShiftedBy(t){const e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return"after"==this.compareWith(t)}isBefore(t){return"before"==this.compareWith(t)}isEqual(t){return"same"==this.compareWith(t)}isTouching(t){let e=null,n=null;const i=this.compareWith(t);switch(i){case"same":return!0;case"before":e=l._createAt(this),n=l._createAt(t);break;case"after":e=l._createAt(t),n=l._createAt(this);break;default:return!1}let r=e.parent;while(e.path.length+n.path.length){if(e.isEqual(n))return!0;if(e.path.length>n.path.length){if(e.offset!==r.maxOffset)return!1;e.path=e.path.slice(0,-1),r=r.parent,e.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}hasSameParentAs(t){if(this.root!==t.root)return!1;const e=this.getParentPath(),n=t.getParentPath();return"same"==Object(r["a"])(e,n)}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=l._createAt(this);break}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange,n=e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness;return n?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange,n=e.containsPosition(this)||e.start.isEqual(this);let i;return n?(i=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(i=i._getTransformedByDeletion(t.deletionPosition,1))):i=this.isEqual(t.deletionPosition)?l._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),i}_getTransformedByDeletion(t,e){const n=l._createAt(this);if(this.root!=t.root)return n;if("same"==Object(r["a"])(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if("prefix"==Object(r["a"])(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;if(t.offset<=this.path[i]){if(t.offset+e>this.path[i])return null;n.path[i]-=e}}return n}_getTransformedByInsertion(t,e){const n=l._createAt(this);if(this.root!=t.root)return n;if("same"==Object(r["a"])(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=e);else if("prefix"==Object(r["a"])(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;t.offset<=this.path[i]&&(n.path[i]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return l._createAt(this);const i=this._getTransformedByDeletion(t,n),r=null===i||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness;return r?this._getCombined(t,e):i._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,i=l._createAt(e);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[n]-t.offset,i.path=i.path.concat(this.path.slice(n+1)),i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,n="toNone"){if(t instanceof l)return new l(t.root,t.path,t.stickiness);{const i=t;if("end"==e)e=i.maxOffset;else{if("before"==e)return this._createBefore(i,n);if("after"==e)return this._createAfter(i,n);if(0!==e&&!e)throw new s["b"]("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.")}if(!i.is("element")&&!i.is("documentFragment"))throw new s["b"]("model-position-parent-incorrect: Position parent have to be a element or document fragment.");const r=i.getPath();return r.push(e),new this(i.root,r,n)}}static _createAfter(t,e){if(!t.parent)throw new s["b"]("model-position-after-root: You cannot make a position after root.",{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new s["b"]("model-position-before-root: You cannot make a position before root.",{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if("$graveyard"===t.root){const n=new l(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new s["b"]("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",{rootName:t.root});return new l(e.getRoot(t.root),t.path,t.stickiness)}}},a07d:function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */e["a"]={window:window,document:document}},a081:function(t,e){
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var n,i,r,s=String.fromCharCode;function o(t){var e,n,i=[],r=0,s=t.length;while(r<s)e=t.charCodeAt(r++),e>=55296&&e<=56319&&r<s?(n=t.charCodeAt(r++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--)):i.push(e);return i}function a(t){var e,n=t.length,i=-1,r="";while(++i<n)e=t[i],e>65535&&(e-=65536,r+=s(e>>>10&1023|55296),e=56320|1023&e),r+=s(e);return r}function c(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function l(t,e){return s(t>>e&63|128)}function u(t,e){if(0==(4294967168&t))return s(t);var n="";return 0==(4294965248&t)?n=s(t>>6&31|192):0==(4294901760&t)?(c(t,e)||(t=65533),n=s(t>>12&15|224),n+=l(t,6)):0==(4292870144&t)&&(n=s(t>>18&7|240),n+=l(t,12),n+=l(t,6)),n+=s(63&t|128),n}function h(t,e){e=e||{};var n,i=!1!==e.strict,r=o(t),s=r.length,a=-1,c="";while(++a<s)n=r[a],c+=u(n,i);return c}function d(){if(r>=i)throw Error("Invalid byte index");var t=255&n[r];if(r++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function f(t){var e,s,o,a,l;if(r>i)throw Error("Invalid byte index");if(r==i)return!1;if(e=255&n[r],r++,0==(128&e))return e;if(192==(224&e)){if(s=d(),l=(31&e)<<6|s,l>=128)return l;throw Error("Invalid continuation byte")}if(224==(240&e)){if(s=d(),o=d(),l=(15&e)<<12|s<<6|o,l>=2048)return c(l,t)?l:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(s=d(),o=d(),a=d(),l=(7&e)<<18|s<<12|o<<6|a,l>=65536&&l<=1114111))return l;throw Error("Invalid UTF-8 detected")}function p(t,e){e=e||{};var s=!1!==e.strict;n=o(t),i=n.length,r=0;var c,l=[];while(!1!==(c=f(s)))l.push(c);return a(l)}t.exports={version:"2.1.2",encode:h,decode:p}},a12c:function(t,e,n){"use strict";var i=n("9cbb");function r(){this.__data__=new i["a"],this.size=0}var s=r;function o(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}var a=o;function c(t){return this.__data__.get(t)}var l=c;function u(t){return this.__data__.has(t)}var h=u,d=n("ddc9"),f=n("0e59"),p=200;function m(t,e){var n=this.__data__;if(n instanceof i["a"]){var r=n.__data__;if(!d["a"]||r.length<p-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new f["a"](r)}return n.set(t,e),this.size=n.size,this}var g=m;function b(t){var e=this.__data__=new i["a"](t);this.size=e.size}b.prototype.clear=s,b.prototype["delete"]=a,b.prototype.get=l,b.prototype.has=h,b.prototype.set=g;e["a"]=b},a16b:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("940e");n("b0d6");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class r extends i["a"]{constructor(t){super(t),this.set("text",""),this.set("position","s");const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",e.to("position",t=>"ck-tooltip_"+t),e.if("text","ck-hidden",t=>!t.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:e.to("text")}]}]})}}},a187:function(t,e,n){"use strict";var i=n("f0ce"),r=n("26ce"),s=n("1147"),o="[object Arguments]",a="[object Array]",c="[object Boolean]",l="[object Date]",u="[object Error]",h="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",m="[object RegExp]",g="[object Set]",b="[object String]",v="[object WeakMap]",w="[object ArrayBuffer]",y="[object DataView]",x="[object Float32Array]",_="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",O="[object Uint8ClampedArray]",E="[object Uint16Array]",P="[object Uint32Array]",S={};function R(t){return Object(s["a"])(t)&&Object(r["a"])(t.length)&&!!S[Object(i["a"])(t)]}S[x]=S[_]=S[k]=S[C]=S[A]=S[T]=S[O]=S[E]=S[P]=!0,S[o]=S[a]=S[w]=S[c]=S[y]=S[l]=S[u]=S[h]=S[d]=S[f]=S[p]=S[m]=S[g]=S[b]=S[v]=!1;var I=R,N=n("a2fb"),j=n("c6eb"),M=j["a"]&&j["a"].isTypedArray,B=M?Object(N["a"])(M):I;e["a"]=B},a2fb:function(t,e,n){"use strict";function i(t){return function(e){return t(e)}}e["a"]=i},a384:function(t,e,n){"use strict";t.exports=r;var i=n("e938");function r(t,e){this.lo=t>>>0,this.hi=e>>>0}var s=r.zero=new r(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var o=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(t){if(0===t)return s;var e=t<0;e&&(t=-t);var n=t>>>0,i=(t-n)/4294967296>>>0;return e&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new r(n,i)},r.from=function(t){if("number"===typeof t)return r.fromNumber(t);if(i.isString(t)){if(!i.Long)return r.fromNumber(parseInt(t,10));t=i.Long.fromString(t)}return t.low||t.high?new r(t.low>>>0,t.high>>>0):s},r.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},r.prototype.toLong=function(t){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var a=String.prototype.charCodeAt;r.fromHash=function(t){return t===o?s:new r((a.call(t,0)|a.call(t,1)<<8|a.call(t,2)<<16|a.call(t,3)<<24)>>>0,(a.call(t,4)|a.call(t,5)<<8|a.call(t,6)<<16|a.call(t,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},r.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},r.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},a4b7:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});var i=n("2c4d");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r extends i["a"]{constructor(t,e,n){super(t,e,n),this.getFillerOffset=s}is(t,e=null){return e?"containerElement"==t&&e==this.name||super.is(t,e):"containerElement"==t||super.is(t)}}function s(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const n of t)if(!n.is("uiElement"))return null;return this.childCount}},a4b79:function(t,e,n){var i=n("c8d5");function r(t){var e=i(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}t.exports=r},a52e:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("34b2"),r=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,e)=>t+e.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return-1==e?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce((t,e)=>t+e.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new r["b"]("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.");return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new r["b"]("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const n of e)if(!(n instanceof i["a"]))throw new r["b"]("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.");this._nodes.splice(t,0,...e)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map(t=>t.toJSON())}}},a624:function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t,e,n,i,r,s){super(),this["commentThreadId"]=e,this["content"]=n,this["documentId"]=t,this["commentId"]=i||"",this["createdAt"]=r?new Date(r):"",this["userId"]=s||""}["toJSON"](){return{commentThreadId:this["commentThreadId"],content:this["content"],documentId:this["documentId"],commentId:this["commentId"],createdAt:this["createdAt"]instanceof Date?this["createdAt"]["toISOString"]():this["createdAt"],userId:this["userId"]}}static get["TYPE"](){return 91}static get["DESCRIPTOR_NAME"](){return"CommentsV2AddCommentMessage"}static get["DESCRIPTOR"](){return{fields:{commentThreadId:{type:"string",id:1},content:{type:"string",id:2},documentId:{type:"string",id:3},commentId:{type:"string",id:4},createdAt:{type:"string",id:5},userId:{type:"string",id:6}}}}static["fromJSON"](t){return new r(t["documentId"],t["commentThreadId"],t["content"],t["commentId"]?t["commentId"]:null,t["createdAt"]?new Date(t["createdAt"]):null,t["userId"]?t["userId"]:null)}}t["exports"]=r},a641:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("34b2"),r=n("a52e"),s=n("5122"),o=n("2363"),a=n("e907");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class c extends i["a"]{constructor(t,e,n){super(e),this.name=t,this._children=new r["a"],n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(t,e=null){return e?"element"==t&&e==this.name:"element"==t||t==this.name||super.is(t)}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map(t=>t._clone(!0)):null;return new c(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=l(e);for(const i of n)null!==i.parent&&i._remove(),i.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const i of n)i.parent=null;return n}static fromJSON(t){let e=null;if(t.children){e=[];for(const n of t.children)n.name?e.push(c.fromJSON(n)):e.push(s["a"].fromJSON(n))}return new c(t.name,t.attributes,e)}}function l(t){return"string"==typeof t?[new s["a"](t)]:(Object(a["a"])(t)||(t=[t]),Array.from(t).map(t=>{return"string"==typeof t?new s["a"](t):t instanceof o["a"]?new s["a"](t.data,t.getAttributes()):t}))}},a6a3:function(t,e,n){"use strict";t.exports=l;var i=n("8ae5");((l.prototype=Object.create(i.prototype)).constructor=l).className="Field";var r,s=n("bd11"),o=n("8524"),a=n("cbd3"),c=/^required|optional|repeated$/;function l(t,e,n,r,s,l,u){if(a.isObject(r)?(u=s,l=r,r=s=void 0):a.isObject(s)&&(u=l,l=s,s=void 0),i.call(this,t,l),!a.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!a.isString(n))throw TypeError("type must be a string");if(void 0!==r&&!c.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==s&&!a.isString(s))throw TypeError("extend must be a string");this.rule=r&&"optional"!==r?r:void 0,this.type=n,this.id=e,this.extend=s||void 0,this.required="required"===r,this.optional=!this.required,this.repeated="repeated"===r,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==o.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}l.fromJSON=function(t,e){return new l(t,e.id,e.type,e.rule,e.extend,e.options,e.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(t,e,n){return"packed"===t&&(this._packed=null),i.prototype.setOption.call(this,t,e,n)},l.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",e?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=o.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof r?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options["default"]&&(this.typeDefault=this.options["default"],this.resolvedType instanceof s&&"string"===typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof s)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"===typeof this.typeDefault){var t;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,t=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,t=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=t}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof r&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},l.d=function(t,e,n,i){return"function"===typeof e?e=a.decorateType(e).name:e&&"object"===typeof e&&(e=a.decorateEnum(e).name),function(r,s){a.decorateType(r.constructor).add(new l(s,t,e,n,{default:i}))}},l._configure=function(t){r=t}},a724:function(t,e,n){"use strict";var i=Object.prototype;function r(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||i;return t===n}e["a"]=r},a735:function(t,e){function n(t){return t instanceof Date}t.exports=n},a9a4:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("109b"),r=n("67b9"),s=n("7559"),o=n("eb5a"),a=["requires","editor","plugins","get","sessions","connectedUsers","add","user","listenTo","change:state","connected","clear","connection","remove","mySessionId","getUserBySessionId","getUserSessions","defineMe","orderNumber","pluginName","Sessions"];(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(a,271);var c=function(t,e){t-=0;var n=a[t];return n};class l extends i["a"]{static get[c("0x0")](){return c("0x1")}static get[c("0x2")](){return[s["a"],o["a"]]}["init"](){const t=this[c("0x3")],e=t[c("0x4")][c("0x5")](s["a"]);this[c("0x6")]=new r["a"],this[c("0x7")]=new r["a"],this["U"]=0,this["G"]=t["plugins"][c("0x5")](o["a"]),this["listenTo"](this[c("0x6")],c("0x8"),(t,e)=>this["r"](e[c("0x9")])),this["listenTo"](this["sessions"],"remove",(t,e)=>this["s"](e[c("0x9")])),this[c("0xa")](e,c("0xb"),(t,e,n)=>{if(c("0xc")!=n)this[c("0x7")][c("0xd")]();else for(const i of this[c("0x6")])this["r"](i["user"])}),this["W"](e[c("0xe")]["me"],!0)}["load"](t){this["listenTo"](t,c("0x8"),(t,e)=>this["x"](e)),this[c("0xa")](t,c("0xf"),(t,e)=>this["R"](e));for(const e of t)this["x"](e)}get[c("0x10")](){return this["editor"][c("0x4")][c("0x5")](s["a"])["connection"]["sessionId"]}[c("0x11")](t){for(const e of this[c("0x6")])if(e["id"]==t)return e[c("0x9")]}[c("0x12")](t){const e=[];for(const n of this["sessions"])n[c("0x9")]===t&&e["push"](n["id"]);return e}["x"](t){const e=t[c("0x9")];this[c("0x6")]["add"]({id:t["id"],user:this["G"]["getUser"](e["id"])||this["W"](e)})}["R"](t){this["sessions"][c("0xf")](t["id"])}["r"](t){this[c("0x7")][c("0x5")](t["id"])||this["connectedUsers"][c("0x8")](t)}["s"](t){this[c("0x7")][c("0x5")](t["id"])&&this["getUserSessions"](t)<2&&this[c("0x7")][c("0xf")](t["id"])}["W"](t,e){const n=this["G"]["addUser"](t);return e&&this["G"][c("0x13")](t["id"]),n[c("0x14")]=this["U"]++,n}}},aaa8:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("109b");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r extends i["a"]{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,e)=>{window.alert(e.message)},{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){const e=`show:${t.type}`+(t.namespace?`:${t.namespace}`:"");this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}},ab1f:function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i({view:t}){t.listenTo(t.element,"submit",(e,n)=>{n.preventDefault(),t.fire("submit")},{useCapture:!0})}n.d(e,"a",function(){return i})},ad0b:function(t,e,n){"use strict";n("940e"),n("3707");n("768b"),n("0d02"),n("91db"),n("6cdf");n("875d"),n("b3ce");n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return s});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const i="fontSize",r="fontFamily";function s(t,e){const n={model:{key:t,values:[]},view:{},upcastAlso:{}};for(const i of e)n.model.values.push(i.model),n.view[i.model]=i.view,i.upcastAlso&&(n.upcastAlso[i.model]=i.upcastAlso);return n}},ad6b:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("9cf5"),r=n("82af"),s=n("f2ea"),o=n("e47a");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class a{constructor(t,e=null){this.start=i["a"]._createAt(t),this.end=e?i["a"]._createAt(e):i["a"]._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new r["a"]({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const t=this.start.getParentPath(),e=this.end.getParentPath();return"same"==Object(o["a"])(t,e)}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}containsItem(t){const e=i["a"]._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new a(this.start,t.start)),this.containsPosition(t.end)&&e.push(new a(t.end,this.end))):e.push(new a(this.start,this.end)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new a(e,n)}return null}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,n=i["a"]._createAt(this.start);let r=n.parent;while(n.path.length>e+1){const e=r.maxOffset-n.offset;0!==e&&t.push(new a(n,n.getShiftedBy(e))),n.path=n.path.slice(0,-1),n.offset++,r=r.parent}while(n.path.length<=this.end.path.length){const e=this.end.path[n.path.length-1],i=e-n.offset;0!==i&&t.push(new a(n,n.getShiftedBy(i))),n.offset=e,n.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new r["a"](t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new r["a"](t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new r["a"](t);yield e.position;for(const n of e)yield n.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new a(this.start,this.end)]}getTransformedByOperations(t){const e=[new a(this.start,this.end)];for(const n of t)for(let t=0;t<e.length;t++){const i=e[t].getTransformedByOperation(n);e.splice(t,1,...i),t+=i.length-1}for(let n=0;n<e.length;n++){const t=e[n];for(let i=n+1;i<e.length;i++){const n=e[i];(t.containsRange(n)||n.containsRange(t)||t.isEqual(n))&&e.splice(i,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){const n=t.sourcePosition,i=t.howMany,r=t.targetPosition;return this._getTransformedByMove(n,r,i,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let n=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(n=this.end.getShiftedBy(1)),e.root!=n.root&&(n=this.end.getShiftedBy(-1)),new a(e,n)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new a(this.start);let e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=i["a"]._createAt(n),e.offset=0):(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new a(e,n)):new a(e,n)}_getTransformedByInsertion(t,e,n=!1){if(n&&this.containsPosition(t))return[new a(this.start,t),new a(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const n=new a(this.start,this.end);return n.start=n.start._getTransformedByInsertion(t,e),n.end=n.end._getTransformedByInsertion(t,e),[n]}}_getTransformedByMove(t,e,n,i=!1){if(this.isCollapsed){const i=this.start._getTransformedByMove(t,e,n);return[new a(i)]}const r=a._createFromPositionAndShift(t,n),s=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!i&&(r.containsPosition(this.start)||r.containsPosition(this.end))){const i=this.start._getTransformedByMove(t,e,n),r=this.end._getTransformedByMove(t,e,n);return[new a(i,r)]}let o;const c=this.getDifference(r);let l=null;const u=this.getIntersection(r);if(1==c.length?l=new a(c[0].start._getTransformedByDeletion(t,n),c[0].end._getTransformedByDeletion(t,n)):2==c.length&&(l=new a(this.start,this.end._getTransformedByDeletion(t,n))),o=l?l._getTransformedByInsertion(s,n,null!==u||i):[],u){const t=new a(u.start._getCombined(r.start,s),u.end._getCombined(r.start,s));2==o.length?o.splice(1,0,t):o.push(t)}return o}_getTransformedByDeletion(t,e){let n=this.start._getTransformedByDeletion(t,e),i=this.end._getTransformedByDeletion(t,e);return null==n&&null==i?null:(null==n&&(n=t),null==i&&(i=t),new a(n,i))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return new this(i["a"]._createAt(t,0),i["a"]._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(i["a"]._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(0===t.length)throw new s["b"]("range-create-from-ranges-empty-array: At least one range has to be passed.");if(1==t.length)return t[0].clone();const e=t[0];t.sort((t,e)=>{return t.start.isAfter(e.start)?1:-1});const n=t.indexOf(e),r=new this(e.start,e.end);if(n>0)for(let s=n-1;1;s++){if(!t[s].end.isEqual(r.start))break;r.start=i["a"]._createAt(t[s].start)}for(let s=n+1;s<t.length;s++){if(!t[s].start.isEqual(r.end))break;r.end=i["a"]._createAt(t[s].end)}return r}static fromJSON(t,e){return new this(i["a"].fromJSON(t.start,e),i["a"].fromJSON(t.end,e))}}},aeed:function(t,e,n){},b095:function(t,e,n){"use strict";const i=n("193c"),r=n("1f55");class s extends i{constructor(t,e){super(),this["data"]=t,this["data1"]=e}["toJSON"](){return{data:this["data"]?JSON["stringify"](this["data"]):void 0,data1:this["data1"]}}static get["TYPE"](){return r["getPacketType"](r["TYPES"]["OBJECT"],r["TYPES"]["BUFFER"])}static get["DESCRIPTOR_NAME"](){return"ObjectBufferPacketDataMessage"}static get["DESCRIPTOR"](){return{fields:{data:{type:"string",id:1},data1:{type:"bytes",id:2}}}}static["fromJSON"](t){return new s(t["data"]&&JSON["parse"](t["data"]),t["data1"])}static["create"](t,e){return new s(t,e)}}t["exports"]=s},b0d6:function(t,e,n){},b199:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("ff8c");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r extends i["a"]{constructor(t){super(),this._textData=t}is(t){return"text"==t||super.is(t)}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof r&&(this===t||this.data===t.data)}_clone(){return new r(this.data)}}},b286:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("799c"),r=n("e8b2");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function s(t){return Object(r["a"])(t)?Object(i["a"])(t):new Map(t)}},b3ce:function(t,e,n){},b4c7:function(t,e,n){var i=n("c7ce");function r(t){return i(t,{weekStartsOn:1})}t.exports=r},b4f1:function(t,e,n){"use strict";function i(t,e){var n=-1,i=e.length,r=t.length;while(++n<i)t[r+n]=e[n];return t}e["a"]=i},b639:function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n("1fb5"),r=n("9152"),s=n("2335");function o(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=l.prototype):(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return u(this,t,e,n)}function u(t,e,n,i){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,n,i):"string"===typeof e?p(t,e,n):b(t,e)}function h(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e,n,i){return h(e),e<=0?c(t,e):void 0!==n?"string"===typeof i?c(t,e).fill(n,i):c(t,e).fill(n):c(t,e)}function f(t,e){if(h(e),t=c(t,e<0?0:0|v(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|y(e,n);t=c(t,i);var r=t.write(e,n);return r!==i&&(t=t.slice(0,r)),t}function m(t,e){var n=e.length<0?0:0|v(e.length);t=c(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function g(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),l.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=l.prototype):t=m(t,e),t}function b(t,e){if(l.isBuffer(e)){var n=0|v(e.length);return t=c(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?c(t,0):m(t,e);if("Buffer"===e.type&&s(e.data))return m(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function w(t){return+t!=t&&(t=0),l.alloc(+t)}function y(t,e){if(l.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(t).length;default:if(i)return K(t).length;e=(""+e).toLowerCase(),i=!0}}function x(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return D(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return B(this,e,n);case"base64":return R(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function _(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function k(t,e,n,i,r){if(0===t.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof e&&(e=l.from(e,i)),l.isBuffer(e))return 0===e.length?-1:C(t,e,n,i,r);if("number"===typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):C(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function C(t,e,n,i,r){var s,o=1,a=t.length,c=e.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,n/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var u=-1;for(s=n;s<a;s++)if(l(t,s)===l(e,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===c)return u*o}else-1!==u&&(s-=s-u),u=-1}else for(n+c>a&&(n=a-c),s=n;s>=0;s--){for(var h=!0,d=0;d<c;d++)if(l(t,s+d)!==l(e,d)){h=!1;break}if(h)return s}return-1}function A(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var s=e.length;if(s%2!==0)throw new TypeError("Invalid hex string");i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[n+o]=a}return o}function T(t,e,n,i){return tt(K(e,t.length-n),t,n,i)}function O(t,e,n,i){return tt(X(e),t,n,i)}function E(t,e,n,i){return O(t,e,n,i)}function P(t,e,n,i){return tt(Z(e),t,n,i)}function S(t,e,n,i){return tt(Q(e,t.length-n),t,n,i)}function R(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);var i=[],r=e;while(r<n){var s,o,a,c,l=t[r],u=null,h=l>239?4:l>223?3:l>191?2:1;if(r+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:s=t[r+1],128===(192&s)&&(c=(31&l)<<6|63&s,c>127&&(u=c));break;case 3:s=t[r+1],o=t[r+2],128===(192&s)&&128===(192&o)&&(c=(15&l)<<12|(63&s)<<6|63&o,c>2047&&(c<55296||c>57343)&&(u=c));break;case 4:s=t[r+1],o=t[r+2],a=t[r+3],128===(192&s)&&128===(192&o)&&128===(192&a)&&(c=(15&l)<<18|(63&s)<<12|(63&o)<<6|63&a,c>65535&&c<1114112&&(u=c))}null===u?(u=65533,h=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=h}return j(i)}e.Buffer=l,e.SlowBuffer=w,e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:o(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return u(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return d(null,t,e,n)},l.allocUnsafe=function(t){return f(null,t)},l.allocUnsafeSlow=function(t){return f(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,s=Math.min(n,i);r<s;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=l.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var o=t[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},l.byteLength=y,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?I(this,0,t):x.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,i,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var s=r-i,o=n-e,a=Math.min(s,o),c=this.slice(i,r),u=t.slice(e,n),h=0;h<a;++h)if(c[h]!==u[h]){s=c[h],o=u[h];break}return s<o?-1:o<s?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return k(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return k(this,t,e,n,!1)},l.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return A(this,t,e,n);case"utf8":case"utf-8":return T(this,t,e,n);case"ascii":return O(this,t,e,n);case"latin1":case"binary":return E(this,t,e,n);case"base64":return P(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function j(t){var e=t.length;if(e<=N)return String.fromCharCode.apply(String,t);var n="",i=0;while(i<e)n+=String.fromCharCode.apply(String,t.slice(i,i+=N));return n}function M(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function B(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function D(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",s=e;s<n;++s)r+=G(t[s]);return r}function V(t,e,n){for(var i=t.slice(e,n),r="",s=0;s<i.length;s+=2)r+=String.fromCharCode(i[s]+256*i[s+1]);return r}function F(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,n,i,r,s){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function U(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,s=Math.min(t.length-n,2);r<s;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function $(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,s=Math.min(t.length-n,4);r<s;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function z(t,e,n,i,r,s){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function q(t,e,n,i,s){return s||z(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),r.write(t,e,n,i,23,4),n+4}function H(t,e,n,i,s){return s||z(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),r.write(t,e,n,i,52,8),n+8}l.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=l.prototype;else{var r=e-t;n=new l(r,void 0);for(var s=0;s<r;++s)n[s]=this[s+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);var i=this[t],r=1,s=0;while(++s<e&&(r*=256))i+=this[t+s]*r;return i},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);var i=this[t+--e],r=1;while(e>0&&(r*=256))i+=this[t+--e]*r;return i},l.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);var i=this[t],r=1,s=0;while(++s<e&&(r*=256))i+=this[t+s]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);var i=e,r=1,s=this[t+--i];while(i>0&&(r*=256))s+=this[t+--i]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*e)),s},l.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;L(this,t,e,n,r,0)}var s=1,o=0;this[e]=255&t;while(++o<n&&(s*=256))this[e+o]=t/s&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;L(this,t,e,n,r,0)}var s=n-1,o=1;this[e+s]=255&t;while(--s>=0&&(o*=256))this[e+s]=t/o&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):$(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):$(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);L(this,t,e,n,r-1,-r)}var s=0,o=1,a=0;this[e]=255&t;while(++s<n&&(o*=256))t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},l.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);L(this,t,e,n,r-1,-r)}var s=n-1,o=1,a=0;this[e+s]=255&t;while(--s>=0&&(o*=256))t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):$(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):$(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return q(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return q(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return H(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return H(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,s=i-n;if(this===t&&n<e&&e<i)for(r=s-1;r>=0;--r)t[r+e]=this[r+n];else if(s<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},l.prototype.fill=function(t,e,n,i){if("string"===typeof t){if("string"===typeof e?(i=e,e=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var s;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(s=e;s<n;++s)this[s]=t;else{var o=l.isBuffer(t)?t:K(new l(t,i).toString()),a=o.length;for(s=0;s<n-e;++s)this[s+e]=o[s%a]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function J(t){if(t=Y(t).replace(W,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function Y(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function G(t){return t<16?"0"+t.toString(16):t.toString(16)}function K(t,e){var n;e=e||1/0;for(var i=t.length,r=null,s=[],o=0;o<i;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function X(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Q(t,e){for(var n,i,r,s=[],o=0;o<t.length;++o){if((e-=2)<0)break;n=t.charCodeAt(o),i=n>>8,r=n%256,s.push(r),s.push(i)}return s}function Z(t){return i.toByteArray(J(t))}function tt(t,e,n,i){for(var r=0;r<i;++r){if(r+n>=e.length||r>=t.length)break;e[r+n]=t[r]}return r}function et(t){return t!==t}}).call(this,n("c8ba"))},b84d:function(t,e,n){"use strict";var i=n("0305");function r(t,e,n){"__proto__"==e&&i["a"]?Object(i["a"])(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}e["a"]=r},b8c3:function(t,e,n){},bae8:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("fcd8"),r=n("2c4d"),s=n("b199"),o=n("e8b2"),a=n("d65e"),c=n("3b42"),l=n("7d4a");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class u{createDocumentFragment(t){return new i["a"](t)}createElement(t,e,n){return new r["a"](t,e,n)}createText(t){return new s["a"](t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,n){return n._insertChild(t,e)}removeChildren(t,e,n){return n._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const n=t.parent;if(n){const i=n.getChildIndex(t);return this.removeChildren(i,1,n),this.insertChild(i,e,n),!0}return!1}rename(t,e){const n=new r["a"](t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){Object(o["a"])(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return a["a"]._createAt(t,e)}createPositionAfter(t){return a["a"]._createAfter(t)}createPositionBefore(t){return a["a"]._createBefore(t)}createRange(t,e){return new c["a"](t,e)}createRangeOn(t){return c["a"]._createOn(t)}createRangeIn(t){return c["a"]._createIn(t)}createSelection(t,e,n){return new l["a"](t,e,n)}}},bb6e:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("940e"),r=(n("11592"),["div","ck-user","ck ck-user__name","name","ck-user__img","isAnonymous","push","ck-user__anonymous","avatar","ck-user__avatar","setTemplate"]);(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(r,476);var s=function(t,e){t-=0;var n=r[t];return n};class o extends i["a"]{constructor(t,e){super(t),this[s("0x0")]=e[s("0x0")];const n=["ck",s("0x1")];e[s("0x2")]&&n[s("0x3")](s("0x4")),e[s("0x5")]&&n[s("0x3")](s("0x6")),this[s("0x7")]({tag:s("0x8"),attributes:{class:["ck",s("0x9")]},children:[{tag:s("0x8"),attributes:{class:n,style:{"background-image":e[s("0x5")]?"url('"+e[s("0x5")]+"')":""}}},{tag:s("0x8"),attributes:{class:e[s("0x5")]?"ck ck-user__name ck-user__name--hidden":s("0xa")},children:[{text:e["initials"]}]}]})}}},bc9b:function(t,e,n){"use strict";var i=n("f0ce"),r=n("2332"),s="[object AsyncFunction]",o="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";function l(t){if(!Object(r["a"])(t))return!1;var e=Object(i["a"])(t);return e==o||e==a||e==s||e==c}e["a"]=l},bcf9:function(t,e,n){},bd11:function(t,e,n){"use strict";t.exports=o;var i=n("8ae5");((o.prototype=Object.create(i.prototype)).constructor=o).className="Enum";var r=n("7e07"),s=n("cbd3");function o(t,e,n,r,s){if(i.call(this,t,n),e&&"object"!==typeof e)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=s||{},this.reserved=void 0,e)for(var o=Object.keys(e),a=0;a<o.length;++a)"number"===typeof e[o[a]]&&(this.valuesById[this.values[o[a]]=e[o[a]]]=o[a])}o.fromJSON=function(t,e){var n=new o(t,e.values,e.options,e.comment,e.comments);return n.reserved=e.reserved,n},o.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return s.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",e?this.comment:void 0,"comments",e?this.comments:void 0])},o.prototype.add=function(t,e,n){if(!s.isString(t))throw TypeError("name must be a string");if(!s.isInteger(e))throw TypeError("id must be an integer");if(void 0!==this.values[t])throw Error("duplicate name '"+t+"' in "+this);if(this.isReservedId(e))throw Error("id "+e+" is reserved in "+this);if(this.isReservedName(t))throw Error("name '"+t+"' is reserved in "+this);if(void 0!==this.valuesById[e]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+e+" in "+this);this.values[t]=e}else this.valuesById[this.values[t]=e]=t;return this.comments[t]=n||null,this},o.prototype.remove=function(t){if(!s.isString(t))throw TypeError("name must be a string");var e=this.values[t];if(null==e)throw Error("name '"+t+"' does not exist in "+this);return delete this.valuesById[e],delete this.values[t],delete this.comments[t],this},o.prototype.isReservedId=function(t){return r.isReservedId(this.reserved,t)},o.prototype.isReservedName=function(t){return r.isReservedName(this.reserved,t)}},be57:function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(t){const e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}n.d(e,"a",function(){return i})},beb5:function(t,e,n){"use strict";n.d(e,"e",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return c}),n.d(e,"d",function(){return l});var i=n("2beb");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function r(t,e,n){return e.setCustomProperty("image",!0,t),Object(i["e"])(t,e,{label:r});function r(){const e=t.getChild(0),i=e.getAttribute("alt");return i?`${i} ${n}`:n}}function s(t){return!!t.getCustomProperty("image")&&Object(i["d"])(t)}function o(t){const e=t.getSelectedElement();return e&&s(e)?e:null}function a(t){return!!t&&t.is("image")}function c(t,e,n={}){const r=t.createElement("image",n),s=Object(i["b"])(e.document.selection,e);e.insertContent(r,s),r.parent&&t.setSelection(r,"on")}function l(t){const e=t.schema,n=t.document.selection;return u(n,e,t)&&!h(n,e)&&d(n)}function u(t,e,n){const i=f(t,n);return e.checkChild(i,"image")}function h(t,e){const n=t.getSelectedElement();return n&&e.isObject(n)}function d(t){return[...t.focus.getAncestors()].every(t=>!t.is("image"))}function f(t,e){const n=Object(i["b"])(t,e),r=n.parent;return r.isEmpty&&!r.is("$root")?r.parent:r}},bf50:function(t,e,n){"use strict";var i=n("109b"),r=n("51d0");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s extends r["a"]{constructor(t){super(t),this.domEventType="mousedown"}onDomEvent(t){this.fire(t.type,t)}}var o=n("2beb"),a=n("84c3"),c=n("59a6");n("fecc");n.d(e,"a",function(){return u});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const l=Object(a["d"])("Ctrl+A");class u extends i["a"]{static get pluginName(){return"Widget"}init(){const t=this.editor.editing.view,e=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(t,e,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const i=n.writer,r=i.document.selection,s=r.getSelectedElement();let a=null;for(const c of r.getRanges())for(const t of c){const e=t.item;Object(o["d"])(e)&&!p(e,a)&&(i.addClass(o["a"],e),this._previouslySelected.add(e),a=e,e==s&&i.setSelection(r.getRanges(),{fake:!0,label:Object(o["c"])(s)}))}},{priority:"low"}),t.addObserver(s),this.listenTo(e,"mousedown",(...t)=>this._onMousedown(...t)),this.listenTo(e,"keydown",(...t)=>this._onKeydown(...t),{priority:"high"}),this.listenTo(e,"delete",(t,e)=>{this._handleDelete("forward"==e.direction)&&(e.preventDefault(),t.stop())},{priority:"high"})}_onMousedown(t,e){const n=this.editor,i=n.editing.view,r=i.document;let s=e.target;if(f(s)){if(c["a"].isSafari&&e.domEvent.detail>=3){const t=n.editing.mapper,i=t.toModelElement(s);this.editor.model.change(t=>{e.preventDefault(),t.setSelection(i,"in")})}return}if(!Object(o["d"])(s)&&(s=s.findAncestor(o["d"]),!s))return;e.preventDefault(),r.isFocused||i.focus();const a=n.editing.mapper.toModelElement(s);this._setSelectionOverElement(a)}_onKeydown(t,e){const n=e.keyCode,i=n==a["c"].arrowdown||n==a["c"].arrowright;let r=!1;h(n)?r=this._handleArrowKeys(i):d(e)?r=this._selectAllNestedEditableContent()||this._selectAllContent():n===a["c"].enter&&(r=this._handleEnterKey(e.shiftKey)),r&&(e.preventDefault(),t.stop())}_handleDelete(t){if(this.editor.isReadOnly)return;const e=this.editor.model.document,n=e.selection;if(!n.isCollapsed)return;const i=this._getObjectElementNextToSelection(t);return i?(this.editor.model.change(t=>{let e=n.anchor.parent;while(e.isEmpty){const n=e;e=n.parent,t.remove(n)}this._setSelectionOverElement(i)}),!0):void 0}_handleArrowKeys(t){const e=this.editor.model,n=e.schema,i=e.document,r=i.selection,s=r.getSelectedElement();if(s&&n.isObject(s)){const i=t?r.getLastPosition():r.getFirstPosition(),s=n.getNearestSelectionRange(i,t?"forward":"backward");return s&&e.change(t=>{t.setSelection(s)}),!0}if(!r.isCollapsed)return;const o=this._getObjectElementNextToSelection(t);return o&&n.isObject(o)?(this._setSelectionOverElement(o),!0):void 0}_handleEnterKey(t){const e=this.editor.model,n=e.document.selection,i=n.getSelectedElement();if(m(i,e.schema))return e.change(n=>{let r=n.createPositionAt(i,t?"before":"after");const s=n.createElement("paragraph");if(e.schema.isBlock(i.parent)){const t=e.schema.findAllowedParent(r,s);r=n.split(r,t).position}n.insert(s,r),n.setSelection(s,"in")}),!0}_selectAllNestedEditableContent(){const t=this.editor.model,e=t.document.selection,n=t.schema.getLimitElement(e);return e.getFirstRange().root!=n&&(t.change(t=>{t.setSelection(t.createRangeIn(n))}),!0)}_selectAllContent(){const t=this.editor.model,e=this.editor.editing,n=e.view,i=n.document,r=i.selection,s=r.getSelectedElement();if(s&&Object(o["d"])(s)){const n=e.mapper.toModelElement(s.parent);return t.change(t=>{t.setSelection(t.createRangeIn(n))}),!0}return!1}_setSelectionOverElement(t){this.editor.model.change(e=>{e.setSelection(e.createRangeOn(t))})}_getObjectElementNextToSelection(t){const e=this.editor.model,n=e.schema,i=e.document.selection,r=e.createSelection(i);e.modifySelection(r,{direction:t?"forward":"backward"});const s=t?r.focus.nodeBefore:r.focus.nodeAfter;return s&&n.isObject(s)?s:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass(o["a"],e);this._previouslySelected.clear()}}function h(t){return t==a["c"].arrowright||t==a["c"].arrowleft||t==a["c"].arrowup||t==a["c"].arrowdown}function d(t){return Object(a["a"])(t)==l}function f(t){while(t){if(t.is("editableElement")&&!t.is("rootElement"))return!0;if(Object(o["d"])(t))return!1;t=t.parent}return!1}function p(t,e){return!!e&&Array.from(t.getAncestors()).includes(e)}function m(t,e){return t&&e.isObject(t)&&!e.isInline(t)}},c38a:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("940e"),r=n("e805");n("cf28");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s extends i["a"]{constructor(t){super(t),this.body=this.createCollection()}render(){super.render(),this._renderBodyCollection()}destroy(){return this._bodyCollectionContainer.remove(),super.destroy()}_renderBodyCollection(){const t=this._bodyCollectionContainer=new r["a"]({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"]},children:this.body}).render();document.body.appendChild(t)}}},c3df:function(t,e,n){"use strict";var i=n("b199"),r=n("2c4d"),s=n("d65e"),o=n("3b42"),a=n("7d4a"),c=n("fcd8"),l=n("086b"),u=n("5b14"),h=n("a07d");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function d(t){let e=0;while(t.previousSibling)t=t.previousSibling,e++;return e}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function f(t){const e=[];while(t&&t.nodeType!=Node.DOCUMENT_NODE)e.unshift(t),t=t.parentNode;return e}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function p(t,e){const n=f(t),i=f(e);let r=0;while(n[r]==i[r]&&n[r])r++;return 0===r?null:n[r-1]}var m=n("031c"),g=n("9a76");n.d(e,"a",function(){return b});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class b{constructor(t={}){this.blockFiller=t.blockFiller||u["a"],this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new a["a"](e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const e of Array.from(t.childNodes))this.unbindDomElement(e)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}viewToDom(t,e,n={}){if(t.is("text")){const n=this._processDataFromViewText(t);return e.createTextNode(n)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let i;if(t.is("documentFragment"))i=e.createDocumentFragment(),n.bind&&this.bindDocumentFragments(i,t);else{if(t.is("uiElement"))return i=t.render(e),n.bind&&this.bindElements(i,t),i;i=e.createElement(t.name),n.bind&&this.bindElements(i,t);for(const e of t.getAttributeKeys())i.setAttribute(e,t.getAttribute(e))}if(n.withChildren||void 0===n.withChildren)for(const r of this.viewChildrenToDom(t,e,n))i.appendChild(r);return i}}*viewChildrenToDom(t,e,n={}){const i=t.getFillerOffset&&t.getFillerOffset();let r=0;for(const s of t.getChildren())i===r&&(yield this.blockFiller(e)),yield this.viewToDom(s,e,n),r++;i===r&&(yield this.blockFiller(e))}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),i=document.createRange();return i.setStart(e.parent,e.offset),i.setEnd(n.parent,n.offset),i}viewPositionToDom(t){const e=t.parent;if(e.is("text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let i=t.offset;return Object(u["i"])(n)&&(i+=u["c"]),{parent:n,offset:i}}{let n,i,r;if(0===t.offset){if(n=this.mapViewToDom(e),!n)return null;r=n.childNodes[0]}else{const e=t.nodeBefore;if(i=e.is("text")?this.findCorrespondingDomText(e):this.mapViewToDom(t.nodeBefore),!i)return null;n=i.parentNode,r=i.nextSibling}if(Object(m["a"])(r)&&Object(u["i"])(r))return{parent:r,offset:u["c"]};const s=i?d(i)+1:0;return{parent:n,offset:s}}}domToView(t,e={}){if(Object(u["g"])(t,this.blockFiller))return null;const n=this.getParentUIElement(t,this._domToViewMapping);if(n)return n;if(Object(m["a"])(t)){if(Object(u["h"])(t))return null;{const e=this._processDataFromDomText(t);return""===e?null:new i["a"](e)}}if(this.isComment(t))return null;{if(this.mapDomToView(t))return this.mapDomToView(t);let n;if(this.isDocumentFragment(t))n=new c["a"],e.bind&&this.bindDocumentFragments(t,n);else{const i=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();n=new r["a"](i),e.bind&&this.bindElements(t,n);const s=t.attributes;for(let t=s.length-1;t>=0;t--)n._setAttribute(s[t].name,s[t].value)}if(e.withChildren||void 0===e.withChildren)for(const i of this.domChildrenToView(t,e))n._appendChild(i);return n}}*domChildrenToView(t,e={}){for(let n=0;n<t.childNodes.length;n++){const i=t.childNodes[n],r=this.domToView(i,e);null!==r&&(yield r)}}domSelectionToView(t){if(1===t.rangeCount){let e=t.getRangeAt(0).startContainer;Object(m["a"])(e)&&(e=e.parentNode);const n=this.fakeSelectionToView(e);if(n)return n}const e=this.isDomSelectionBackward(t),n=[];for(let i=0;i<t.rangeCount;i++){const e=t.getRangeAt(i),r=this.domRangeToView(e);r&&n.push(r)}return new a["a"](n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new o["a"](e,n):null}domPositionToView(t,e){if(Object(u["g"])(t,this.blockFiller))return this.domPositionToView(t.parentNode,d(t));const n=this.mapDomToView(t);if(n&&n.is("uiElement"))return s["a"]._createBefore(n);if(Object(m["a"])(t)){if(Object(u["h"])(t))return this.domPositionToView(t.parentNode,d(t));const n=this.findCorrespondingViewText(t);let i=e;return n?(Object(u["i"])(t)&&(i-=u["c"],i=i<0?0:i),new s["a"](n,i)):null}if(0===e){const e=this.mapDomToView(t);if(e)return new s["a"](e,0)}else{const n=t.childNodes[e-1],i=Object(m["a"])(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(i&&i.parent)return new s["a"](i.parent,i.index+1)}return null}mapDomToView(t){return this.getParentUIElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Object(u["h"])(t))return null;const e=this.getParentUIElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const t=this.mapDomToView(n);if(t){const e=t.nextSibling;return e instanceof i["a"]?t.nextSibling:null}}else{const e=this.mapDomToView(t.parentNode);if(e){const t=e.getChild(0);return t instanceof i["a"]?t:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:t,scrollY:n}=h["a"].window,i=[];w(e,t=>{const{scrollLeft:e,scrollTop:n}=t;i.push([e,n])}),e.focus(),w(e,t=>{const[e,n]=i.shift();t.scrollLeft=e,t.scrollTop=n}),h["a"].window.scrollTo(t,n)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(t){return t&&t.nodeType==Node.COMMENT_NODE}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);const n=e.collapsed;return e.detach(),n}getParentUIElement(t){const e=f(t);e.pop();while(e.length){const t=e.pop(),n=this._domToViewMapping.get(t);if(n&&n.is("uiElement"))return n}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}_isDomSelectionPositionCorrect(t,e){if(Object(m["a"])(t)&&Object(u["i"])(t)&&e<u["c"])return!1;if(this.isElement(t)&&Object(u["i"])(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is("uiElement")}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return e;if(" "==e.charAt(0)){const n=this._getTouchingViewTextNode(t,!1),i=n&&this._nodeEndsWithSpace(n);!i&&n||(e=" "+e.substr(1))}if(" "==e.charAt(e.length-1)){const n=this._getTouchingViewTextNode(t,!0);n||(e=e.substr(0,e.length-1)+" ")}return e.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(t){if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return!1;const e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1)}_processDataFromDomText(t){let e=t.data;if(v(t,this.preElements))return Object(u["e"])(t);e=e.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(t,!1),i=this._getTouchingInlineDomNode(t,!0),r=this._checkShouldLeftTrimDomText(n),s=this._checkShouldRightTrimDomText(t,i);return r&&(e=e.replace(/^ /,"")),s&&(e=e.replace(/ $/,"")),e=Object(u["e"])(new Text(e)),e=e.replace(/ \u00A0/g,"  "),r&&(e=e.replace(/^\u00A0/," ")),Object(m["a"])(i)&&" "!=i.data.charAt(0)||(e=e.replace(/\u00A0( *)$/," $1")),e}_checkShouldLeftTrimDomText(t){return!t||(!!Object(g["a"])(t)||/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1)))}_checkShouldRightTrimDomText(t,e){return!e&&!Object(u["i"])(t)}_getTouchingViewTextNode(t,e){const n=new l["a"]({startPosition:e?s["a"]._createAfter(t):s["a"]._createBefore(t),direction:e?"forward":"backward"});for(const i of n){if(i.item.is("containerElement"))return null;if(i.item.is("br"))return null;if(i.item.is("textProxy"))return i.item}return null}_getTouchingInlineDomNode(t,e){if(!t.parentNode)return null;const n=e?"nextNode":"previousNode",i=t.ownerDocument,r=f(t)[0],s=i.createTreeWalker(r,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode(t){return Object(m["a"])(t)?NodeFilter.FILTER_ACCEPT:"BR"==t.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});s.currentNode=t;const o=s[n]();if(null!==o){const e=p(t,o);if(e&&!v(t,this.blockElements,e)&&!v(o,this.blockElements,e))return o}return null}}function v(t,e,n){let i=f(t);return n&&(i=i.slice(i.indexOf(n)+1)),i.some(t=>t.tagName&&e.includes(t.tagName.toLowerCase()))}function w(t,e){while(t&&t!=h["a"].document)e(t),t=t.parentNode}},c437:function(t,e,n){var i,r,s=n("e1f4"),o=n("2366"),a=0,c=0;function l(t,e,n){var l=e&&n||0,u=e||[];t=t||{};var h=t.node||i,d=void 0!==t.clockseq?t.clockseq:r;if(null==h||null==d){var f=s();null==h&&(h=i=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==d&&(d=r=16383&(f[6]<<8|f[7]))}var p=void 0!==t.msecs?t.msecs:(new Date).getTime(),m=void 0!==t.nsecs?t.nsecs:c+1,g=p-a+(m-c)/1e4;if(g<0&&void 0===t.clockseq&&(d=d+1&16383),(g<0||p>a)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,c=m,r=d,p+=122192928e5;var b=(1e4*(268435455&p)+m)%4294967296;u[l++]=b>>>24&255,u[l++]=b>>>16&255,u[l++]=b>>>8&255,u[l++]=255&b;var v=p/4294967296*1e4&268435455;u[l++]=v>>>8&255,u[l++]=255&v,u[l++]=v>>>24&15|16,u[l++]=v>>>16&255,u[l++]=d>>>8|128,u[l++]=255&d;for(var w=0;w<6;++w)u[l+w]=h[w];return e||o(u)}t.exports=l},c44c:function(t,e,n){},c4b1:function(t,e,n){"use strict";var i=n("109b"),r=n("652f"),s=n("0b65");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const o=["left","right","center","justify"];function a(t){return o.includes(t)}function c(t){return"left"===t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const l="alignment";class u extends r["a"]{refresh(){const t=Object(s["a"])(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!t&&this._canBeAligned(t),this.value=this.isEnabled&&t.hasAttribute("alignment")?t.getAttribute("alignment"):"left"}execute(t={}){const e=this.editor,n=e.model,i=n.document,r=t.value;n.change(t=>{const e=Array.from(i.selection.getSelectedBlocks()).filter(t=>this._canBeAligned(t)),n=e[0].getAttribute("alignment"),s=c(r)||n===r||!r;s?h(e,t):d(e,t,r)})}_canBeAligned(t){return this.editor.model.schema.checkAttribute(t,l)}}function h(t,e){for(const n of t)e.removeAttribute(l,n)}function d(t,e,n){for(const i of t)e.setAttribute(l,n,i)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends i["a"]{constructor(t){super(t),t.config.define("alignment",{options:[...o]})}init(){const t=this.editor,e=t.model.schema,n=t.config.get("alignment.options").filter(a);e.extend("$block",{allowAttributes:"alignment"}),t.model.schema.setAttributeProperties("alignment",{isFormatting:!0});const i=p(n.filter(t=>!c(t)));t.conversion.attributeToAttribute(i),t.commands.add("alignment",new u(t))}}function p(t){const e={model:{key:"alignment",values:t.slice()},view:{}};for(const n of t)e.view[n]={key:"style",value:{"text-align":n}};return e}var m=n("3707"),g=n("ceea"),b='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',v='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',w='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',y='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const x=new Map([["left",b],["right",v],["center",w],["justify",y]]);class _ extends i["a"]{get localizedOptionTitles(){const t=this.editor.t;return{left:t("Align left"),right:t("Align right"),center:t("Align center"),justify:t("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const t=this.editor,e=t.ui.componentFactory,n=t.t,i=t.config.get("alignment.options");i.filter(a).forEach(t=>this._addButton(t)),e.add("alignment",t=>{const r=Object(g["c"])(t),s=i.map(t=>e.create(`alignment:${t}`));Object(g["b"])(r,s),r.buttonView.set({label:n("Text alignment"),tooltip:!0}),r.toolbarView.isVertical=!0,r.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const o=b;return r.buttonView.bind("icon").toMany(s,"isOn",(...t)=>{const e=t.findIndex(t=>t);return e<0?o:s[e].icon}),r.bind("isEnabled").toMany(s,"isEnabled",(...t)=>t.some(t=>t)),r})}_addButton(t){const e=this.editor;e.ui.componentFactory.add(`alignment:${t}`,n=>{const i=e.commands.get("alignment"),r=new m["a"](n);return r.set({label:this.localizedOptionTitles[t],icon:x.get(t),tooltip:!0}),r.bind("isEnabled").to(i),r.bind("isOn").to(i,"value",e=>e===t),this.listenTo(r,"execute",()=>{e.execute("alignment",{value:t}),e.editing.view.focus()}),r})}}n.d(e,"a",function(){return k});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class k extends i["a"]{static get requires(){return[f,_]}static get pluginName(){return"Alignment"}}},c64e:function(t,e,n){var i=n("e1f4"),r=n("2366");function s(t,e,n){var s=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var a=0;a<16;++a)e[s+a]=o[a];return e||r(o)}t.exports=s},c6d4:function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t){super(),this["documentId"]=t}["toJSON"](){return{documentId:this["documentId"]}}static get["TYPE"](){return 92}static get["DESCRIPTOR_NAME"](){return"CommentsV2ConnectMessage"}static get["DESCRIPTOR"](){return{fields:{documentId:{type:"string",id:1}}}}static["fromJSON"](t){return new r(t["documentId"])}}t["exports"]=r},c6eb:function(t,e,n){"use strict";(function(t){var i=n("5ea3"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=r&&"object"==typeof t&&t&&!t.nodeType&&t,o=s&&s.exports===r,a=o&&i["a"].process,c=function(){try{var t=s&&s.require&&s.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();e["a"]=c}).call(this,n("dd40")(t))},c78f:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("dda7"),r=n("be57"),s=n("7f7b"),o=n("cd4b"),a=n("031c"),c=n("9a76");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const l=["top","right","bottom","left","width","height"];class u{constructor(t){const e=Object(i["a"])(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),Object(c["a"])(t)||e){const n=e?t.startContainer:t;n.ownerDocument&&n.ownerDocument.body.contains(n)||o["a"].warn("rect-source-not-in-dom: The source of this rect does not belong to any rendered DOM tree.",{source:t}),h(this,e?u.getDomRangeRects(t)[0]:t.getBoundingClientRect())}else if(Object(r["a"])(t)){const{innerWidth:e,innerHeight:n}=t;h(this,{top:0,right:e,bottom:n,left:0,width:e,height:n})}else h(this,t)}clone(){return new u(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new u(e)}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!d(t)){let n=t.parentNode||t.commonAncestorContainer;while(n&&!d(n)){const t=new u(n),i=e.getIntersection(t);if(!i)return null;i.getArea()<e.getArea()&&(e=i),n=n.parentNode}}return e}isEqual(t){for(const e of l)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,n;if(Object(r["a"])(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight;else{const i=Object(s["a"])(this._source);e=t.offsetWidth-t.clientWidth,n=t.offsetHeight-t.clientHeight,this.moveBy(i.left,i.top)}return this.width-=e,this.right-=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const i of n)e.push(new u(i));else{let n=t.startContainer;Object(a["a"])(n)&&(n=n.parentNode);const i=new u(n.getBoundingClientRect());i.right=i.left,i.width=0,e.push(i)}return e}}function h(t,e){for(const n of l)t[n]=e[n]}function d(t){return!!Object(c["a"])(t)&&t===t.ownerDocument.body}},c7ce:function(t,e,n){var i=n("c8d5");function r(t,e){var n=e&&Number(e.weekStartsOn)||0,r=i(t),s=r.getDay(),o=(s<n?7:0)+s-n;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}t.exports=r},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},c8d4:function(t,e,n){"use strict";var i=e;i.length=function(t){for(var e=0,n=0,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?e+=1:n<2048?e+=2:55296===(64512&n)&&56320===(64512&t.charCodeAt(i+1))?(++i,e+=4):e+=3;return e},i.read=function(t,e,n){var i=n-e;if(i<1)return"";var r,s=null,o=[],a=0;while(e<n)r=t[e++],r<128?o[a++]=r:r>191&&r<224?o[a++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))},i.write=function(t,e,n){for(var i,r,s=n,o=0;o<t.length;++o)i=t.charCodeAt(o),i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&56320===(64512&(r=t.charCodeAt(o+1)))?(i=65536+((1023&i)<<10)+(1023&r),++o,e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128);return n-s}},c8d5:function(t,e,n){var i=n("5465"),r=n("a735"),s=36e5,o=6e4,a=2,c=/[T ]/,l=/:/,u=/^(\d{2})$/,h=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],d=/^(\d{4})/,f=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],p=/^-(\d{2})$/,m=/^-?(\d{3})$/,g=/^-?(\d{2})-?(\d{2})$/,b=/^-?W(\d{2})$/,v=/^-?W(\d{2})-?(\d{1})$/,w=/^(\d{2}([.,]\d*)?)$/,y=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,x=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,_=/([Z+-].*)$/,k=/^(Z)$/,C=/^([+-])(\d{2})$/,A=/^([+-])(\d{2}):?(\d{2})$/;function T(t,e){if(r(t))return new Date(t.getTime());if("string"!==typeof t)return new Date(t);var n=e||{},s=n.additionalDigits;s=null==s?a:Number(s);var c=O(t),l=E(c.date,s),u=l.year,h=l.restDateString,d=P(h,u);if(d){var f,p=d.getTime(),m=0;if(c.time&&(m=S(c.time)),c.timezone)f=R(c.timezone)*o;else{var g=p+m,b=new Date(g);f=i(b);var v=new Date(g);v.setDate(b.getDate()+1);var w=i(v)-i(b);w>0&&(f+=w)}return new Date(p+m+f)}return new Date(t)}function O(t){var e,n={},i=t.split(c);if(l.test(i[0])?(n.date=null,e=i[0]):(n.date=i[0],e=i[1]),e){var r=_.exec(e);r?(n.time=e.replace(r[1],""),n.timezone=r[1]):n.time=e}return n}function E(t,e){var n,i=h[e],r=f[e];if(n=d.exec(t)||r.exec(t),n){var s=n[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(n=u.exec(t)||i.exec(t),n){var o=n[1];return{year:100*parseInt(o,10),restDateString:t.slice(o.length)}}return{year:null}}function P(t,e){if(null===e)return null;var n,i,r,s;if(0===t.length)return i=new Date(0),i.setUTCFullYear(e),i;if(n=p.exec(t),n)return i=new Date(0),r=parseInt(n[1],10)-1,i.setUTCFullYear(e,r),i;if(n=m.exec(t),n){i=new Date(0);var o=parseInt(n[1],10);return i.setUTCFullYear(e,0,o),i}if(n=g.exec(t),n){i=new Date(0),r=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return i.setUTCFullYear(e,r,a),i}if(n=b.exec(t),n)return s=parseInt(n[1],10)-1,I(e,s);if(n=v.exec(t),n){s=parseInt(n[1],10)-1;var c=parseInt(n[2],10)-1;return I(e,s,c)}return null}function S(t){var e,n,i;if(e=w.exec(t),e)return n=parseFloat(e[1].replace(",",".")),n%24*s;if(e=y.exec(t),e)return n=parseInt(e[1],10),i=parseFloat(e[2].replace(",",".")),n%24*s+i*o;if(e=x.exec(t),e){n=parseInt(e[1],10),i=parseInt(e[2],10);var r=parseFloat(e[3].replace(",","."));return n%24*s+i*o+1e3*r}return null}function R(t){var e,n;return e=k.exec(t),e?0:(e=C.exec(t),e?(n=60*parseInt(e[2],10),"+"===e[1]?-n:n):(e=A.exec(t),e?(n=60*parseInt(e[2],10)+parseInt(e[3],10),"+"===e[1]?-n:n):0))}function I(t,e,n){e=e||0,n=n||0;var i=new Date(0);i.setUTCFullYear(t,0,4);var r=i.getUTCDay()||7,s=7*e+n+1-r;return i.setUTCDate(i.getUTCDate()+s),i}t.exports=T},c9eb:function(t,e){try{t.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){t.exports=!1}},ca07:function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t,e,n,i){super(),this["id"]=t,this["buffers"]=e,this["types"]=n,this["engineVersion"]=i}["toJSON"](){return{id:this["id"],buffers:this["buffers"],types:this["types"],engineVersion:this["engineVersion"]}}static get["TYPE"](){return 11}static get["DESCRIPTOR_NAME"](){return"CollaborativeEditingConnectMessage"}static get["DESCRIPTOR"](){return{fields:{id:{type:"string",id:1},engineVersion:{type:"string",id:2},buffers:{rule:"repeated",type:"bytes",id:3},types:{rule:"repeated",type:"uint32",id:4}}}}static["fromJSON"](t){return new r(t["id"],t["buffers"],t["types"],t["engineVersion"])}}t["exports"]=r},ca54:function(t,e,n){"use strict";var i=n("26ee"),r=i["a"].Symbol;e["a"]=r},ca99:function(t,e){t.exports=function(t,e,n){var i=t.byteLength;if(e=e||0,n=n||i,t.slice)return t.slice(e,n);if(e<0&&(e+=i),n<0&&(n+=i),n>i&&(n=i),e>=i||e>=n||0===i)return new ArrayBuffer(0);for(var r=new Uint8Array(t),s=new Uint8Array(n-e),o=e,a=0;o<n;o++,a++)s[a]=r[o];return s.buffer}},cb3e:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("652f");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r extends i["a"]{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document,i=n.selection,r=void 0===t.forceValue?!this.value:t.forceValue;e.change(t=>{if(i.isCollapsed)r?t.setSelectionAttribute(this.attributeKey,!0):t.removeSelectionAttribute(this.attributeKey);else{const n=e.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const e of n)r?t.setAttribute(this.attributeKey,r,e):t.removeAttribute(this.attributeKey,e)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const i of n.getRanges())for(const t of i.getItems())if(e.checkAttribute(t,this.attributeKey))return t.hasAttribute(this.attributeKey);return!1}}},cbd3:function(t,e,n){"use strict";var i,r,s=t.exports=n("e938"),o=n("064a");s.codegen=n("eb09"),s.fetch=n("7aba"),s.path=n("2d9a"),s.fs=s.inquire("fs"),s.toArray=function(t){if(t){var e=Object.keys(t),n=new Array(e.length),i=0;while(i<e.length)n[i]=t[e[i++]];return n}return[]},s.toObject=function(t){var e={},n=0;while(n<t.length){var i=t[n++],r=t[n++];void 0!==r&&(e[i]=r)}return e};var a=/\\/g,c=/"/g;s.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)},s.safeProp=function(t){return!/^[$\w_]+$/.test(t)||s.isReserved(t)?'["'+t.replace(a,"\\\\").replace(c,'\\"')+'"]':"."+t},s.ucFirst=function(t){return t.charAt(0).toUpperCase()+t.substring(1)};var l=/_([a-z])/g;s.camelCase=function(t){return t.substring(0,1)+t.substring(1).replace(l,function(t,e){return e.toUpperCase()})},s.compareFieldsById=function(t,e){return t.id-e.id},s.decorateType=function(t,e){if(t.$type)return e&&t.$type.name!==e&&(s.decorateRoot.remove(t.$type),t.$type.name=e,s.decorateRoot.add(t.$type)),t.$type;i||(i=n("6ecf"));var r=new i(e||t.name);return s.decorateRoot.add(r),r.ctor=t,Object.defineProperty(t,"$type",{value:r,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:r,enumerable:!1}),r};var u=0;s.decorateEnum=function(t){if(t.$type)return t.$type;r||(r=n("bd11"));var e=new r("Enum"+u++,t);return s.decorateRoot.add(e),Object.defineProperty(t,"$type",{value:e,enumerable:!1}),e},Object.defineProperty(s,"decorateRoot",{get:function(){return o["decorated"]||(o["decorated"]=new(n("ee6e")))}})},cc9e:function(t,e,n){var i=n("5317"),r=n("34eb")("socket.io-client:url");function s(t,e){var n=t;e=e||"undefined"!==typeof location&&location,null==t&&(t=e.protocol+"//"+e.host),"string"===typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(r("protocol-less url %s",t),t="undefined"!==typeof e?e.protocol+"//"+t:"https://"+t),r("parse %s",t),n=i(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var s=-1!==n.host.indexOf(":"),o=s?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(e&&e.port===n.port?"":":"+n.port),n}t.exports=s},ccc1:function(t,e){function n(t,e,n){var r=!1;return n=n||i,s.count=t,0===t?e():s;function s(t,i){if(s.count<=0)throw new Error("after called too many times");--s.count,t?(r=!0,e(t),e=n):0!==s.count||r||e(null,i)}}function i(){}t.exports=n},cd4b:function(t,e,n){"use strict";var i=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const r={error(t,e){console.error(Object(i["a"])(t),e)},warn(t,e){console.warn(Object(i["a"])(t),e)}};e["a"]=r},cdbd:function(t,e,n){"use strict";const i=n("2bd2");class r extends i{static get["DESCRIPTOR_NAME"](){return"KeyValueDescriptor"}static get["DESCRIPTOR"](){return{fields:{key:{type:"string",id:1},value:{type:"string",id:2}}}}}t["exports"]=r},ce97:function(t,e,n){},ceea:function(t,e,n){"use strict";var i=n("940e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class r extends i["a"]{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",t=>`ck-dropdown__panel_${t}`),e.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:e.to(t=>t.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const t=this.children.last;"function"===typeof t.focusLast?t.focusLast():t.focus()}}}var s=n("768b"),o=n("91db"),a=(n("0a06"),n("9aba"));
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class c extends i["a"]{constructor(t,e,n){super(t);const i=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("panelPosition","auto"),this.focusTracker=new s["a"],this.keystrokes=new o["a"],this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",t=>!t)]},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{if(this.isOpen)if("auto"===this.panelPosition){const t=c.defaultPanelPositions;this.panelView.position=Object(a["a"])({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:[t.southEast,t.southWest,t.northEast,t.northWest]}).name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const t=(t,e)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,e())};this.keystrokes.set("arrowdown",(t,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())}),this.keystrokes.set("arrowright",(t,e)=>{this.isOpen&&e()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}}c.defaultPanelPositions={southEast:t=>{return{top:t.bottom,left:t.left,name:"se"}},southWest:(t,e)=>{return{top:t.bottom,left:t.left-e.width+t.width,name:"sw"}},northEast:(t,e)=>{return{top:t.top-e.height,left:t.left,name:"ne"}},northWest:(t,e)=>{return{top:t.bottom-e.height,left:t.left-e.width+t.width,name:"nw"}}};var l=n("3707"),u=n("4ca4"),h=n("631f");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class d extends l["a"]{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new h["a"];return t.content=u["a"],t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}var f=n("1e6e"),p=n("0d02");n("3a7f");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class m extends i["a"]{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new s["a"],this.keystrokes=new o["a"],this._focusCycler=new p["a"]({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class g extends i["a"]{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class b extends i["a"]{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}n("ff23");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class v extends l["a"]{constructor(t){super(t),this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new i["a"];return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}var w=n("901d");n("2a21"),n("f5e9");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function y(t,e=d){const n=new e(t),i=new r(t),s=new c(t,n,i);return n.bind("isEnabled").to(s),n instanceof d?n.bind("isOn").to(s,"isOpen"):n.arrowView.bind("isOn").to(s,"isOpen"),k(s),s}function x(t,e){const n=t.toolbarView=new f["a"];t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.map(t=>n.items.add(t)),t.panelView.children.add(n),n.items.delegate("execute").to(t)}function _(t,e){const n=t.locale,i=t.listView=new m(n);i.items.bindTo(e).using(({type:t,model:e})=>{if("separator"===t)return new b(n);if("button"===t||"switchbutton"===t){const i=new g(n);let r;return r="button"===t?new l["a"](n):new v(n),r.bind(...Object.keys(e)).to(e),r.delegate("execute").to(i),i.children.add(r),i}}),t.panelView.children.add(i),i.items.delegate("execute").to(t)}function k(t){C(t),A(t),T(t)}function C(t){t.on("render",()=>{Object(w["a"])({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:[t.element]})})}function A(t){t.on("execute",e=>{e.source instanceof v||(t.isOpen=!1)})}function T(t){t.keystrokes.set("arrowdown",(e,n)=>{t.isOpen&&(t.panelView.focus(),n())}),t.keystrokes.set("arrowup",(e,n)=>{t.isOpen&&(t.panelView.focusLast(),n())})}n.d(e,"c",function(){return y}),n.d(e,"b",function(){return x}),n.d(e,"a",function(){return _})},cf28:function(t,e,n){},d1b1:function(t,e,n){"use strict";const i=n("193c"),r=n("1f55");class s extends i{constructor(t,e){super(),this["data"]=t,this["data1"]=e}["toJSON"](){return{data:this["data"],data1:this["data1"]?JSON["stringify"](this["data1"]):void 0}}static get["TYPE"](){return r["getPacketType"](r["TYPES"]["STRING"],r["TYPES"]["OBJECT"])}static get["DESCRIPTOR_NAME"](){return"StringObjectPacketDataMessage"}static get["DESCRIPTOR"](){return{fields:{data:{type:"string",id:1},data1:{type:"string",id:2}}}}static["fromJSON"](t){return new s(t["data"],t["data1"]&&JSON["parse"](t["data1"]))}static["create"](t,e){return new s(t,e)}}t["exports"]=s},d1c4:function(t,e,n){},d21d:function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function i(){return function t(){t.called=!0}}var r=i;n.d(e,"a",function(){return s});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=r(),this.off=r()}}},d33e:function(t,e,n){var i=n("01d3"),r=n("0949"),s=n("7297"),o=n("62fa"),a=n("34eb")("engine.io-client:polling-xhr");function c(){}function l(t){if(r.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!==typeof location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd="undefined"!==typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function u(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(t.exports=l,t.exports.Request=u,o(l,r),l.prototype.supportsBinary=!0,l.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new u(t)},l.prototype.doWrite=function(t,e){var n="string"!==typeof t&&void 0!==t,i=this.request({method:"POST",data:t,isBinary:n}),r=this;i.on("success",e),i.on("error",function(t){r.onError("xhr post error",t)}),this.sendXhr=i},l.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},s(u.prototype),u.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new i(t),n=this;try{a("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&e.setRequestHeader(r,this.extraHeaders[r])}catch(s){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{e.setRequestHeader("Accept","*/*")}catch(s){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===t&&(e.responseType="arraybuffer")}catch(s){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout(function(){n.onError(e.status)},0))},a("xhr data %s",this.data),e.send(this.data)}catch(s){return void setTimeout(function(){n.onError(s)},0)}"undefined"!==typeof document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},u.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},u.prototype.cleanup=function(t){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(e){}"undefined"!==typeof document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(n){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=t&&this.onData(t)},u.prototype.hasXDR=function(){return"undefined"!==typeof XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",d);else if("function"===typeof addEventListener){var h="onpagehide"in self?"pagehide":"unload";addEventListener(h,d,!1)}function d(){for(var t in u.requests)u.requests.hasOwnProperty(t)&&u.requests[t].abort()}},d420:function(t,e,n){var i=n("0978"),r=6e4,s=864e5;function o(t,e){var n=i(t),o=i(e),a=n.getTime()-n.getTimezoneOffset()*r,c=o.getTime()-o.getTimezoneOffset()*r;return Math.round((a-c)/s)}t.exports=o},d468:function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},d4c1:function(t,e,n){"use strict";var i=n("109b"),r=n("cb3e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const s="italic";class o extends i["a"]{init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:s}),t.model.schema.setAttributeProperties(s,{isFormatting:!0}),t.conversion.attributeToElement({model:s,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(s,new r["a"](t,s)),t.keystrokes.set("CTRL+I",s)}}var a=n("3707"),c='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const l="italic";class u extends i["a"]{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(l,n=>{const i=t.commands.get(l),r=new a["a"](n);return r.set({label:e("Italic"),icon:c,keystroke:"CTRL+I",tooltip:!0}),r.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(r,"execute",()=>t.execute(l)),r})}}n.d(e,"a",function(){return h});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class h extends i["a"]{static get requires(){return[o,u]}static get pluginName(){return"Italic"}}},d4e1:function(t,e,n){"use strict";var i=n("da0d"),r=n("f2ea"),s=n("2332"),o=n("61f1");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const a=Symbol("observableProperties"),c=Symbol("boundObservables"),l=Symbol("boundProperties"),u={set(t,e){if(Object(s["a"])(t))return void Object.keys(t).forEach(e=>{this.set(e,t[e])},this);h(this);const n=this[a];if(t in this&&!n.has(t))throw new r["b"]("observable-set-cannot-override: Cannot override an existing property.");Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get(){return n.get(t)},set(e){const i=n.get(t);let r=this.fire("set:"+t,t,e,i);void 0===r&&(r=e),i===r&&n.has(t)||(n.set(t,r),this.fire("change:"+t,t,r,i))}}),this[t]=e},bind(...t){if(!t.length||!m(t))throw new r["b"]("observable-bind-wrong-properties: All properties must be strings.");if(new Set(t).size!==t.length)throw new r["b"]("observable-bind-duplicate-properties: Properties must be unique.");h(this);const e=this[l];t.forEach(t=>{if(e.has(t))throw new r["b"]("observable-bind-rebind: Cannot bind the same property more that once.")});const n=new Map;return t.forEach(t=>{const i={property:t,to:[]};e.set(t,i),n.set(t,i)}),{to:d,toMany:f,_observable:this,_bindProperties:t,_to:[],_bindings:n}},unbind(...t){if(!(a in this))return;const e=this[l],n=this[c];if(t.length){if(!m(t))throw new r["b"]("observable-unbind-wrong-properties: Properties must be strings.");t.forEach(t=>{const i=e.get(t);if(!i)return;let r,s,o,a;i.to.forEach(t=>{r=t[0],s=t[1],o=n.get(r),a=o[s],a.delete(i),a.size||delete o[s],Object.keys(o).length||(n.delete(r),this.stopListening(r,"change"))}),e.delete(t)})}else n.forEach((t,e)=>{this.stopListening(e,"change")}),n.clear(),e.clear()},decorate(t){const e=this[t];if(!e)throw new r["b"]("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",{object:this,methodName:t});this.on(t,(t,n)=>{t.return=e.apply(this,n)}),this[t]=function(...e){return this.fire(t,e)}}};function h(t){a in t||(Object.defineProperty(t,a,{value:new Map}),Object.defineProperty(t,c,{value:new Map}),Object.defineProperty(t,l,{value:new Map}))}function d(...t){const e=g(...t),n=Array.from(this._bindings.keys()),i=n.length;if(!e.callback&&e.to.length>1)throw new r["b"]("observable-bind-to-no-callback: Binding multiple observables only possible with callback.");if(i>1&&e.callback)throw new r["b"]("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.");e.to.forEach(t=>{if(t.properties.length&&t.properties.length!==i)throw new r["b"]("observable-bind-to-properties-length: The number of properties must match.");t.properties.length||(t.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),y(this._observable,this._to),v(this),this._bindProperties.forEach(t=>{w(this._observable,t)})}function f(t,e,n){if(this._bindings.size>1)throw new r["b"]("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().");this.to(...p(t,e),n)}function p(t,e){const n=t.map(t=>[t,e]);return Array.prototype.concat.apply([],n)}function m(t){return t.every(t=>"string"==typeof t)}function g(...t){if(!t.length)throw new r["b"]("observable-bind-to-parse-error: Invalid argument syntax in `to()`.");const e={to:[]};let n;return"function"==typeof t[t.length-1]&&(e.callback=t.pop()),t.forEach(t=>{if("string"==typeof t)n.properties.push(t);else{if("object"!=typeof t)throw new r["b"]("observable-bind-to-parse-error: Invalid argument syntax in `to()`.");n={observable:t,properties:[]},e.to.push(n)}}),e}function b(t,e,n,i){const r=t[c],s=r.get(n),o=s||{};o[i]||(o[i]=new Set),o[i].add(e),s||r.set(n,o)}function v(t){let e;t._bindings.forEach((n,i)=>{t._to.forEach(r=>{e=r.properties[n.callback?0:t._bindProperties.indexOf(i)],n.to.push([r.observable,e]),b(t._observable,n,r.observable,e)})})}function w(t,e){const n=t[l],i=n.get(e);let r;i.callback?r=i.callback.apply(t,i.to.map(t=>t[0][t[1]])):(r=i.to[0],r=r[0][r[1]]),t.hasOwnProperty(e)?t[e]=r:t.set(e,r)}function y(t,e){e.forEach(e=>{const n=t[c];let i;n.get(e.observable)||t.listenTo(e.observable,"change",(r,s)=>{i=n.get(e.observable)[s],i&&i.forEach(e=>{w(t,e.property)})})})}Object(o["a"])(u,i["c"]),e["a"]=u},d65e:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("086b"),r=n("e47a"),s=n("f2ea"),o=n("1159");n("e800");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class a{constructor(t,e){this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;while(!(t instanceof o["a"])){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=a._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new i["a"](e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;while(e[i]==n[i]&&e[i])i++;return 0===i?null:e[i-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return"before"==this.compareWith(t)}isAfter(t){return"after"==this.compareWith(t)}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const i=Object(r["a"])(e,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return e[i]<n[i]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new i["a"](t)}clone(){return new a(this.parent,this.offset)}static _createAt(t,e){if(t instanceof a)return new this(t.parent,t.offset);{const n=t;if("end"==e)e=n.is("text")?n.data.length:n.childCount;else{if("before"==e)return this._createBefore(n);if("after"==e)return this._createAfter(n);if(0!==e&&!e)throw new s["b"]("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.")}return new a(n,e)}}static _createAfter(t){if(t.is("textProxy"))return new a(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new s["b"]("view-position-after-root: You can not make position after root.",{root:t});return new a(t.parent,t.index+1)}static _createBefore(t){if(t.is("textProxy"))return new a(t.textNode,t.offsetInText);if(!t.parent)throw new s["b"]("view-position-before-root: You can not make position before root.",{root:t});return new a(t.parent,t.index)}}},d780:function(t,e){var n="undefined"!==typeof n?n:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(e){return!1}}(),r=i&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(e){return!1}}(),s=n&&n.prototype.append&&n.prototype.getBlob;function o(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t})}function a(t,e){e=e||{};var i=new n;return o(t).forEach(function(t){i.append(t)}),e.type?i.getBlob(e.type):i.getBlob()}function c(t,e){return new Blob(o(t),e||{})}"undefined"!==typeof Blob&&(a.prototype=Blob.prototype,c.prototype=Blob.prototype),t.exports=function(){return i?r?Blob:c:s?a:void 0}()},d82e:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("109b"),r=n("d4e1"),s=n("67b9"),o=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class a extends i["a"]{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new s["a"]({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if("string"!==typeof t)throw new o["b"]("pendingactions-add-invalid-message: The message must be a string.");const e=Object.create(r["a"]);return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}},d838:function(t,e){function n(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}t.exports=n},d842:function(t,e,n){},da0d:function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return u});var i=n("d21d"),r=n("ed4a"),s=n("5bfb");n("e800");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const o=Symbol("listeningTo"),a=Symbol("emitterId"),c={on(t,e,n={}){this.listenTo(this,t,e,n)},once(t,e,n){let i=!1;const r=function(t,...n){i||(i=!0,t.off(),e.call(this,t,...n))};this.listenTo(this,t,r,n)},off(t,e){this.stopListening(this,t,e)},listenTo(t,e,n,i={}){let r,a;this[o]||(this[o]={});const c=this[o];h(t)||u(t);const l=h(t);(r=c[l])||(r=c[l]={emitter:t,callbacks:{}}),(a=r.callbacks[e])||(a=r.callbacks[e]=[]),a.push(n),p(t,e);const d=m(t,e),f=s["a"].get(i.priority),g={callback:n,priority:f};for(const s of d){let t=!1;for(let e=0;e<s.length;e++)if(s[e].priority<f){s.splice(e,0,g),t=!0;break}t||s.push(g)}},stopListening(t,e,n){const i=this[o];let r=t&&h(t);const s=i&&r&&i[r],a=s&&e&&s.callbacks[e];if(!(!i||t&&!s||e&&!a))if(n)v(t,e,n);else if(a){while(n=a.pop())v(t,e,n);delete s.callbacks[e]}else if(s){for(e in s.callbacks)this.stopListening(t,e);delete i[r]}else{for(r in i)this.stopListening(i[r].emitter);delete this[o]}},fire(t,...e){const n=t instanceof i["a"]?t:new i["a"](this,t),r=n.name;let s=g(this,r);if(n.path.push(this),s){const t=[n,...e];s=Array.from(s);for(let e=0;e<s.length;e++)if(s[e].callback.apply(this,t),n.off.called&&(delete n.off.called,v(this,r,s[e].callback)),n.stop.called)break}if(this._delegations){const t=this._delegations.get(r),i=this._delegations.get("*");t&&b(t,n,e),i&&b(i,n,e)}return n.return},delegate(...t){return{to:(e,n)=>{this._delegations||(this._delegations=new Map),t.forEach(t=>{const i=this._delegations.get(t);i?i.set(e,n):this._delegations.set(t,new Map([[e,n]]))})}}},stopDelegating(t,e){if(this._delegations)if(t)if(e){const n=this._delegations.get(t);n&&n.delete(e)}else this._delegations.delete(t);else this._delegations.clear()}};function l(t,e){return t[o]&&t[o][e]?t[o][e].emitter:null}function u(t,e){t[a]||(t[a]=e||Object(r["a"])())}function h(t){return t[a]}function d(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function f(){return{callbacks:[],childEvents:[]}}function p(t,e){const n=d(t);if(n[e])return;let i=e,r=null;const s=[];while(""!==i){if(n[i])break;n[i]=f(),s.push(n[i]),r&&n[i].childEvents.push(r),r=i,i=i.substr(0,i.lastIndexOf(":"))}if(""!==i){for(const t of s)t.callbacks=n[i].callbacks.slice();n[i].childEvents.push(r)}}function m(t,e){const n=d(t)[e];if(!n)return[];let i=[n.callbacks];for(let r=0;r<n.childEvents.length;r++){const e=m(t,n.childEvents[r]);i=i.concat(e)}return i}function g(t,e){let n;return t._events&&(n=t._events[e])&&n.callbacks.length?n.callbacks:e.indexOf(":")>-1?g(t,e.substr(0,e.lastIndexOf(":"))):null}function b(t,e,n){for(let[r,s]of t){s?"function"==typeof s&&(s=s(e.name)):s=e.name;const t=new i["a"](e.source,s);t.path=[...e.path],r.fire(t,...n)}}function v(t,e,n){const i=m(t,e);for(const r of i)for(let t=0;t<r.length;t++)r[t].callback==n&&(r.splice(t,1),t--)}e["c"]=c},da3c:function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(t,e,n,i=!1){n=n||function(t,e){return t===e},Array.isArray(t)||(t=Array.from(t)),Array.isArray(e)||(e=Array.from(e));const s=r(t,e,n);return i?c(s,e.length):a(e,s)}function r(t,e,n){const i=s(t,e,n);if(-1===i)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const r=o(t,i),a=o(e,i),c=s(r,a,n),l=t.length-c,u=e.length-c;return{firstIndex:i,lastIndexOld:l,lastIndexNew:u}}function s(t,e,n){for(let i=0;i<Math.max(t.length,e.length);i++)if(void 0===t[i]||void 0===e[i]||!n(t[i],e[i]))return i;return-1}function o(t,e){return t.slice(e).reverse()}function a(t,e){const n=[],{firstIndex:i,lastIndexOld:r,lastIndexNew:s}=e;return s-i>0&&n.push({index:i,type:"insert",values:t.slice(i,s)}),r-i>0&&n.push({index:i+(s-i),type:"delete",howMany:r-i}),n}function c(t,e){const{firstIndex:n,lastIndexOld:i,lastIndexNew:r}=t;if(-1===n)return Array(e).fill("equal");let s=[];return n>0&&(s=s.concat(Array(n).fill("equal"))),r-n>0&&(s=s.concat(Array(r-n).fill("insert"))),i-n>0&&(s=s.concat(Array(i-n).fill("delete"))),r<e&&(s=s.concat(Array(e-r).fill("equal"))),s}n.d(e,"a",function(){return i})},da83:function(t,e,n){"use strict";var i=n("109b"),r=n("644e"),s=n("d4e1");
/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const o={refreshInterval:36e5,autoRefresh:!0};class a{constructor(t,e=o){if(!t)throw new Error("A `tokenUrl` must be provided as the first constructor argument.");this.set("value",e.initValue),this._refresh="function"===typeof t?t:()=>c(t),this._options=Object.assign({},o,e)}init(){return new Promise((t,e)=>{this._options.autoRefresh&&this._startRefreshing(),this.value?t(this):this._refreshToken().then(t).catch(e)})}_refreshToken(){return this._refresh().then(t=>this.set("value",t)).then(()=>this)}destroy(){this._stopRefreshing()}_startRefreshing(){this._refreshInterval=setInterval(()=>this._refreshToken(),this._options.refreshInterval)}_stopRefreshing(){clearInterval(this._refreshInterval)}static create(t,e=o){const n=new a(t,e);return n.init()}}function c(t){return new Promise((e,n)=>{const i=new XMLHttpRequest;i.open("GET",t),i.addEventListener("load",()=>{const t=i.status,r=i.response;return t<200||t>299?n(new Error("Cannot download new token!")):e(r)}),i.addEventListener("error",()=>n(new Error("Network Error"))),i.addEventListener("abort",()=>n(new Error("Abort"))),i.send()})}Object(r["a"])(a,s["a"]);var l=a;n.d(e,"a",function(){return u});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class u extends i["a"]{static get pluginName(){return"CloudServices"}init(){const t=this.editor,e=t.config,n=e.get("cloudServices")||{};for(const i in n)this[i]=n[i];if(this.tokenUrl)return this.token=new u.Token(this.tokenUrl),this.token.init();this.token=null}}u.Token=l},da88:function(t,e,n){},da92:function(t,e,n){var i=n("6a44"),r=n("7297"),s=n("34eb")("engine.io-client:socket"),o=n("ee34"),a=n("5a6e"),c=n("5317"),l=n("4f2a");function u(t,e){if(!(this instanceof u))return new u(t,e);e=e||{},t&&"object"===typeof t&&(e=t,t=null),t?(t=c(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=c(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!==typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!==typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"===typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"===typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function h(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}t.exports=u,u.priorWebsocketSuccess=!1,r(u.prototype),u.protocol=a.protocol,u.Socket=u,u.Transport=n("19b7"),u.transports=n("6a44"),u.parser=n("5a6e"),u.prototype.createTransport=function(t){s('creating transport "%s"',t);var e=h(this.query);e.EIO=a.protocol,e.transport=t;var n=this.transportOptions[t]||{};this.id&&(e.sid=this.id);var r=new i[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative});return r},u.prototype.open=function(){var t;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},u.prototype.setTransport=function(t){s("setting transport %s",t.name);var e=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},u.prototype.probe=function(t){s('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,i=this;function r(){if(i.onlyBinaryUpgrades){var r=!this.supportsBinary&&i.transport.supportsBinary;n=n||r}n||(s('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(s('probe transport "%s" pong',t),i.upgrading=!0,i.emit("upgrading",e),!e)return;u.priorWebsocketSuccess="websocket"===e.name,s('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){n||"closed"!==i.readyState&&(s("changing transport and sending upgrade packet"),d(),i.setTransport(e),e.send([{type:"upgrade"}]),i.emit("upgrade",e),e=null,i.upgrading=!1,i.flush())})}else{s('probe transport "%s" failed',t);var o=new Error("probe error");o.transport=e.name,i.emit("upgradeError",o)}}))}function o(){n||(n=!0,d(),e.close(),e=null)}function a(n){var r=new Error("probe error: "+n);r.transport=e.name,o(),s('probe transport "%s" failed because of error: %s',t,n),i.emit("upgradeError",r)}function c(){a("transport closed")}function l(){a("socket closed")}function h(t){e&&t.name!==e.name&&(s('"%s" works - aborting "%s"',t.name,e.name),o())}function d(){e.removeListener("open",r),e.removeListener("error",a),e.removeListener("close",c),i.removeListener("close",l),i.removeListener("upgrading",h)}u.priorWebsocketSuccess=!1,e.once("open",r),e.once("error",a),e.once("close",c),this.once("close",l),this.once("upgrading",h),e.open()},u.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},u.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data);break}else s('packet received with socket readyState "%s"',this.readyState)},u.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},u.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},u.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},u.prototype.sendPacket=function(t,e,n,i){if("function"===typeof e&&(i=e,e=void 0),"function"===typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var r={type:t,data:e,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}},u.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():e()}):this.upgrading?i():e()}function e(){t.onClose("forced close"),s("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function i(){t.once("upgrade",n),t.once("upgradeError",n)}return this},u.prototype.onError=function(t){s("socket error %j",t),u.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},u.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),n.writeBuffer=[],n.prevBufferLen=0}},u.prototype.filterUpgrades=function(t){for(var e=[],n=0,i=t.length;n<i;n++)~o(this.transports,t[n])&&e.push(t[n]);return e}},da97:function(t,e,n){},db03:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("a52e"),r=n("a641"),s=n("5122"),o=n("2363"),a=n("e907");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class c{constructor(t){this.markers=new Map,this._children=new i["a"],t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"==t}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)n.name?e.push(r["a"].fromJSON(n)):e.push(s["a"].fromJSON(n));return new c(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=l(e);for(const i of n)null!==i.parent&&i._remove(),i.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const i of n)i.parent=null;return n}}function l(t){return"string"==typeof t?[new s["a"](t)]:(Object(a["a"])(t)||(t=[t]),Array.from(t).map(t=>{return"string"==typeof t?new s["a"](t):t instanceof o["a"]?new s["a"](t.data,t.getAttributes()):t}))}},db72:function(t,e,n){"use strict";var i=n("b84d"),r=n("6071"),s=Object.prototype,o=s.hasOwnProperty;function a(t,e,n){var s=t[e];o.call(t,e)&&Object(r["a"])(s,n)&&(void 0!==n||e in t)||Object(i["a"])(t,e,n)}e["a"]=a},db97:function(t,e,n){"use strict";var i=n("b4f1"),r=n("ff51");function s(t,e,n){var s=e(t);return Object(r["a"])(t)?s:Object(i["a"])(s,n(t))}e["a"]=s},dc6f:function(t,e,n){"use strict";t.exports=o;var i=n("0c83");(o.prototype=Object.create(i.prototype)).constructor=o;var r=n("e938"),s=r.Buffer;function o(){i.call(this)}o.alloc=function(t){return(o.alloc=r._Buffer_allocUnsafe)(t)};var a=s&&s.prototype instanceof Uint8Array&&"set"===s.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var i=0;i<t.length;)e[n++]=t[i++]};function c(t,e,n){t.length<40?r.utf8.write(t,e,n):e.utf8Write(t,n)}o.prototype.bytes=function(t){r.isString(t)&&(t=r._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(a,e,t),this},o.prototype.string=function(t){var e=s.byteLength(t);return this.uint32(e),e&&this._push(c,e,t),this}},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},dd7c:function(t,e,n){"use strict";t.exports=a;var i=n("bd11"),r=n("8524"),s=n("cbd3");function o(t){return"missing required '"+t.name+"'"}function a(t){var e=s.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(t){return t.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var n=0;n<t.fieldsArray.length;++n){var a=t._fieldsArray[n].resolve(),c=a.resolvedType instanceof i?"int32":a.type,l="m"+s.safeProp(a.name);e("case %i:",a.id),a.map?(e("r.skip().pos++")("if(%s===util.emptyObject)",l)("%s={}",l)("k=r.%s()",a.keyType)("r.pos++"),void 0!==r.long[a.keyType]?void 0===r.basic[c]?e('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',l,n):e('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',l,c):void 0===r.basic[c]?e("%s[k]=types[%i].decode(r,r.uint32())",l,n):e("%s[k]=r.%s()",l,c)):a.repeated?(e("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==r.packed[c]&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else"),void 0===r.basic[c]?e(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,n):e("%s.push(r.%s())",l,c)):void 0===r.basic[c]?e(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,n):e("%s=r.%s()",l,c),e("break")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<t._fieldsArray.length;++n){var u=t._fieldsArray[n];u.required&&e("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",o(u))}return e("return m")}},dda7:function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(t){return"[object Range]"==Object.prototype.toString.apply(t)}n.d(e,"a",function(){return i})},ddc9:function(t,e,n){"use strict";var i=n("63bc"),r=n("26ee"),s=Object(i["a"])(r["a"],"Map");e["a"]=s},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(t){return i.exec(t).slice(1)};function s(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var o=r>=0?arguments[r]:t.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,i="/"===o.charAt(0))}return e=n(s(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),r="/"===o(t,-1);return t=n(s(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&r&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(s(t,function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var r=i(t.split("/")),s=i(n.split("/")),o=Math.min(r.length,s.length),a=o,c=0;c<o;c++)if(r[c]!==s[c]){a=c;break}var l=[];for(c=a;c<r.length;c++)l.push("..");return l=l.concat(s.slice(a)),l.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=r(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},e.basename=function(t,e){var n=r(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return r(t)[3]};var o="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("4362"))},dfe0:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"d",function(){return h}),n.d(e,"b",function(){return d}),n.d(e,"e",function(){return f}),n.d(e,"c",function(){return p});var i=n("34b2"),r=n("5122"),s=n("2363"),o=n("ad6b"),a=n("db03"),c=n("a52e"),l=n("f2ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function u(t,e){e=p(e);const n=e.reduce((t,e)=>t+e.offsetSize,0),i=t.parent;g(t);const r=t.index;return i._insertChild(r,e),m(i,r+e.length),m(i,r),new o["a"](t,t.getShiftedBy(n))}function h(t){if(!t.isFlat)throw new l["b"]("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.");const e=t.start.parent;g(t.start),g(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return m(e,t.start.index),n}function d(t,e){if(!t.isFlat)throw new l["b"]("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.");const n=h(t);return e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),u(e,n)}function f(t,e,n){g(t.start),g(t.end);for(const i of t.getItems({shallow:!0})){const t=i.is("textProxy")?i.textNode:i;null!==n?t._setAttribute(e,n):t._removeAttribute(e),m(t.parent,t.index)}m(t.end.parent,t.end.index)}function p(t){const e=[];t instanceof Array||(t=[t]);for(let n=0;n<t.length;n++)if("string"==typeof t[n])e.push(new r["a"](t[n]));else if(t[n]instanceof s["a"])e.push(new r["a"](t[n].data,t[n].getAttributes()));else if(t[n]instanceof a["a"]||t[n]instanceof c["a"])for(const i of t[n])e.push(i);else t[n]instanceof i["a"]&&e.push(t[n]);for(let n=1;n<e.length;n++){const t=e[n],i=e[n-1];t instanceof r["a"]&&i instanceof r["a"]&&b(t,i)&&(e.splice(n-1,2,new r["a"](i.data+t.data,i.getAttributes())),n--)}return e}function m(t,e){const n=t.getChild(e-1),i=t.getChild(e);if(n&&i&&n.is("text")&&i.is("text")&&b(n,i)){const s=new r["a"](n.data+i.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,s)}}function g(t){const e=t.textNode,n=t.parent;if(e){const i=t.offset-e.startOffset,s=e.index;n._removeChildren(s,1);const o=new r["a"](e.data.substr(0,i),e.getAttributes()),a=new r["a"](e.data.substr(i),e.getAttributes());n._insertChild(s,[o,a])}}function b(t,e){const n=t.getAttributes(),i=e.getAttributes();for(const r of n){if(r[1]!==e.getAttribute(r[0]))return!1;i.next()}return i.next().done}},dff1:function(t,e,n){"use strict";(function(t){var i=n("26ee"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=r&&"object"==typeof t&&t&&!t.nodeType&&t,o=s&&s.exports===r,a=o?i["a"].Buffer:void 0,c=a?a.allocUnsafe:void 0;function l(t,e){if(e)return t.slice();var n=t.length,i=c?c(n):new t.constructor(n);return t.copy(i),i}e["a"]=l}).call(this,n("dd40")(t))},e1f4:function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var r=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}},e25f:function(t,e,n){"use strict";var i=n("109b"),r=n("32ea");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const s="ckCsrfToken",o=40,a="abcdefghijklmnopqrstuvwxyz0123456789";function c(){let t=l(s);return t&&t.length==o||(t=h(o),u(s,t)),t}function l(t){t=t.toLowerCase();const e=document.cookie.split(";");for(const n of e){const e=n.split("="),i=decodeURIComponent(e[0].trim().toLowerCase());if(i===t)return decodeURIComponent(e[1])}return null}function u(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path=/"}function h(t){let e="";const n=new Uint8Array(t);window.crypto.getRandomValues(n);for(let i=0;i<n.length;i++){const t=a.charAt(n[i]%a.length);e+=Math.random()>.5?t.toUpperCase():t}return e}n.d(e,"a",function(){return d});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class d extends i["a"]{static get requires(){return[r["a"]]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(r["a"]).createUploadAdapter=(e=>new f(e,t,this.editor.t)))}}class f{constructor(t,e,n){this.loader=t,this.url=e,this.t=n}upload(){return this.loader.file.then(t=>{return new Promise((e,n)=>{this._initRequest(),this._initListeners(e,n,t),this._sendRequest(t)})})}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}_initListeners(t,e,n){const i=this.xhr,r=this.loader,s=this.t,o=s("Cannot upload file:")+` ${n.name}.`;i.addEventListener("error",()=>e(o)),i.addEventListener("abort",()=>e()),i.addEventListener("load",()=>{const n=i.response;if(!n||!n.uploaded)return e(n&&n.error&&n.error.message?n.error.message:o);t({default:n.url})}),i.upload&&i.upload.addEventListener("progress",t=>{t.lengthComputable&&(r.uploadTotal=t.total,r.uploaded=t.loaded)})}_sendRequest(t){const e=new FormData;e.append("upload",t),e.append("ckCsrfToken",c()),this.xhr.send(e)}}},e281:function(t,e,n){},e3db:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},e3fa:function(t,e,n){"use strict";var i=n("ee03"),r=n("2332"),s=n("a724");function o(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}var a=o,c=Object.prototype,l=c.hasOwnProperty;function u(t){if(!Object(r["a"])(t))return a(t);var e=Object(s["a"])(t),n=[];for(var i in t)("constructor"!=i||!e&&l.call(t,i))&&n.push(i);return n}var h=u,d=n("e56b");function f(t){return Object(d["a"])(t)?Object(i["a"])(t,!0):h(t)}e["a"]=f},e47a:function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)if(t[i]!=e[i])return i;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}n.d(e,"a",function(){return i})},e561:function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(t){let e=0;for(const n of t)e++;return e}n.d(e,"a",function(){return i})},e56b:function(t,e,n){"use strict";var i=n("bc9b"),r=n("26ce");function s(t){return null!=t&&Object(r["a"])(t.length)&&!Object(i["a"])(t)}e["a"]=s},e6cc:function(t,e,n){"use strict";const i=n("2fb8"),r=n("8b80"),s=n("160f"),o=n("cdbd"),a=[o,r,s],c=i["Root"]["fromJSON"](u(a));class l{static["decode"](t,e){const n=h(e)["decode"]("undefined"==typeof window?t:new Uint8Array(t));return e["fromJSON"](n)}static["encode"](t){const e=h(t["constructor"]),n=t["toJSON"](),i=e["verify"](n);if(i)throw Error(i);return e["encode"](e["create"](n))["finish"]()}}function u(t){return{nested:t["reduce"]((t,e)=>(t[e["DESCRIPTOR_NAME"]]=e["DESCRIPTOR"],t),{})}}function h(t){return d(t),c["lookupType"](t["DESCRIPTOR_NAME"])}function d(t){c["lookup"](t["DESCRIPTOR_NAME"])||c["addJSON"]({[t["DESCRIPTOR_NAME"]]:t["DESCRIPTOR"]})}t["exports"]=l},e755:function(t,e,n){"use strict";n.d(e,"a",function(){return i});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class i{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)("string"==typeof e||e instanceof RegExp)&&(e={name:e}),e.classes&&("string"==typeof e.classes||e.classes instanceof RegExp)&&(e.classes=[e.classes]),this._patterns.push(e)}match(...t){for(const e of t)for(const t of this._patterns){const n=r(e,t);if(n)return{element:e,pattern:t,match:n}}return null}matchAll(...t){const e=[];for(const n of t)for(const t of this._patterns){const i=r(n,t);i&&e.push({element:n,pattern:t,match:i})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}function r(t,e){if("function"==typeof e)return e(t);const n={};return e.name&&(n.name=s(e.name,t.name),!n.name)?null:e.attributes&&(n.attributes=o(e.attributes,t),!n.attributes)?null:!(e.classes&&(n.classes=a(e.classes,t),!n.classes))&&(!(e.styles&&(n.styles=c(e.styles,t),!n.styles))&&n)}function s(t,e){return t instanceof RegExp?t.test(e):t===e}function o(t,e){const n=[];for(const i in t){const r=t[i];if(!e.hasAttribute(i))return null;{const t=e.getAttribute(i);if(!0===r)n.push(i);else if(r instanceof RegExp){if(!r.test(t))return null;n.push(i)}else{if(t!==r)return null;n.push(i)}}}return n}function a(t,e){const n=[];for(const i of t)if(i instanceof RegExp){const t=e.getClassNames();for(const e of t)i.test(e)&&n.push(e);if(0===n.length)return null}else{if(!e.hasClass(i))return null;n.push(i)}return n}function c(t,e){const n=[];for(const i in t){const r=t[i];if(!e.hasStyle(i))return null;{const t=e.getStyle(i);if(r instanceof RegExp){if(!r.test(t))return null;n.push(i)}else{if(t!==r)return null;n.push(i)}}}return n}},e789:function(t,e,n){"use strict";const i=n("193c");class r extends i{constructor(t){super(),this["documentId"]=t}["toJSON"](){return{documentId:this["documentId"]}}static get["TYPE"](){return 94}static get["DESCRIPTOR_NAME"](){return"CommentsV2GetDocumentThreadsMessage"}static get["DESCRIPTOR"](){return{fields:{documentId:{type:"string",id:1}}}}static["fromJSON"](t){return new r(t["documentId"])}}t["exports"]=r},e7ed:function(t,e,n){const{Encoder:i,Decoder:r}=n("568d"),s=n("86b5"),o=n("1f55"),a={CONNECT:0,DISCONNECT:1,EVENT:2,ACK:3,ERROR:4,BINARY_EVENT:5,BINARY_ACK:6},c=[a["EVENT"],a["ACK"],a["BINARY_ACK"],a["BINARY_EVENT"]];class l extends i{constructor(t=new s){super(),this["_packetParser"]=t}["encode"](t,e){if(c["includes"](t["type"])){let i=t["data"]&&Array["isArray"](t["data"])&&t["data"]["pop"]();if(i&&!0!==i["_cs"]&&(t["data"]["push"](i),i=null),!i||i&&!0!==i["originalParser"])try{return e([this["_packetParser"]["encode"](t["type"],t["data"],t["id"],t["nsp"])])}catch(n){}}return super["encode"](t,e)}}class u extends r{constructor(t=new s){super(),this["_packetParser"]=t}["add"](t){if(o["isBuffer"](t))try{const{packet:n}=this["_packetParser"]["decode"](t);return void this["emit"]("decoded",n)}catch(e){}return super["add"](t)}}t["exports"]["Encoder"]=l,t["exports"]["Decoder"]=u},e800:function(t,e,n){"use strict";(function(t){var e=n("cd4b"),i=n("0b3e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const r="object"===typeof window?window:t;r.CKEDITOR_VERSION?e["a"].error("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated."):r.CKEDITOR_VERSION=i["a"]}).call(this,n("c8ba"))},e805:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n("f2ea"),r=n("644e"),s=n("da0d"),o=n("940e"),a=n("3493"),c=n("51f5"),l=n("cd4b"),u=n("2332"),h=n("1964");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const d="http://www.w3.org/1999/xhtml";class f{constructor(t){Object.assign(this,C(k(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData=D(),this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new i["b"]("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.");this._revertTemplateFromNode(t,this._revertData)}*getViews(){function*t(e){if(e.children)for(const n of e.children)j(n)?yield n:M(n)&&(yield*t(n))}yield*t(this)}static bind(t,e){return{to(n,i){return new m({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:i})},if(n,i,r){return new g({observable:t,emitter:e,attribute:n,valueIfTrue:i,callback:r})}}}static extend(t,e){t._isRendered&&l["a"].warn("template-extend-render: Attempting to extend a template which has already been rendered."),I(t,C(k(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new i["b"]('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.');return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||d,this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),b(this.text)?this._bindToObservable({schema:this.text,updater:y(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){let e,n,i,r;if(!this.attributes)return;const s=t.node,o=t.revertData;for(e in this.attributes)if(i=s.getAttribute(e),n=this.attributes[e],o&&(o.attributes[e]=i),r=Object(u["a"])(n[0])&&n[0].ns?n[0].ns:null,b(n)){const a=r?n[0].value:n;o&&V(e)&&a.unshift(i),this._bindToObservable({schema:a,updater:x(s,e,r),data:t})}else"style"==e&&"string"!==typeof n[0]?this._renderStyleAttribute(n[0],t):(o&&i&&V(e)&&n.unshift(i),n=n.map(t=>t&&t.value||t).reduce((t,e)=>t.concat(e),[]).reduce(S,""),N(n)||s.setAttributeNS(r,e,n))}_renderStyleAttribute(t,e){const n=e.node;for(const i in t){const r=t[i];b(r)?this._bindToObservable({schema:[r],updater:_(n,i),data:e}):n.style[i]=r}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,i=t.isApplying;let r=0;for(const s of this.children)if(B(s)){if(!i){s.setParent(e);for(const t of s)n.appendChild(t.element)}}else if(j(s))i||(s.isRendered||s.render(),n.appendChild(s.element));else if(Object(c["a"])(s))n.appendChild(s);else if(i){const e=t.revertData,i=D();e.children.push(i),s._renderNode({node:n.childNodes[r++],isApplying:!0,revertData:i})}else n.appendChild(s.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map(n=>{const[i,r]=e.split("@");return n.activateDomEventListener(i,r,t)});t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const i=n.revertData;w(t,e,n);const r=t.filter(t=>!N(t)).filter(t=>t.observable).map(i=>i.activateAttributeListener(t,e,n));i&&i.bindings.push(r)}_revertTemplateFromNode(t,e){for(const n of e.bindings)for(const t of n)t();if(e.text)t.textContent=e.text;else{for(const n in e.attributes){const i=e.attributes[n];null===i?t.removeAttribute(n):t.setAttribute(n,i)}for(let n=0;n<e.children.length;++n)this._revertTemplateFromNode(t.childNodes[n],e.children[n])}}}Object(r["a"])(f,s["c"]);class p{constructor(t){Object.assign(this,t)}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const i=()=>w(t,e,n);return this.emitter.listenTo(this.observable,"change:"+this.attribute,i),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,i)}}}class m extends p{activateDomEventListener(t,e,n){const i=(t,n)=>{e&&!n.target.matches(e)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,i),()=>{this.emitter.stopListening(n.node,t,i)}}}class g extends p{getValue(t){const e=super.getValue(t);return!N(e)&&(this.valueIfTrue||!0)}}function b(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(b):t instanceof p)}function v(t,e){return t.map(t=>{return t instanceof p?t.getValue(e):t})}function w(t,e,{node:n}){let i=v(t,n);i=1==t.length&&t[0]instanceof g?i[0]:i.reduce(S,""),N(i)?e.remove():e.set(i)}function y(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}function x(t,e,n){return{set(i){t.setAttributeNS(n,e,i)},remove(){t.removeAttributeNS(n,e)}}}function _(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function k(t){const e=Object(h["a"])(t,t=>{if(t&&(t instanceof p||M(t)||j(t)||B(t)))return t});return e}function C(t){if("string"==typeof t?t=O(t):t.text&&E(t),t.on&&(t.eventListeners=T(t.on),delete t.on),!t.text){t.attributes&&A(t.attributes);const e=[];if(t.children)if(B(t.children))e.push(t.children);else for(const n of t.children)M(n)||j(n)||Object(c["a"])(n)?e.push(n):e.push(new f(n));t.children=e}return t}function A(t){for(const e in t)t[e].value&&(t[e].value=[].concat(t[e].value)),P(t,e)}function T(t){for(const e in t)P(t,e);return t}function O(t){return{text:[t]}}function E(t){Array.isArray(t.text)||(t.text=[t.text])}function P(t,e){Array.isArray(t[e])||(t[e]=[t[e]])}function S(t,e){return N(e)?t:N(t)?e:`${t} ${e}`}function R(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function I(t,e){if(e.attributes&&(t.attributes||(t.attributes={}),R(t.attributes,e.attributes)),e.eventListeners&&(t.eventListeners||(t.eventListeners={}),R(t.eventListeners,e.eventListeners)),e.text&&t.text.push(...e.text),e.children&&e.children.length){if(t.children.length!=e.children.length)throw new i["b"]("ui-template-extend-children-mismatch: The number of children in extended definition does not match.");let n=0;for(const i of e.children)I(t.children[n++],i)}}function N(t){return!t&&0!==t}function j(t){return t instanceof o["a"]}function M(t){return t instanceof f}function B(t){return t instanceof a["a"]}function D(){return{children:[],bindings:[],attributes:{}}}function V(t){return"class"==t||"style"==t}},e830:function(t,e,n){var i=n("90e5");function r(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],c=["am","pm"],l=["a.m.","p.m."],u={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return n[t.getDay()]},ddd:function(t){return r[t.getDay()]},dddd:function(t){return o[t.getDay()]},A:function(t){return t.getHours()/12>=1?a[1]:a[0]},a:function(t){return t.getHours()/12>=1?c[1]:c[0]},aa:function(t){return t.getHours()/12>=1?l[1]:l[0]}},h=["M","D","DDD","d","Q","W"];return h.forEach(function(t){u[t+"o"]=function(e,n){return s(n[t](e))}}),{formatters:u,formattingTokensRegExp:i(u)}}function s(t){var e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}t.exports=r},e8b2:function(t,e,n){"use strict";var i=n("f0ce"),r=n("52e7"),s=n("1147"),o="[object Object]",a=Function.prototype,c=Object.prototype,l=a.toString,u=c.hasOwnProperty,h=l.call(Object);function d(t){if(!Object(s["a"])(t)||Object(i["a"])(t)!=o)return!1;var e=Object(r["a"])(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==h}e["a"]=d},e8dd:function(t,e,n){},e907:function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(t){return!(!t||!t[Symbol.iterator])}n.d(e,"a",function(){return i})},e938:function(t,e,n){"use strict";(function(t){var i=e;function r(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;++r)void 0!==t[i[r]]&&n||(t[i[r]]=e[i[r]]);return t}function s(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&r(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}i.asPromise=n("305b"),i.base64=n("6e75"),i.EventEmitter=n("6897"),i.float=n("2b01"),i.inquire=n("d468"),i.utf8=n("c8d4"),i.pool=n("0446"),i.LongBits=n("a384"),i.global="undefined"!==typeof window&&window||"undefined"!==typeof t&&t||"undefined"!==typeof self&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isNode=Boolean(i.global.process&&i.global.process.versions&&i.global.process.versions.node),i.isInteger=Number.isInteger||function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t},i.isString=function(t){return"string"===typeof t||t instanceof String},i.isObject=function(t){return t&&"object"===typeof t},i.isset=i.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!==typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},i.Buffer=function(){try{var t=i.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(e){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(t){return"number"===typeof t?i.Buffer?i._Buffer_allocUnsafe(t):new i.Array(t):i.Buffer?i._Buffer_from(t):"undefined"===typeof Uint8Array?t:new Uint8Array(t)},i.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(t){return t?i.LongBits.from(t).toHash():i.LongBits.zeroHash},i.longFromHash=function(t,e){var n=i.LongBits.fromHash(t);return i.Long?i.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},i.merge=r,i.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},i.newError=s,i.ProtocolError=s("ProtocolError"),i.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},i.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var t=i.Buffer;t?(i._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},i._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):i._Buffer_from=i._Buffer_allocUnsafe=null}}).call(this,n("c8ba"))},e977:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("8d5e"),r=n.n(i),s=n("8ad0"),o=n.n(s),a=n("e6cc"),c=n.n(a);const l=Symbol("attributes");class u{constructor(t={}){this[l]=new Map;for(const e of Object["keys"](t))this[l]["set"](e,t[e]),Object["defineProperty"](this,e,{enumerable:!0,configurable:!1,get:()=>this[l]["get"](e)})}static["fromData"](t){return new u(t)}static async["get"](t,e){const n=await t["_serviceRegister"]["get"](e,this,h);return n&&t["_serviceRegister"]["register"](this["_SERVICE"],e,n),n}static get["_SERVICE"](){return 2}}async function h(t,e){const n=new r.a(e);try{const s=await t["_sendRequest"](u["_SERVICE"],r.a["TYPE"],c.a["encode"](n),!1),a=c.a["decode"](s,o.a);if(!a)return;return new u(a["attributes"])}catch(i){return new u({id:e})}}},eb09:function(t,e,n){"use strict";function i(t,e){"string"===typeof t&&(e=t,t=void 0);var n=[];function r(t){if("string"!==typeof t){var e=s();if(i.verbose&&console.log("codegen: "+e),e="return "+e,t){var o=Object.keys(t),a=new Array(o.length+1),c=new Array(o.length),l=0;while(l<o.length)a[l]=o[l],c[l]=t[o[l++]];return a[l]=e,Function.apply(null,a).apply(null,c)}return Function(e)()}var u=new Array(arguments.length-1),h=0;while(h<u.length)u[h]=arguments[++h];if(h=0,t=t.replace(/%([%dfijs])/g,function(t,e){var n=u[h++];switch(e){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"}),h!==u.length)throw Error("parameter count mismatch");return n.push(t),r}function s(i){return"function "+(i||e||"")+"("+(t&&t.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return r.toString=s,r}t.exports=i,i.verbose=!1},eb5a:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("109b"),r=n("67b9"),s=(n("948e"),["charAt","join","getBackgroundColorClass","ck-user__bg-color--","getSelectionClass","ck-user__selection--","ck-user__marker--","trim","length","pluginName","Users","init","editor","users","licenseKey","config","licenseKeyInvalid","licenseKeyValid","licenseKeyTrial","info","You are using the trial version of CKEditor 5 collaboration plugin with limited usage. Make sure you will not use it in the production environment.","licenseKeyTrialLimit","You have exhausted the trial usage limit. You need to restart the editor now. Please contact our customer support to get a full access at https://ckeditor.com/contact/.","add","getUser","get","users-me-missing-user: Cannot add undefined user as local user.","users-me-not-defined: Local user is not defined.","isReadOnly","destroy","color","name","avatar","isAnonymous","Anonymous","initials","split","map"]);(function(t,e){var n=function(e){while(--e)t["push"](t["shift"]())};n(++e)})(s,465);var o=function(t,e){t-=0;var n=s[t];return n};const a=8;class c extends i["a"]{static get[o("0x0")](){return o("0x1")}constructor(t){super(t),this["e"]=null}[o("0x2")](){const t=this[o("0x3")];this[o("0x4")]=new r["a"],this["s"]=0,this[o("0x5")]=t[o("0x6")]["get"](o("0x5"));let e=!1;this["e"]=setInterval(()=>{let n;for(const e in t){const i=t[e];"licenseKeyTrial"!==i&&o("0x7")!==i&&o("0x8")!==i||(n=i)}if(o("0x7")===n&&this["r"]("Invalid license key. Please contact our customer support at https://ckeditor.com/contact/."),o("0x9")!==n)n&&clearInterval(this["e"]);else{e||(console[o("0xa")](o("0xb")),e=!0);for(const e in t)o("0xc")===t[e]&&this["r"](o("0xd"))}},2e3)}["addUser"](t){t["color"]=this["i"]();const e=new l(t);return this[o("0x4")][o("0xe")](e),e}[o("0xf")](t){return this["users"][o("0x10")](t)}["defineMe"](t){if(this["o"])throw new Error("users-me-already-defined: Cannot add local user more than once.");if(!this[o("0xf")](t))throw new Error(o("0x11"));this["o"]=t}get["me"](){if(!this["o"])throw new Error(o("0x12"));return this[o("0xf")](this["o"])}["i"](){return this["s"]>=a&&(this["s"]=0),new u(this["s"]++)}["r"](t){throw clearInterval(this["e"]),this["editor"][o("0x13")]=!0,new Error(t)}[o("0x14")](){super[o("0x14")](),clearInterval(this["e"])}}class l{constructor(t){if(!t["id"]||"string"!=typeof t["id"])throw new Error("user-invalid-id: Id is required as a String.");this["id"]=t["id"],this["color"]=t[o("0x15")],this[o("0x16")]=h(t[o("0x16")]),this[o("0x17")]=t[o("0x17")]}get[o("0x18")](){return o("0x19")==this["name"]}get[o("0x1a")](){return this[o("0x16")][o("0x1b")](" ")[o("0x1c")](t=>t[o("0x1d")](0))["slice"](0,2)[o("0x1e")]("")["toUpperCase"]()}}class u{constructor(t){this["n"]=t}[o("0x1f")](){return o("0x20")+this["n"]}[o("0x21")](){return o("0x22")+this["n"]}["getMarkerClass"](){return o("0x23")+this["n"]}}function h(t=""){return 0===t[o("0x24")]()[o("0x25")]?o("0x19"):t["trim"]()}},ec02:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("940e"),r=n("9aba"),s=n("dda7"),o=n("8073"),a=n("a07d"),c=n("9a76");n("1af3");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const l=Object(o["a"])("px"),u=a["a"].document.body;class h extends i["a"]{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>`ck-balloon-panel_${t}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",l),left:e.to("left",l)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=h.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast],limiter:u,fitInViewport:!0},t),{top:i,left:r,name:s}=h._getOptimalPosition(n);Object.assign(this,{top:i,left:r,position:s})}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=(()=>{this.isVisible?this._startPinning(t):this._stopPinning()}),this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=d(t.target),n=t.limiter?d(t.limiter):u;this.listenTo(a["a"].document,"scroll",(i,r)=>{const s=r.target,o=e&&s.contains(e),a=n&&s.contains(n);!o&&!a&&e&&n||this.attachTo(t)},{useCapture:!0}),this.listenTo(a["a"].window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(a["a"].document,"scroll"),this.stopListening(a["a"].window,"resize")}}function d(t){return Object(c["a"])(t)?t:Object(s["a"])(t)?t.commonAncestorContainer:"function"==typeof t?d(t()):null}function f(t,e){return t.top-e.height-h.arrowVerticalOffset}function p(t){return t.bottom+h.arrowVerticalOffset}h.arrowHorizontalOffset=25,h.arrowVerticalOffset=10,h._getOptimalPosition=r["a"],h.defaultPositions={northArrowSouth:(t,e)=>({top:f(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"}),northArrowSouthEast:(t,e)=>({top:f(t,e),left:t.left+t.width/2-e.width+h.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(t,e)=>({top:f(t,e),left:t.left+t.width/2-h.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouth:(t,e)=>({top:f(t,e),left:t.left-e.width/2,name:"arrow_s"}),northWestArrowSouthWest:(t,e)=>({top:f(t,e),left:t.left-h.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthEast:(t,e)=>({top:f(t,e),left:t.left-e.width+h.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouth:(t,e)=>({top:f(t,e),left:t.right-e.width/2,name:"arrow_s"}),northEastArrowSouthEast:(t,e)=>({top:f(t,e),left:t.right-e.width+h.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(t,e)=>({top:f(t,e),left:t.right-h.arrowHorizontalOffset,name:"arrow_sw"}),southArrowNorth:(t,e)=>({top:p(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_n"}),southArrowNorthEast:(t,e)=>({top:p(t,e),left:t.left+t.width/2-e.width+h.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(t,e)=>({top:p(t,e),left:t.left+t.width/2-h.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorth:(t,e)=>({top:p(t,e),left:t.left-e.width/2,name:"arrow_n"}),southWestArrowNorthWest:(t,e)=>({top:p(t,e),left:t.left-h.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthEast:(t,e)=>({top:p(t,e),left:t.left-e.width+h.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorth:(t,e)=>({top:p(t,e),left:t.right-e.width/2,name:"arrow_n"}),southEastArrowNorthEast:(t,e)=>({top:p(t,e),left:t.right-e.width+h.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(t,e)=>({top:p(t,e),left:t.right-h.arrowHorizontalOffset,name:"arrow_nw"})}},ed4a:function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(){let t="e";for(let e=0;e<8;e++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t}n.d(e,"a",function(){return i})},ed4f:function(t,e,n){},edea:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("f264"),r=n("644e");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s{constructor(t){this.view=t,this.document=t.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}Object(r["a"])(s,i["a"])},ee03:function(t,e,n){"use strict";function i(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}var r=i,s=n("f0ce"),o=n("1147"),a="[object Arguments]";function c(t){return Object(o["a"])(t)&&Object(s["a"])(t)==a}var l=c,u=Object.prototype,h=u.hasOwnProperty,d=u.propertyIsEnumerable,f=l(function(){return arguments}())?l:function(t){return Object(o["a"])(t)&&h.call(t,"callee")&&!d.call(t,"callee")},p=f,m=n("ff51"),g=n("58e0"),b=n("7129"),v=n("a187"),w=Object.prototype,y=w.hasOwnProperty;function x(t,e){var n=Object(m["a"])(t),i=!n&&p(t),s=!n&&!i&&Object(g["a"])(t),o=!n&&!i&&!s&&Object(v["a"])(t),a=n||i||s||o,c=a?r(t.length,String):[],l=c.length;for(var u in t)!e&&!y.call(t,u)||a&&("length"==u||s&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Object(b["a"])(u,l))||c.push(u);return c}e["a"]=x},ee34:function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},ee6e:function(t,e,n){"use strict";t.exports=h;var i=n("7e07");((h.prototype=Object.create(i.prototype)).constructor=h).className="Root";var r,s,o,a=n("a6a3"),c=n("bd11"),l=n("77ea"),u=n("cbd3");function h(t){i.call(this,"",t),this.deferred=[],this.files=[]}function d(){}h.fromJSON=function(t,e){return e||(e=new h),t.options&&e.setOptions(t.options),e.addJSON(t.nested)},h.prototype.resolvePath=u.path.resolve,h.prototype.load=function t(e,n,i){"function"===typeof n&&(i=n,n=void 0);var r=this;if(!i)return u.asPromise(t,r,e,n);var a=i===d;function c(t,e){if(i){var n=i;if(i=null,a)throw t;n(t,e)}}function l(t,e){try{if(u.isString(e)&&"{"===e.charAt(0)&&(e=JSON.parse(e)),u.isString(e)){s.filename=t;var i,o=s(e,r,n),l=0;if(o.imports)for(;l<o.imports.length;++l)(i=r.resolvePath(t,o.imports[l]))&&h(i);if(o.weakImports)for(l=0;l<o.weakImports.length;++l)(i=r.resolvePath(t,o.weakImports[l]))&&h(i,!0)}else r.setOptions(e.options).addJSON(e.nested)}catch(d){c(d)}a||f||c(null,r)}function h(t,e){var n=t.lastIndexOf("google/protobuf/");if(n>-1){var s=t.substring(n);s in o&&(t=s)}if(!(r.files.indexOf(t)>-1))if(r.files.push(t),t in o)a?l(t,o[t]):(++f,setTimeout(function(){--f,l(t,o[t])}));else if(a){var h;try{h=u.fs.readFileSync(t).toString("utf8")}catch(d){return void(e||c(d))}l(t,h)}else++f,u.fetch(t,function(n,s){--f,i&&(n?e?f||c(null,r):c(n):l(t,s))})}var f=0;u.isString(e)&&(e=[e]);for(var p,m=0;m<e.length;++m)(p=r.resolvePath("",e[m]))&&h(p);if(a)return r;f||c(null,r)},h.prototype.loadSync=function(t,e){if(!u.isNode)throw Error("not supported");return this.load(t,e,d)},h.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(t){return"'extend "+t.extend+"' in "+t.parent.fullName}).join(", "));return i.prototype.resolveAll.call(this)};var f=/^[A-Z]/;function p(t,e){var n=e.parent.lookup(e.extend);if(n){var i=new a(e.fullName,e.id,e.type,e.rule,void 0,e.options);return i.declaringField=e,e.extensionField=i,n.add(i),!0}return!1}h.prototype._handleAdd=function(t){if(t instanceof a)void 0===t.extend||t.extensionField||p(this,t)||this.deferred.push(t);else if(t instanceof c)f.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof l)){if(t instanceof r)for(var e=0;e<this.deferred.length;)p(this,this.deferred[e])?this.deferred.splice(e,1):++e;for(var n=0;n<t.nestedArray.length;++n)this._handleAdd(t._nestedArray[n]);f.test(t.name)&&(t.parent[t.name]=t)}},h.prototype._handleRemove=function(t){if(t instanceof a){if(void 0!==t.extend)if(t.extensionField)t.extensionField.parent.remove(t.extensionField),t.extensionField=null;else{var e=this.deferred.indexOf(t);e>-1&&this.deferred.splice(e,1)}}else if(t instanceof c)f.test(t.name)&&delete t.parent[t.name];else if(t instanceof i){for(var n=0;n<t.nestedArray.length;++n)this._handleRemove(t._nestedArray[n]);f.test(t.name)&&delete t.parent[t.name]}},h._configure=function(t,e,n){r=t,s=e,o=n}},f0ce:function(t,e,n){"use strict";var i=n("ca54"),r=Object.prototype,s=r.hasOwnProperty,o=r.toString,a=i["a"]?i["a"].toStringTag:void 0;function c(t){var e=s.call(t,a),n=t[a];try{t[a]=void 0;var i=!0}catch(c){}var r=o.call(t);return i&&(e?t[a]=n:delete t[a]),r}var l=c,u=Object.prototype,h=u.toString;function d(t){return h.call(t)}var f=d,p="[object Null]",m="[object Undefined]",g=i["a"]?i["a"].toStringTag:void 0;function b(t){return null==t?void 0===t?m:p:g&&g in Object(t)?l(t):f(t)}e["a"]=b},f264:function(t,e,n){"use strict";var i=n("da0d"),r=n("ed4a"),s=n("51f5"),o=n("be57"),a=n("61f1");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const c=Object(a["a"])({},i["c"],{listenTo(t,...e){if(Object(s["a"])(t)||Object(o["a"])(t)){const n=this._getProxyEmitter(t)||new l(t);n.attach(...e),t=n}i["c"].listenTo.call(this,t,...e)},stopListening(t,e,n){if(Object(s["a"])(t)||Object(o["a"])(t)){const e=this._getProxyEmitter(t);if(!e)return;t=e}i["c"].stopListening.call(this,t,e,n),t instanceof l&&t.detach(e)},_getProxyEmitter(t){return Object(i["a"])(this,u(t))}});e["a"]=c;class l{constructor(t){Object(i["b"])(this,u(t)),this._domNode=t}}function u(t){return t["data-ck-expando"]||(t["data-ck-expando"]=Object(r["a"])())}Object(a["a"])(l.prototype,i["c"],{attach(t,e,n={}){if(this._domListeners&&this._domListeners[t])return;const i=this._createDomListener(t,!!n.useCapture);this._domNode.addEventListener(t,i,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[t]=i},detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()},_createDomListener(t,e){const n=e=>{this.fire(t,e)};return n.removeListener=(()=>{this._domNode.removeEventListener(t,n,e),delete this._domListeners[t]}),n}})},f2d2:function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var i=n("2beb"),r=n("2c4c");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function s(t,e){return e.setCustomProperty("table",!0,t),Object(i["e"])(t,e,{hasSelectionHandler:!0})}function o(t){return!!t.getCustomProperty("table")&&Object(i["d"])(t)}function a(t){const e=t.getSelectedElement();return e&&o(e)?e:null}function c(t){const e=Object(r["b"])("table",t.getFirstPosition());return e&&o(e.parent)?e.parent:null}},f2ea:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return s});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const i="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html";class r extends Error{constructor(t,e){t=s(t),e&&(t+=" "+JSON.stringify(e)),super(t),this.name="CKEditorError",this.data=e}static isCKEditorError(t){return t instanceof r}}function s(t){const e=t.match(/^([^:]+):/);return e?t+` Read more: ${i}#error-${e[1]}\n`:t}},f412:function(t,e,n){"use strict";var i=e,r=n("1bcb");i[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var e=this.lookup(t["@type"]);if(e){var n="."===t["@type"].charAt(0)?t["@type"].substr(1):t["@type"];return this.create({type_url:"/"+n,value:e.encode(e.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,e){if(e&&e.json&&t.type_url&&t.value){var n=t.type_url.substring(t.type_url.lastIndexOf("/")+1),i=this.lookup(n);i&&(t=i.decode(t.value))}if(!(t instanceof this.ctor)&&t instanceof r){var s=t.$type.toObject(t,e);return s["@type"]=t.$type.fullName,s}return this.toObject(t,e)}}},f4bc:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("6c92"),r=n("ad6b");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s extends i["a"]{constructor(t,e,n,i,r,s){super(s),this.name=t,this.oldRange=e?e.clone():null,this.newRange=n?n.clone():null,this.affectsData=r,this._markers=i}get type(){return"marker"}clone(){return new s(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new s(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){const t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new s(t.name,t.oldRange?r["a"].fromJSON(t.oldRange,e):null,t.newRange?r["a"].fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}},f4e9:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("109b"),r=n("f2d2"),s=n("53dd");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class o extends i["a"]{static get requires(){return[s["a"]]}static get pluginName(){return"TableToolbar"}afterInit(){const t=this.editor,e=t.plugins.get(s["a"]),n=t.config.get("table.contentToolbar"),i=t.config.get("table.toolbar"),o=t.config.get("table.tableToolbar");i&&console.warn("`config.table.toolbar` is deprecated and will be removed in the next major release. Use `config.table.contentToolbar` instead."),(n||i)&&e.register("tableContent",{items:n||i,getRelatedElement:r["b"]}),o&&e.register("table",{items:o,getRelatedElement:r["a"]})}}},f5e9:function(t,e,n){},f61b:function(t,e,n){"use strict";var i=n("652f"),r=n("0b65");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class s extends i["a"]{refresh(){const t=this.editor.model,e=t.document,n=Object(r["a"])(e.selection.getSelectedBlocks());this.value=!!n&&n.is("paragraph"),this.isEnabled=!!n&&o(n,t.schema)}execute(t={}){const e=this.editor.model,n=e.document;e.change(i=>{const r=(t.selection||n.selection).getSelectedBlocks();for(const t of r)!t.is("paragraph")&&o(t,e.schema)&&i.rename(t,"paragraph")})}}function o(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}var a=n("109b");n.d(e,"a",function(){return c});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class c extends a["a"]{static get pluginName(){return"Paragraph"}init(){const t=this.editor,e=t.model,n=t.data;t.commands.add("paragraph",new s(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(t,e)=>{return c.paragraphLikeElements.has(t.name)?t.isEmpty?null:e.createElement("paragraph"):null},converterPriority:"low"}),n.upcastDispatcher.on("element",(t,e,n)=>{n.consumable.test(e.viewItem,{name:e.viewItem.name})&&u(e.viewItem,e.modelCursor,n.schema)&&Object.assign(e,l(e.viewItem,e.modelCursor,n))},{priority:"low"}),n.upcastDispatcher.on("text",(t,e,n)=>{e.modelRange||u(e.viewItem,e.modelCursor,n.schema)&&Object.assign(e,l(e.viewItem,e.modelCursor,n))},{priority:"lowest"}),e.document.registerPostFixer(t=>this._autoparagraphEmptyRoots(t)),t.data.on("ready",()=>{e.enqueueChange("transparent",t=>this._autoparagraphEmptyRoots(t))},{priority:"lowest"})}_autoparagraphEmptyRoots(t){const e=this.editor.model;for(const n of e.document.getRootNames()){const i=e.document.getRoot(n);if(i.isEmpty&&"$graveyard"!=i.rootName&&e.schema.checkChild(i,"paragraph"))return t.insertElement("paragraph",i),!0}}}function l(t,e,n){const i=n.writer.createElement("paragraph");return n.writer.insert(i,e),n.convertItem(t,n.writer.createPositionAt(i,0))}function u(t,e,n){const i=n.createContext(e);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),t)}c.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"])},f842:function(t,e,n){"use strict";var i=n("db72"),r=n("b84d");function s(t,e,n,s){var o=!n;n||(n={});var a=-1,c=e.length;while(++a<c){var l=e[a],u=s?s(n[l],t[l],l,n,t):void 0;void 0===u&&(u=t[l]),o?Object(r["a"])(n,l,u):Object(i["a"])(n,l,u)}return n}e["a"]=s},f922:function(t,e,n){(function(e){t.exports=s;var n="function"===typeof e&&"function"===typeof e.isBuffer,i="function"===typeof ArrayBuffer,r=function(t){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer};function s(t){return n&&e.isBuffer(t)||i&&(t instanceof ArrayBuffer||r(t))}}).call(this,n("b639").Buffer)},f9d3:function(t,e,n){},fb67:function(t,e,n){"use strict";var i=n("109b"),r=n("32ea"),s=n("644e"),o=n("da0d");
/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const a=/^data:(\S*?);base64,/;class c{constructor(t,e,n){if(!t)throw new Error("File must be provided");if(!e)throw new Error("Token must be provided");if(!n)throw new Error("Api address must be provided");this.file=u(t)?l(t):t,this._token=e,this._apiAddress=n}onProgress(t){return this.on("progress",(e,n)=>t(n)),this}onError(t){return this.once("error",(e,n)=>t(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this,e=this.xhr;function n(e){return()=>t.fire("error",e)}e.addEventListener("error",n("Network Error")),e.addEventListener("abort",n("Abort")),e.upload&&e.upload.addEventListener("progress",t=>{t.lengthComputable&&this.fire("progress",{total:t.total,uploaded:t.loaded})}),e.addEventListener("load",()=>{const t=e.status,n=e.response;if(t<200||t>299)return this.fire("error",n.message||n.error)})}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise((n,i)=>{e.addEventListener("load",()=>{const t=e.status,r=e.response;return t<200||t>299?r.message?i(new Error(r.message)):i(r.error):n(r)}),e.addEventListener("error",()=>i(new Error("Network Error"))),e.addEventListener("abort",()=>i(new Error("Abort"))),e.send(t)})}}function l(t,e=512){try{const i=t.match(a)[1],r=atob(t.replace(a,"")),s=[];for(let t=0;t<r.length;t+=e){const n=r.slice(t,t+e),i=new Array(n.length);for(let t=0;t<n.length;t++)i[t]=n.charCodeAt(t);s.push(new Uint8Array(i))}return new Blob(s,{type:i})}catch(n){throw new Error("Problem with decoding Base64 image data.")}}function u(t){if("string"!==typeof t)return!1;const e=t.match(a);return!(!e||!e.length)}Object(s["a"])(c,o["c"]);var h=c;
/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class d{constructor(t,e){if(!t)throw new Error("Token must be provided");if(!e)throw new Error("Api address must be provided");this._token=t,this._apiAddress=e}upload(t){return new h(t,this._token,this._apiAddress)}}var f=n("da83");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class p extends i["a"]{static get requires(){return[r["a"],f["a"]]}init(){const t=this.editor,e=t.plugins.get(f["a"]),n=e.token,i=e.uploadUrl;n&&(this._uploadGateway=new p._UploadGateway(n,i),t.plugins.get(r["a"]).createUploadAdapter=(t=>{return new m(this._uploadGateway,t)}))}}class m{constructor(t,e){this.uploadGateway=t,this.loader=e}upload(){return this.loader.file.then(t=>{return this.fileUploader=this.uploadGateway.upload(t),this.fileUploader.on("progress",(t,e)=>{this.loader.uploadTotal=e.total,this.loader.uploaded=e.uploaded}),this.fileUploader.send()})}abort(){this.fileUploader.abort()}}p._UploadGateway=d;var g=n("39a0"),b=n("7212");n.d(e,"a",function(){return v});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class v extends i["a"]{static get requires(){return[p,g["a"],b["a"]]}static get pluginName(){return"EasyImage"}}},fc24:function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i extends Error{constructor(t,e,n,r="warn",s="CSError"){super(),this["constructor"]=i,this["__proto__"]=i["prototype"],this["code"]=t,this["data"]=n,this["type"]=s,this["level"]=r,this["message"]="["+this["type"]+"] "+this["code"],e&&(this["message"]+=": "+e)}get["eventName"](){return this["level"]+":"+this["code"]}static["fromJSON"]({code:t,message:e,data:n,level:r,type:s}){return new i(t,e,n,r,s)}}},fcd8:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("b199"),r=n("44f2"),s=n("644e"),o=n("e907"),a=n("da0d");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class c{constructor(t){this._children=[],t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"==t}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=l(e);for(const r of i)null!==r.parent&&r._remove(),r.parent=this,this._children.splice(t,0,r),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}}function l(t){return"string"==typeof t?[new i["a"](t)]:(Object(o["a"])(t)||(t=[t]),Array.from(t).map(t=>{return"string"==typeof t?new i["a"](t):t instanceof r["a"]?new i["a"](t.data):t}))}Object(s["a"])(c,a["c"])},fdf0:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("940e");n("3d1d");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class r extends i["a"]{constructor(t){super(t),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDesribedById");const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDesribedById")},on:{input:e.to("input")}})}render(){super.render();const t=t=>{this.element.value=t||0===t?t:""};t(this.value),this.on("change:value",(e,n,i)=>{t(i)})}select(){this.element.select()}focus(){this.element.focus()}}},fecc:function(t,e,n){},ff23:function(t,e,n){},ff51:function(t,e,n){"use strict";var i=Array.isArray;e["a"]=i},ff8c:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("f2ea"),r=n("da0d"),s=n("644e"),o=n("e47a"),a=n("758b");n("e800");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class c{constructor(){this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new i["b"]("view-node-not-found-in-parent: The node's parent does not contain this node.");return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;while(t.parent)t=t.parent;return t}get document(){return this.parent instanceof c?this.parent.document:null}getPath(){const t=[];let e=this;while(e.parent)t.unshift(e.index),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;while(n)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let r=0;while(n[r]==i[r]&&n[r])r++;return 0===r?null:n[r-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=Object(o["a"])(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=Object(a["a"])(this);return delete t.parent,t}is(t){return"node"==t}}Object(s["a"])(c,r["c"])},ffa0:function(t,e,n){}}]);